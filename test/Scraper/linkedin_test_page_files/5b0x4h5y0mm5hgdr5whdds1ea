define.alias("@glimmer/component/-private/ember-component-manager","msg-ui/component-managers/glimmer")
define.alias("artdeco-button/components/artdeco-button","msg-ui/components/artdeco-button")
define.alias("artdeco-card/components/artdeco-card-image","msg-ui/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","msg-ui/components/artdeco-card")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","msg-ui/components/artdeco-confirmation-dialog")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","msg-ui/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","msg-ui/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","msg-ui/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","msg-ui/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","msg-ui/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","msg-ui/components/artdeco-empty-state")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","msg-ui/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-ui/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","msg-ui/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","msg-ui/components/artdeco-loader")
define.alias("artdeco-modal/components/container","msg-ui/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","msg-ui/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","msg-ui/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","msg-ui/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","msg-ui/components/artdeco-modal")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","msg-ui/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","msg-ui/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","msg-ui/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","msg-ui/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","msg-ui/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","msg-ui/components/artdeco-pill-toggle")
define.alias("artdeco-slider/components/artdeco-slider","msg-ui/components/artdeco-slider")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","msg-ui/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","msg-ui/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","msg-ui/components/artdeco-text-input")
define.alias("artdeco-toggle/components/artdeco-toggle","msg-ui/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","msg-ui/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","msg-ui/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","msg-ui/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","msg-ui/components/artdeco-typeahead")
define("msg-ui/components/away-message-reminder-banner",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","ember-lifeline","@glimmer/component"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,c,u,p,g,h,b,f,v,y
const _=Ember.HTMLBars.template({id:"KsPzIc1l",block:'{"symbols":["assetLoader"],"statements":[[6,[37,1],[[32,0,["msgDataManager","awayMessageSettings","length"]]],null,[["default"],[{"statements":[[2,"  "],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[[24,0,"msg-away-message-reminder-banner"],[4,[38,5],[[30,[36,4],[[32,0,["handleStartTime"]],[32,0,["msgDataManager","awayMessageSettings","firstObject","timeRange","start"]]],null]],null],[4,[38,6],[[30,[36,4],[[32,0,["handleStartTime"]],[32,0,["msgDataManager","awayMessageSettings","firstObject","timeRange","start"]]],null]],null]],[["@message","@linkText","@onClick"],[[30,[36,1],[[32,0,["isActive"]],[30,[36,2],["i18n_away_message_on","msg-ui/components/away-message-reminder-banner"],null],[30,[36,2],["i18n_away_message_scheduled","msg-ui/components/away-message-reminder-banner"],null]],null],[30,[36,2],["i18n_update","msg-ui/components/away-message-reminder-banner"],null],[30,[36,3],["away_message_update",[30,[36,0],[[32,0],"awayMessageSettingsModalIsOpen",true],null]],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["awayMessageSettingsModalIsOpen"]]],null,[["default"],[{"statements":[[2,"  "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-shared-modals@away-message-settings-modal",[],[["@closeModal"],[[30,[36,0],[[32,0],"awayMessageSettingsModalIsOpen",false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"  "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["ember-set-helper@set","if","t","ember-cli-pemberly-tracking@tracked-action","fn","did-insert","did-update"]}',moduleName:"msg-ui/components/away-message-reminder-banner.hbs"})
let E=(m=Ember.inject.service("date"),d=Ember.inject.service("msg-data@data-manager"),c=Ember._tracked,u=Ember._tracked,p=Ember._action,g=(y=new WeakMap,class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"dateService",h,this);(0,t.default)(this,"msgDataManager",b,this);(0,t.default)(this,"currentTime",f,this);(0,t.default)(this,"isActive",v,this)
y.set(this,{writable:!0,value:null})}handleStartTime(e){if((0,i.default)(this,y)){(0,o.cancelTask)(this,(0,i.default)(this,y));(0,s.default)(this,y,null)}const t=e-this.dateService.now()
if(t>0){this.isActive=!1
Ember.testing||(0,s.default)(this,y,(0,o.runTask)(this,(()=>{this.isDestroying||(this.isActive=!0)}),t))}else this.isActive=!0}willDestroy(){super.willDestroy(...arguments);(0,o.runDisposables)(this)}}),h=(0,r.default)(g.prototype,"dateService",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,r.default)(g.prototype,"msgDataManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,r.default)(g.prototype,"currentTime",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,r.default)(g.prototype,"isActive",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(g.prototype,"handleStartTime",[p],Object.getOwnPropertyDescriptor(g.prototype,"handleStartTime"),g.prototype),g)
e.default=E
Ember._setComponentTemplate(_,E)}))
define("msg-ui/components/binary-reply-options",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"pHI1zUBI",block:'{"symbols":["@promptText","@rejectText","@rejectA11yText","@isReplyPending","@rejectTrackingKey","@actionTrackingPrefix","@sendRejectReply","@acceptText","@acceptA11yText","@acceptTrackingKey","@sendAcceptReply"],"statements":[[2,"\\n"],[10,"div"],[14,0,"msg-binary-reply-options__prompts t-12 t-normal"],[12],[2,"\\n  "],[1,[32,1]],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"msg-binary-reply-options__actions display-flex"],[12],[2,"\\n  "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[32,3]],[16,"data-control-name",[30,[36,0],[[32,6],[32,5]],null]],[4,[38,1],["click",[32,7]],null]],[["@text","@color","@type","@class","@disabled"],[[32,2],"muted","tertiary","msg-binary-reply-options__reject-button full-width",[32,4]]],[["default"],[{"statements":[[2,"\\n    "],[1,[32,2]],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n  "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[32,9]],[16,"data-control-name",[30,[36,0],[[32,6],[32,10]],null]],[4,[38,1],["click",[32,11]],null]],[["@text","@type","@class","@disabled"],[[32,8],"tertiary","msg-binary-reply-options__accept-button full-width",[32,4]]],[["default"],[{"statements":[[2,"\\n    "],[1,[32,8]],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["concat","on"]}',moduleName:"msg-ui/components/binary-reply-options.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/blocked-recipient",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"cnsq3ZXS",block:'{"symbols":["&attrs"],"statements":[[11,"div"],[24,0,"msg-s-conversation-block-user p4 t-12 t-black--light t-normal"],[17,1],[12],[2,"\\n  "],[10,"p"],[14,0,"t-12 t-black t-normal"],[12],[2,"\\n    "],[1,[30,[36,0],["i18n_blocked_recipient","msg-ui/components/blocked-recipient"],null]],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t"]}',moduleName:"msg-ui/components/blocked-recipient.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/compose-retry-loader",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"2cCV2YOL",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"msg-compose-retry-loader"],[12],[2,"\\n  "],[10,"p"],[14,0,"t-white text-align-center t-14 pt3"],[12],[1,[30,[36,0],["i18n_compose_sending","msg-ui/components/compose-retry-loader"],null]],[13],[2,"\\n  "],[8,"artdeco-loader@artdeco-loader",[[24,0,"msg-compose-retry-loader__spinner"]],[["@size"],["small"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["t"]}',moduleName:"msg-ui/components/compose-retry-loader.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,d,c,u,p,g,h,b,f,v,y,_,E
const w=Ember.HTMLBars.template({id:"tJwsUduh",block:'{"symbols":["assetLoader","typeahead","typeahead","@isOverlay","@draftConversation","@showDraftGroupConversation","@openEditGroupScreen","@bubbleId","@conversationName","@messageBarText","@messageRecipients","@openConversation","@composeToNonConnection","@setComposeContext","@recipientSuggestionEnabled","@shouldShowExpandedTypeahead","@bubble","@showRenameConversationForm","@toggleShowRenameConversation","@renamePageKey","@mutePageKey","@addParticipantsPageKey","@handleSuccessfulDiscardRequest","@isOriginalSize","@quickRepliesUseCase","@messagingSettings","@messageActions","@composeViewContext","@forwardedEvent","@invitationUrn","@isOpenedFromMsgButton","@hasDraft","@setHasDraft","@hasPrefilledConversationName","@conversation","@messageContext","@isNew","@isInMailCompose","@msgAdapterOptions","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@subject","@update","@smpContent","@is1on1Compose","@fetchedEventsProxy","@dragAndDropTrackingKeys","@sendMessageControlName","@customTrackingObject","@conversationDetailModuleKey","@muteConversationControlName","@fileUploadControlName","@imageUploadControlName","@imagePasteControlName","@composeModuleKey","@actionTrackingPrefix","@contextByRecipients","@contextWidth","@targetUrl","@showPremiumUpsell","@createDraftGroupConversation","@nextButtonDataControlName","@showGroupEditScreen"],"statements":[[2,"\\n"],[6,[37,0],[[32,64]],null,[["default","else"],[{"statements":[[2,"  "],[8,"msg-ui@msg-group-form/msg-group-form",[],[["@onNext","@prefilledRecipients","@prefilledMsgGroupName","@nextButtonDataControlName","@actionTrackingPrefix"],[[32,62],[32,11],[32,5,["name"]],[32,63],[32,57]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,61]],null,[["default","else"],[{"statements":[[2,"  "],[8,"msg-ui@premium-upsell",[],[["@contextUrn","@targetUrl"],[[32,0,["firstRecipient","entityUrn"]],[32,60]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["projectShineAnimationsEnabled"]]],null,[["default","else"],[{"statements":[[2,"    "],[8,"msg-ui@delay-remove-from-dom",[],[["@renderIf","@delay","@hideClass"],[[32,0,["showConnectionsTypeahead"]],132,"msg-connections-typeahead__animate-fade-out"]],[["default"],[{"statements":[[2,"\\n      "],[8,"msg-typeahead@connections-typeahead",[[24,0,"mbA"]],[["@a11yText","@placeholder","@prefilledRecipients","@recipientsChanged","@openConversation","@composeToNonConnection","@setComposeContext","@includeCoworkerResults","@includeGroupConversationResults","@includeNonConnectionResults","@enableGroupMessageRequests","@recipientSuggestionEnabled","@searchResultContainerClass","@hasInitialFocus","@withSuggestedList","@actionOnTypeaheadEnter"],[[30,[36,2],["i18n_new_compose_recipients_label","msg-ui/components/compose"],null],[30,[36,0],[[32,10],[32,10],[30,[36,2],["i18n_type_name_or_multiple_names","msg-ui/components/compose"],null]],null],[32,11],[32,0,["recipientsChanged"]],[32,12],[32,13],[32,14],true,true,true,true,[32,15],[30,[36,0],[[32,16],"msg-connections-typeahead__search-results--jumbo-bubble-expanded","msg-connections-typeahead__search-results--expanded"],null],"true",[32,0,["enableComposeRecipientSuggestion"]],[32,0,["focusOnComposeForm"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,0,["showSuggestedRecipientTray"]]],null,[["default"],[{"statements":[[2,"          "],[8,"msg-conversation-ui@suggested-recipients-tray",[],[["@addRecipientToTypeahead","@suggestedRecipients"],[[32,3,["addRecipient"]],[32,0,["suggestedRecipients"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[3]}]]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["showConnectionsTypeahead"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-typeahead@connections-typeahead",[[24,0,"mbA"]],[["@a11yText","@placeholder","@prefilledRecipients","@recipientsChanged","@openConversation","@composeToNonConnection","@setComposeContext","@includeCoworkerResults","@includeGroupConversationResults","@includeNonConnectionResults","@enableGroupMessageRequests","@recipientSuggestionEnabled","@searchResultContainerClass","@withSuggestedList","@actionOnTypeaheadEnter"],[[30,[36,2],["i18n_new_compose_recipients_label","msg-ui/components/compose"],null],[30,[36,0],[[32,10],[32,10],[30,[36,2],["i18n_type_name_or_multiple_names","msg-ui/components/compose"],null]],null],[32,11],[32,0,["recipientsChanged"]],[32,12],[32,13],[32,14],true,true,true,true,[32,15],[30,[36,0],[[32,16],"msg-connections-typeahead__search-results--jumbo-bubble-expanded","msg-connections-typeahead__search-results--expanded"],null],[32,0,["enableComposeRecipientSuggestion"]],[32,0,["focusOnComposeForm"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,0,["showSuggestedRecipientTray"]]],null,[["default"],[{"statements":[[2,"          "],[8,"msg-conversation-ui@suggested-recipients-tray",[],[["@addRecipientToTypeahead","@suggestedRecipients"],[[32,2,["addRecipient"]],[32,0,["suggestedRecipients"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["showNewConversationRename"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"msg-s-thread-actions-tray__item msg-s-thread-actions-tray__item--rename msg-s-thread-actions-tray__item--rename-is-for-new-conversation pv2 ph3"],[12],[2,"\\n      "],[10,"label"],[14,0,"mb1 mt0"],[15,"for",[30,[36,1],["msg-s-thread-actions-tray__rename-input-",[32,8]],null]],[12],[2,"\\n        "],[1,[30,[36,2],["i18n_group_name","msg-ui/components/compose"],null]],[2,"\\n      "],[13],[2,"\\n      "],[8,"input",[[24,"maxlength","300"],[24,0,"msg-s-thread-actions-tray__rename-input t-20 t-black t-light"],[16,1,[30,[36,1],["msg-s-thread-actions-tray__rename-input-",[32,8]],null]],[16,"placeholder",[30,[36,2],["i18n_group_name_placeholder","msg-ui/components/compose"],null]]],[["@type","@value"],["text",[32,9]]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["showGroupProfileCard"]]],null,[["default"],[{"statements":[[2,"    "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-conversation-ui@profile-card-group",[],[["@classNames","@isOverlay","@conversation","@recipientProfiles","@recipientNames","@showDraftGroupConversation","@customRollupClickAction"],["pv4",[32,4],[32,5],[32,5,["recipients"]],[32,5,["participantNames"]],[32,6],[32,7]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[2,"  "],[8,"msg-ui@thread",[],[["@bubbleId","@bubble","@draftConversation","@openConversation","@noConvoHistoryInNewConvo","@setNoConvoHistoryInNewConvo","@composeToNonConnection","@showRenameConversationForm","@toggleShowRenameConversation","@renamePageKey","@mutePageKey","@addParticipantsPageKey","@isOverlay","@handleSuccessfulDiscardRequest","@isOriginalSize","@quickRepliesUseCase","@messagingSettings","@messageActions","@composeViewContext","@forwardedEvent","@invitationUrn","@isOpenedFromMsgButton","@hasDraft","@setHasDraft","@hasPrefilledConversationName","@conversation","@messageRecipients","@messageContext","@isGroupChatCompose","@isNew","@isInMailCompose","@msgAdapterOptions","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@showOneToOneProfileCard","@subject","@update","@smpContent","@is1on1Compose","@fetchedEventsProxy","@isMessageRequestCompose","@didSubmitMessage","@dragAndDropTrackingKeys","@sendMessageControlName","@customTrackingObject","@conversationDetailModuleKey","@muteConversationControlName","@fileUploadControlName","@imageUploadControlName","@imagePasteControlName","@composeModuleKey","@actionTrackingPrefix","@contextByRecipients","@contextWidth","@conversationName"],[[32,8],[32,17],[32,5],[32,12],[32,0,["noConvoHistoryInNewConvo"]],[32,0,["setNoConvoHistoryInNewConvo"]],[32,13],[32,18],[32,19],[32,20],[32,21],[32,22],[32,4],[32,23],[32,24],[32,25],[32,26],[32,27],[32,28],[32,29],[32,30],[32,31],[32,32],[32,33],[32,34],[32,35],[32,11],[32,36],[32,6],[32,37],[32,38],[32,39],[32,40],[32,41],[32,42],[32,0,["showOneToOneProfileCard"]],[32,43],[32,44],[32,45],[32,46],[32,47],[32,0,["isMessageRequestCompose"]],[32,0,["didSubmitMessage"]],[32,48],[32,49],[32,50],[32,51],[32,52],[32,53],[32,54],[32,55],[32,56],[32,57],[32,58],[32,59],[32,9]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["if","concat","t"]}',moduleName:"msg-ui/components/compose.hbs"})
let M=(a=Ember.inject.service("jet"),o=Ember.inject.service("lix"),l=Ember.inject.service("msg-data@data-manager"),m=Ember._tracked,d=Ember._tracked,c=Ember._tracked,u=Ember._action,p=Ember._action,g=Ember._action,h=class extends r.default{get showNewConversationRename(){return this.args.isNew&&Ember.get(this.args,"messageRecipients.length")>1&&!Ember.get(this.args,"conversation.id")&&!this.args.showDraftGroupConversation}get showSuggestedRecipientTray(){return this.args.isNew&&this.hasEnoughRecipientsToTriggerSuggestionsTray&&!this.args.showDraftGroupConversation}get hasEnoughRecipientsToTriggerSuggestionsTray(){var e
const t=null!==(e=Ember.get(this.args,"messageRecipients.length"))&&void 0!==e?e:0
return!!(this.args.update&&t>=1)||t>1}get showConnectionsTypeahead(){return this.args.isNew&&!this.args.isInMailCompose&&!(this.isMessageRequestCompose&&this.args.isOpenedFromMsgButton)&&!this.args.showDraftGroupConversation&&!this.args.showGroupEditScreen&&!this.args.is1on1Compose}get firstRecipient(){return Ember.get(this.args,"messageRecipients.0")}get showOneToOneProfileCard(){return!this.args.isInMailCompose&&!this.loadingConvoHistory&&1===Ember.get(this.args,"messageRecipients.length")}get showGroupProfileCard(){return this.args.showDraftGroupConversation&&!Ember.get(this.args,"conversation.id")}get isHighIntentMessagingCompose(){return Ember.get(this.args,"messageContext")&&"HIGH_INTENT"===Ember.get(this.args,"messageContext.composeOptionType")&&this.lix.getTreatmentIsEnabled("voyager.web.smp-enable-high-intent-messaging")}get isMessageRequestCompose(){return!this.isHighIntentMessagingCompose&&Ember.get(this.args,"messageContext")}get projectShineAnimationsEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-animations")}constructor(){super(...arguments);(0,t.default)(this,"jet",b,this);(0,t.default)(this,"lix",f,this);(0,t.default)(this,"msgDataManager",v,this);(0,t.default)(this,"noConvoHistoryInNewConvo",y,this);(0,t.default)(this,"loadingConvoHistory",_,this);(0,t.default)(this,"suggestedRecipients",E,this)
this.args.hasPrefilledConversationName||!Ember.get(this.args,"messageRecipients.length")||this.groupConversationName||this.args.showGroupEditScreen||this._setConvoHistoryWithRecipients(this.args.messageRecipients)}_setConvoHistoryWithRecipients(e){if(!e||!e.length){this.noConvoHistoryInNewConvo=!1
return Ember.RSVP.reject()}this.loadingConvoHistory=!0
return this.msgDataManager.fetchLatestConversationByRecipients(e).then((e=>{if(!this.isDestroying){if(e){var t,n
null===(t=(n=this.args).onConversationFetched)||void 0===t||t.call(n,e,Ember.get(e,"id"),this.args.isNew)
this.args.isInMailCompose&&this.jet.info(new Error("Loaded conversation history with InMail compose"),["convo-history_inmail-compose"],{shouldRethrow:!1})
this.args.invitationUrn&&this.jet.info(new Error("Loaded conversation history with invitation urn"),["convo-history_invitation"],{shouldRethrow:!1})}this.noConvoHistoryInNewConvo=!e}})).finally((()=>{this.loadingConvoHistory=!1}))}_fetchSuggestedRecipients(){const e=Ember.get(this.args,"messageRecipients").map((e=>Ember.get(e,"entityUrn")))
return this.msgDataManager.fetchSuggestedRecipients(!1,e)}_filterOutSelectedRecipients(e){const t=new Set(Ember.get(this.args,"messageRecipients").map((e=>Ember.get(e,"entityUrn"))))
return null==e?void 0:e.filter((e=>!t.has(Ember.get(e,"entityUrn"))))}recipientsChanged(e,t){this.args.recipientsChanged(e,t)
this.args.hasPrefilledConversationName||this._setConvoHistoryWithRecipients(e)
this.hasEnoughRecipientsToTriggerSuggestionsTray&&this._fetchSuggestedRecipients().then((e=>{this.isDestroying||(this.suggestedRecipients=this._filterOutSelectedRecipients(e))}))}didSubmitMessage(e){var t,n
this.noConvoHistoryInNewConvo=!1
null===(t=(n=this.args).didSubmitMessage)||void 0===t||t.call(n,e)}focusOnComposeForm(){const{activeElement:e}=document
if(e.classList.contains("msg-connections-typeahead__search-field")){var t,n
null===(t=e.closest(".msg-convo-wrapper"))||void 0===t||null===(n=t.querySelector(".msg-form__contenteditable"))||void 0===n||n.focus()}}},b=(0,s.default)(h.prototype,"jet",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(h.prototype,"lix",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(h.prototype,"msgDataManager",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(h.prototype,"noConvoHistoryInNewConvo",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=(0,s.default)(h.prototype,"loadingConvoHistory",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=(0,s.default)(h.prototype,"suggestedRecipients",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(h.prototype,"recipientsChanged",[u],Object.getOwnPropertyDescriptor(h.prototype,"recipientsChanged"),h.prototype),(0,s.default)(h.prototype,"didSubmitMessage",[p],Object.getOwnPropertyDescriptor(h.prototype,"didSubmitMessage"),h.prototype),(0,s.default)(h.prototype,"focusOnComposeForm",[g],Object.getOwnPropertyDescriptor(h.prototype,"focusOnComposeForm"),h.prototype),h)
e.default=M
Ember._setComponentTemplate(w,M)}))
define("msg-ui/components/conversation-error-state",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"T4OHAnJQ",block:'{"symbols":["@bubble"],"statements":[[10,"article"],[14,0,"flex-1"],[12],[2,"\\n  "],[10,"section"],[14,0,"msg-overlay-conversation-error-state relative flex-grow-1"],[12],[2,"\\n    "],[8,"artdeco-empty-state@artdeco-empty-state",[],[["@actionText","@headline","@illustration","@mercadoSize","@message","@onButtonClick","@size"],[[30,[36,0],["i18n_try_again","msg-ui/components/conversation-error-state"],null],[30,[36,0],["i18n_load_failed_headline","msg-ui/components/conversation-error-state"],null],"error-crossing",2,[30,[36,0],["i18n_load_failed_message","msg-ui/components/conversation-error-state"],null],[30,[36,1],[[32,1,["retryMethod"]],[32,1,["paramsForRetryMethod"]]],null],2]],null],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","fn"]}',moduleName:"msg-ui/components/conversation-error-state.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/conversation-loading-state",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"WWtuhwhk",block:'{"symbols":[],"statements":[[10,"article"],[14,0,"msg-overlay-conversation-loading-state flex-1"],[12],[2,"\\n  "],[10,"section"],[14,0,"msg-overlay-conversation-loading-state__loader"],[12],[2,"\\n    "],[8,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]],null],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"msg-ui/components/conversation-loading-state.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/conversation-preview",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","urn-utils","extended/config/environment","msg-shared/utils/user-visible-exception-helper","global-helpers/helpers/load"],(function(e,t,n,s,i,r,a,o,l,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,c,u,p,g,h,b,f,v,y,_,E,w,M,C,k,T,x,S,P,O,I,D,A,R,j,N,L,F,z,U
const B=Ember.HTMLBars.template({id:"j27sSEdI",block:'{"symbols":["participant"],"statements":[[10,"article"],[14,0,"msg-overlay-conversation-preview display-flex flex-column flex-1"],[12],[2,"\\n"],[6,[37,5],[[32,0,["conversationPreviewLoadState","isLoading"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__loader"],[12],[2,"\\n      "],[8,"artdeco-loader@artdeco-loader",[[24,0,"center-both"]],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[32,0,["isVoyagerApiUserVisibleError"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__section relative flex-grow-1"],[12],[2,"\\n      "],[10,"div"],[14,0,"msg-overlay-conversation-preview__user-visible-error"],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-overlay-conversation-preview__user-visible-error-illustration"],[12],[13],[2,"\\n        "],[10,"p"],[14,0,"msg-overlay-conversation-preview__user-visible-error-text"],[12],[2,"\\n          "],[1,[32,0,["localizedErrorMessageFromApi"]]],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[32,0,["isNotJoinableError"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__section relative flex-grow-1"],[12],[2,"\\n      "],[8,"artdeco-empty-state@artdeco-empty-state",[[24,0,"msg-overlay-conversation-preview__error-state"]],[["@headline","@illustration","@message","@size"],[[30,[36,1],["i18n_error_not_joinable_headline","msg-ui/components/conversation-preview"],null],"missing-piece",[30,[36,1],["i18n_error_not_joinable_message","msg-ui/components/conversation-preview"],null],2]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[32,0,["isRetrievalError"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__section relative flex-grow-1"],[12],[2,"\\n      "],[8,"artdeco-empty-state@artdeco-empty-state",[[24,0,"msg-overlay-conversation-preview__error-state"]],[["@headline","@illustration","@message","@size"],[[30,[36,1],["i18n_error_preview_failed_headline","msg-ui/components/conversation-preview"],null],"sad-browser",[30,[36,1],["i18n_error_preview_failed_message","msg-ui/components/conversation-preview"],null],2]],null],[2,"\\n      "],[11,"button"],[24,0,"artdeco-button artdeco-button--secondary artdeco-button--2 block mt2 mhA"],[24,4,"button"],[4,[38,6],["click",[32,0,["retryPreview"]]],null],[12],[2,"\\n        "],[1,[30,[36,1],["i18n_error_preview_retry_message","msg-ui/components/conversation-preview"],null]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"display-flex flex-column flex-grow-1 relative"],[12],[2,"\\n      "],[10,"section"],[14,0,"msg-overlay-conversation-preview__header-box flex-grow-zero text-align-center p4"],[12],[2,"\\n        "],[10,"h3"],[14,0,"t-18 t-bold mb2"],[12],[1,[32,0,["preview","title"]]],[13],[2,"\\n        "],[10,"h4"],[14,0,"t-12 t-black--light"],[12],[1,[32,0,["preview","subtitle"]]],[13],[2,"\\n      "],[13],[2,"\\n\\n      "],[10,"h3"],[14,0,"t-14 t-black mt4 mb2 ml3"],[12],[1,[30,[36,1],["i18n_people_header","msg-ui/components/conversation-preview"],null]],[13],[2,"\\n      "],[10,"section"],[14,0,"msg-overlay-conversation-preview__participants-section relative flex-grow-1"],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-overlay-conversation-preview__participants-box scrollable"],[12],[2,"\\n          "],[10,"ul"],[14,0,"msg-overlay-conversation-preview__participant-list pl3"],[12],[2,"\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,["preview","participants"]]],null]],null]],null,[["default"],[{"statements":[[2,"              "],[10,"li"],[14,0,"msg-overlay-conversation-preview__participant-card display-flex"],[12],[2,"\\n"],[6,[37,2],[[32,0,["profileRoute"]],[32,1,["messagingMember","miniProfile","publicIdentifier"]]],[["class","data-control-name"],["mr2 pv2 flex-shrink-zero","overlay.ltj_preview_click_profile"]],[["default"],[{"statements":[[2,"                  "],[8,"presence@entity-with-presence",[],[["@imageClasses","@miniProfile","@size"],["overlay-conversation-preview__participant-img",[32,1,["messagingMember","miniProfile"]],3]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[2,"                "],[10,"div"],[14,0,"msg-overlay-conversation-preview__participant-name-headline flex-grow-1 overflow-hidden pv2 pr3"],[12],[2,"\\n"],[6,[37,2],[[32,0,["profileRoute"]],[32,1,["messagingMember","miniProfile","publicIdentifier"]]],[["data-control-name"],["overlay.ltj_preview_click_profile"]],[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"t-14 t-black t-bold"],[12],[2,"\\n                      "],[1,[30,[36,1],["i18n_participant_fullname","msg-ui/components/conversation-preview"],[["participant"],[[30,[36,0],[[32,1,["messagingMember","miniProfile"]]],null]]]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                  "],[10,"span"],[14,0,"t-12 t-black--light pl1"],[12],[2,"\\n                    "],[1,[30,[36,1],["i18n_participant_distance","msg-ui/components/conversation-preview"],[["distance"],[[32,1,["distance","value"]]]]]],[2,"\\n                  "],[13],[2,"\\n                  "],[10,"p"],[14,0,"t-14 t-black--light t-normal overflow-hidden truncate"],[12],[2,"\\n                    "],[1,[32,1,["messagingMember","miniProfile","occupation"]]],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n              "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"          "],[13],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n"],[6,[37,5],[[32,0,["conversationPreviewLoadState","isLoading"]]],null,[["default"],[{"statements":[[2,"        "],[10,"section"],[14,0,"msg-overlay-conversation-preview__loader msg-overlay-conversation-preview__loader-with-mask"],[12],[2,"\\n          "],[8,"artdeco-loader@artdeco-loader",[[24,0,"center-both"]],[[],[]],null],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"footer"],[14,0,"msg-overlay-conversation-preview__footer flex-grow-zero"],[12],[2,"\\n"],[6,[37,5],[[32,0,["voyagerApiNotJoinableReason"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"msg-overlay-conversation-preview__not-joinable-display"],[12],[2,"\\n          "],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@type","@message"],["note",[32,0,["voyagerApiNotJoinableReason"]]]],null],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[10,"div"],[14,0,"pv3 ph4"],[12],[2,"\\n        "],[11,"button"],[24,0,"artdeco-button artdeco-button--primary artdeco-button--3 full-width"],[16,"disabled",[32,0,["isJoinButtonDisabled"]]],[24,"data-control-name","overlay.ltj_preview_join_groupchat"],[24,4,"button"],[4,[38,6],["click",[32,0,["onJoin"]]],null],[12],[2,"\\n          "],[1,[30,[36,1],["i18n_join_group_chat","msg-ui/components/conversation-preview"],null]],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["global-helpers@name","t","ember-engines@link-to-external","-track-array","each","if","on"]}',moduleName:"msg-ui/components/conversation-preview.hbs"})
let H=(d=Ember.inject.service("lix"),c=Ember._tracked,u=Ember._tracked,p=Ember._tracked,g=Ember._tracked,h=Ember._tracked,b=Ember._tracked,f=Ember._tracked,v=Ember.inject.service("store"),y=Ember.inject.service("i18n"),_=Ember.inject.service("jet"),E=Ember.inject.service("client-sensor-web@client-sensor"),w=Ember.inject.service("msg-data@data-manager"),M=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),C=Ember._action,k=Ember._action,T=class extends r.default{get profileRoute(){return this.lix.getTreatmentIsEnabled("voyager.web.profile-tetris")?"profile.common.profile":"profile.view"}get isJoinButtonDisabled(){var e
return this.voyagerApiNotJoinableReason||(null===(e=this.conversationJoinLoadState)||void 0===e?void 0:e.isLoading)}constructor(){super(...arguments);(0,t.default)(this,"lix",x,this);(0,t.default)(this,"conversationPreviewLoadState",S,this);(0,t.default)(this,"conversationJoinLoadState",P,this);(0,t.default)(this,"isVoyagerApiUserVisibleError",O,this);(0,t.default)(this,"isRetrievalError",I,this);(0,t.default)(this,"isNotJoinableError",D,this);(0,t.default)(this,"voyagerApiNotJoinableReason",A,this);(0,t.default)(this,"localizedErrorMessageFromApi",R,this);(0,n.default)(this,"conversationPreviewURL","/messaging/conversationAccessCodePreviews?q=accessCode&accessCode=");(0,n.default)(this,"conversationJoinURL","/messaging/conversations?action=addViewerThroughAccessCode");(0,t.default)(this,"store",j,this);(0,t.default)(this,"i18n",N,this);(0,t.default)(this,"jet",L,this);(0,t.default)(this,"clientSensor",F,this);(0,t.default)(this,"msgDataManager",z,this);(0,t.default)(this,"persistentToastManager",U,this)
this.conversationPreviewLoadState=this._getConversationPreviewData(this.args.bubble.previewKey)}_showConversation(e){const{showConversation:t}=this.args
return t?t(e):this.msgDataManager.fetchConversation(e).then((t=>{if(!this.isDestroying){const n=this.msgDataManager.initEventCollection({name:e,conversationId:e}).fetchAndLoad()
Ember.setProperties(this.args.bubble,{conversation:t,fetchedEventsProxy:n,isConversationPreview:!1,isNew:!1})}}))}_getConversationPreviewData(e){return(0,m.load)(this.store.queryURL(`/${o.default.namespace}${this.conversationPreviewURL}${e}`,{reload:!0,method:"GET"}).then((e=>{if(!this.isDestroying){const t=Ember.get(e,"elements.firstObject")
if(t){if(Ember.get(t,"viewerInConversation")){const e=(0,a.extractEntityInfoFromUrn)(Ember.get(t,"conversationUrn")).id
return this._showConversation(e)}this.preview={title:Ember.get(t,"conversationTitle.text"),subtitle:Ember.get(t,"conversationSubtitle.text"),participants:Ember.get(t,"participants")}
Ember.get(t,"conversationJoinable")||(this.voyagerApiNotJoinableReason=Ember.get(t,"conversationNotJoinableReason.text"))}else this.isRetrievalError=!0}})).catch((t=>{if(!this.isDestroying){this.localizedErrorMessageFromApi=(0,l.default)(t)
if(this.localizedErrorMessageFromApi){this.isVoyagerApiUserVisibleError=!0
this.jet.error(new Error("Failed to load messenger group chat preview"),[this.localizedErrorMessageFromApi,e])}else{const n=Ember.get(t,"errors.firstObject.status")
if(n){404===parseInt(n,10)?this.isNotJoinableError=!0:this.isRetrievalError=!0
this.jet.error(new Error("Failed to load messenger group chat preview"),[n,e])}else this.isRetrievalError=!0}}throw t})))}retryPreview(){if(this.args.bubble.previewKey){this.isVoyagerApiUserVisibleError=!1
this.isNotJoinableError=!1
this.isRetrievalError=!1
this.conversationPreviewLoadState=this._getConversationPreviewData(this.args.bubble.previewKey)}}onJoin(){this.conversationJoinLoadState=(0,m.load)(this.store.adapterFor("-ember-m3").ajax(`/${o.default.namespace}${this.conversationJoinURL}`,"POST",{data:{accessCode:this.args.bubble.previewKey}}).then((e=>{this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"link-to-join-conversation-success"})
const t=(0,a.extractEntityInfoFromUrn)(Ember.get(e,"data.value")).id
this._showConversation(t)})).catch((e=>{this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"link-to-join-conversation-failure"})
if(!this.isDestroying){const t=(0,l.default)(e)
if(t){this.persistentToastManager.error({message:t})
this.jet.error(new Error("Failed to join group chat"),[t,this.args.bubble.previewKey])}else{const t=Ember.get(e,"errors.firstObject.status"),n=this.i18n.lookupTranslation("components/msg-ui@conversation-preview","i18n_join_failed_message")()
if(t){this.persistentToastManager.error({message:n})
this.jet.error(new Error("Failed to join group chat"),[n,this.args.bubble.previewKey])}else this.persistentToastManager.error({message:n})}}throw e})))}},x=(0,s.default)(T.prototype,"lix",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(T.prototype,"conversationPreviewLoadState",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(T.prototype,"conversationJoinLoadState",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(T.prototype,"isVoyagerApiUserVisibleError",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=(0,s.default)(T.prototype,"isRetrievalError",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=(0,s.default)(T.prototype,"isNotJoinableError",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=(0,s.default)(T.prototype,"voyagerApiNotJoinableReason",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,s.default)(T.prototype,"localizedErrorMessageFromApi",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,s.default)(T.prototype,"store",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,s.default)(T.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,s.default)(T.prototype,"jet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,s.default)(T.prototype,"clientSensor",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,s.default)(T.prototype,"msgDataManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,s.default)(T.prototype,"persistentToastManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(T.prototype,"retryPreview",[C],Object.getOwnPropertyDescriptor(T.prototype,"retryPreview"),T.prototype),(0,s.default)(T.prototype,"onJoin",[k],Object.getOwnPropertyDescriptor(T.prototype,"onJoin"),T.prototype),T)
e.default=H
Ember._setComponentTemplate(B,H)}))
define("msg-ui/components/conversation-unspam",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/custom-tracking","msg-shared/utils/constants"],(function(e,t,n,s,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,m,d,c,u,p,g,h,b,f
const v=Ember.HTMLBars.template({id:"hzsRoJAJ",block:'{"symbols":["&attrs"],"statements":[[11,"div"],[24,0,"msg-s-conversation-unspam pt2 pb3 ph3 text-align-center"],[17,1],[12],[2,"\\n  "],[10,"p"],[14,0,"t-12 t-black t-normal pb2"],[12],[2,"\\n    "],[1,[30,[36,0],["i18n_spam_info_message","msg-ui/components/conversation-unspam"],null]],[2,"\\n  "],[13],[2,"\\n  "],[8,"artdeco-button@artdeco-button",[],[["@class","@click","@type"],["full-width",[32,0,["unspamConversation"]],"secondary"]],[["default"],[{"statements":[[2,"\\n    "],[1,[30,[36,0],["i18n_move_to_inbox","msg-ui/components/conversation-unspam"],null]],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["t"]}',moduleName:"msg-ui/components/conversation-unspam.hbs"}),{ACTION_TYPES:y,CONTROL_NAMES:_}=o.default
let E=(l=Ember.inject.service("msg-data@data-manager"),m=Ember.inject.service("i18n"),d=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),c=Ember.inject.service("tracking"),u=Ember._action,p=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"i18n",h,this);(0,t.default)(this,"persistentToastManager",b,this);(0,t.default)(this,"tracking",f,this)}unspamConversation(){this.msgDataManager.unspamConversation(this.args.conversation).then((()=>{var e,t
const n=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_unspam_success")()
this.persistentToastManager.success({message:n})
a.default.fireDetailActionEvent({actionType:y.UNSPAM,controlName:_.CONVERSATION.UNSPAM,conversation:this.args.conversation,trackingService:this.tracking})
null===(e=(t=this.args).redirectToActiveConversation)||void 0===e||e.call(t,Ember.get(this.args,"conversation.id"))})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_unspam_failed")()
this.persistentToastManager.error({message:t})
throw e}))}},g=(0,s.default)(p.prototype,"msgDataManager",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"i18n",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(p.prototype,"persistentToastManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(p.prototype,"tracking",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(p.prototype,"unspamConversation",[u],Object.getOwnPropertyDescriptor(p.prototype,"unspamConversation"),p.prototype),p)
e.default=E
Ember._setComponentTemplate(v,E)}))
define.alias("ember-vector-images/components/custom-image","msg-ui/components/custom-image")
define("msg-ui/components/declined-message-request-accept-banner",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m
const d=Ember.HTMLBars.template({id:"Pf7eziN1",block:'{"symbols":["&attrs","@senderName"],"statements":[[11,"div"],[24,0,"msg-declined-message-request-accept-banner"],[17,1],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-declined-message-request-accept-banner__description t-12 t-black--light t-normal"],[12],[2,"\\n    "],[1,[30,[36,0],["i18n_declined_message_request_description_v2","msg-ui/components/declined-message-request-accept-banner"],[["senderName"],[[32,2]]]]],[2,"\\n  "],[13],[2,"\\n  "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,0],["i18n_a11y_accept","msg-ui/components/declined-message-request-accept-banner"],[["senderName"],[[32,2]]]]]],[["@text","@size","@type","@class","@click","@disabled"],[[30,[36,0],["i18n_accept","msg-ui/components/declined-message-request-accept-banner"],null],3,"secondary","full-width",[32,0,["acceptDeclinedMessageRequest"]],[32,0,["isReplyPending"]]]],[["default"],[{"statements":[[2,"\\n    "],[1,[30,[36,0],["i18n_accept","msg-ui/components/declined-message-request-accept-banner"],null]],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["t"]}',moduleName:"msg-ui/components/declined-message-request-accept-banner.hbs"})
let c=(a=Ember._tracked,o=Ember._action,l=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"isReplyPending",m,this)}acceptDeclinedMessageRequest(){this.isReplyPending=!0
this.args.acceptMessageRequest().finally((()=>{this.isDestroying||(this.isReplyPending=!1)}))}},m=(0,s.default)(l.prototype,"isReplyPending",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(l.prototype,"acceptDeclinedMessageRequest",[o],Object.getOwnPropertyDescriptor(l.prototype,"acceptDeclinedMessageRequest"),l.prototype),l)
e.default=c
Ember._setComponentTemplate(d,c)}))
define("msg-ui/components/delay-remove-from-dom",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m
const d=Ember.HTMLBars.template({id:"GqQIa+8M",block:'{"symbols":["@hideClass","@renderIf","@containerClass","&default"],"statements":[[11,"div"],[16,0,[31,[[30,[36,0],[[32,0,["shouldRender"]],[32,3]],null]]]],[4,[38,1],[[32,0,["onUpdate"]],[32,2]],null],[4,[38,2],[[32,0,["onUpdate"]]],null],[12],[2,"\\n"],[6,[37,0],[[32,0,["shouldRender"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[15,0,[31,[[32,3]," ",[30,[36,0],[[32,2],"",[32,1]],null]]]],[12],[2,"\\n      "],[18,4,null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["if","did-update","did-insert"]}',moduleName:"msg-ui/components/delay-remove-from-dom.hbs"})
let c=(a=Ember._tracked,o=Ember._action,l=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"shouldRender",m,this)}onUpdate(){this.args.renderIf?this.shouldRender=!0:Ember.run.later((()=>{this.shouldRender=!1}),this.args.delay)}},m=(0,s.default)(l.prototype,"shouldRender",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(l.prototype,"onUpdate",[o],Object.getOwnPropertyDescriptor(l.prototype,"onUpdate"),l.prototype),l)
e.default=c
Ember._setComponentTemplate(d,c)}))
define.alias("ember-wormhole/components/ember-wormhole","msg-ui/components/ember-wormhole")
define("msg-ui/components/focused-inbox-tabs",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"4U0EvNz/",block:'{"symbols":["tabs","tablist","@currentSelection","@onPrimaryTabSelect","@onSecondaryTabSelect","@showSecondaryTabBadge"],"statements":[[8,"ember-cli-artdeco-tabs@artdeco-tabs",[[24,0,"msg-focused-inbox-tabs"]],[["@selection","@align"],[[32,3],"centered"]],[["default"],[{"statements":[[2,"\\n  "],[8,[32,1,["tablist"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n    "],[8,[32,2,["tab"]],[],[["@model","@on-select"],["PRIMARY",[32,4]]],[["default"],[{"statements":[[2,"\\n      "],[1,[30,[36,0],["i18n_inbox_tab_focused","msg-ui/components/focused-inbox-tabs"],null]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[8,[32,2,["tab"]],[],[["@model","@on-select"],["SECONDARY",[32,5]]],[["default"],[{"statements":[[2,"\\n      "],[1,[30,[36,0],["i18n_inbox_tab_other","msg-ui/components/focused-inbox-tabs"],null]],[2,"\\n"],[6,[37,1],[[32,6]],null,[["default"],[{"statements":[[2,"        "],[10,"span"],[14,0,"msg-focused-inbox-tabs__badge"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n  "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["t","if"]}',moduleName:"msg-ui/components/focused-inbox-tabs.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/forward-preview",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,d
const c=Ember.HTMLBars.template({id:"QULjOR3z",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"msg-s-forward-preview__forwarded-item mv2 t-14 t-black"],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-s-forward-preview__forwarded-from"],[12],[2,"\\n    "],[8,"msg-ui@primitives/event-listitem-avatar",[],[["@sender","@size","@profileRoute"],[[32,0,["from"]],1,[32,0,["profileRoute"]]]],null],[2,"\\n    "],[10,"div"],[12],[2,"\\n      "],[8,"ember-engines@link-to-external",[[4,[38,0],["view_profile"],null]],[["@route","@model","@class"],[[32,0,["profileRoute"]],[32,0,["publicIdentifier"]],"msg-s-message-group__profile-link"]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[14,0,"msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[12],[2,"\\n          "],[1,[32,0,["from","fullName"]]],[2,"\\n        "],[13],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[2,"  "],[10,"p"],[14,0,"msg-s-forward-preview__forwarded-body msg-form__reshared-content t-14 t-normal"],[12],[2,"\\n    "],[1,[32,0,["message"]]],[2,"\\n  "],[13],[2,"\\n  "],[10,"div"],[14,0,"msg-s-forward-preview__forwarded-details t-12 t-black--light t-normal"],[12],[2,"\\n    "],[10,"span"],[12],[2,"\\n      "],[1,[30,[36,1],["i18n_forwarded_label","msg-ui/components/forward-preview"],null]],[2,"\\n    "],[13],[2,"\\n    "],[10,"time"],[14,0,"msg-s-message-group__timestamp white-space-nowrap"],[12],[2,"\\n      "],[1,[30,[36,1],["i18n_original_sent_date","msg-ui/components/forward-preview"],[["dayMonth","hourMinute"],[[30,[36,3],[[32,0,["createdAt"]]],[["format","useTimeZone"],["fmt_md_medium",true]]],[30,[36,2],[[32,0,["createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["ember-cli-pemberly-tracking@track-interaction","t","ember-cli-pemberly-i18n@format-time","ember-cli-pemberly-i18n@format-date"]}',moduleName:"msg-ui/components/forward-preview.hbs"})
let u=(a=Ember.inject.service("msg-data@data-manager"),o=Ember.inject.service("lix"),l=class extends r.default{get profileRoute(){return this.lix.getTreatmentIsEnabled("voyager.web.profile-tetris")?"profile.common.profile":"profile.view"}constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",m,this);(0,t.default)(this,"lix",d,this)
if(this.args.forwardedEvent)Ember.setProperties(this,{from:Ember.get(this.args.forwardedEvent,"from"),publicIdentifier:Ember.get(this.args.forwardedEvent,"from.miniProfile.publicIdentifier"),createdAt:Ember.get(this.args.forwardedEvent,"createdAt"),message:Ember.get(this.args.forwardedEvent,"eventContent.attributedBody.text")})
else{const e=Ember.get(this.args.forwardedContent,"originalFrom"),t=this.msgDataManager.viewModelWrappers.wrapMessagingEntity(e),n=Ember.get(this.args.forwardedContent,"originalFrom.miniProfile.publicIdentifier"),s=Ember.get(this.args.forwardedContent,"originalCreatedAt"),i=Ember.get(this.args.forwardedContent,"forwardedBody.text")
Ember.setProperties(this,{from:t,publicIdentifier:n,createdAt:s,message:i})}}},m=(0,s.default)(l.prototype,"msgDataManager",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,s.default)(l.prototype,"lix",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=u
Ember._setComponentTemplate(c,u)}))
define.alias("ember-highcharts/components/high-charts","msg-ui/components/high-charts")
define("msg-ui/components/i18n-shared",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"PfvUYgUm",block:'{"symbols":[],"statements":[[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"msg-ui/components/i18n-shared.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/inbox-onboarding-widget",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,d,c,u,p,g
const h=Ember.HTMLBars.template({id:"PTVULoqy",block:'{"symbols":["@primaryActionText","&default","&attrs","@title","@onDismiss","@text","@onPrimary"],"statements":[[6,[37,2],[[32,0,["widgetTrackingToken"]]],null,[["default"],[{"statements":[[6,[37,2],[[30,[36,3],[[32,0,["widgetType"]],"simple"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"div"],[24,0,"msg-inbox-onboarding-widget--simple-layout"],[17,3],[12],[2,"\\n      "],[10,"p"],[14,0,"t-14 t-black--light"],[12],[2,"\\n        "],[1,[32,6]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,3],[[32,0,["widgetType"]],"basic"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"div"],[24,0,"msg-inbox-onboarding-widget--basic-layout"],[17,3],[12],[2,"\\n      "],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@class","@message","@linkText","@onClick","@type"],["mr1",[32,6],[32,1],[32,0,["legoWidgetPrimaryAction"]],"note"]],null],[2,"\\n      "],[8,"artdeco-button@artdeco-button",[],[["@class","@icon","@type","@color","@size","@circle","@click"],["msg-inbox-onboarding-widget--basic-cancel","cancel-icon","tertiary","muted",[32,0,["dismissButtonSize"]],true,[32,0,["legoWidgetDismissAction"]]]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,3],[[32,0,["widgetType"]],"full"],null]],null,[["default"],[{"statements":[[2,"    "],[11,"div"],[24,0,"msg-inbox-onboarding-widget"],[17,3],[12],[2,"\\n"],[6,[37,2],[[27,[32,2]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"msg-inbox-onboarding-widget__left-section-container"],[12],[2,"\\n          "],[18,2,[[30,[36,1],null,[["leftSection"],[[30,[36,0],["dummy-yield-wrapper@dummy-yield-wrapper"],null]]]]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[10,"div"],[14,0,"pt3"],[12],[2,"\\n        "],[10,"div"],[14,0,"display-flex justify-space-between align-items-center"],[12],[2,"\\n          "],[10,"span"],[14,0,"t-14 t-bold t-black mb1"],[12],[2,"\\n            "],[1,[32,4]],[2,"\\n          "],[13],[2,"\\n\\n"],[6,[37,2],[[32,5]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"pr1"],[12],[2,"\\n              "],[8,"artdeco-button@artdeco-button",[],[["@icon","@type","@color","@size","@circle","@click"],["cancel-icon","tertiary","muted",1,true,[32,0,["legoWidgetDismissAction"]]]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"p"],[14,0,"t-12 t-black--light pr3 pb4"],[12],[2,"\\n          "],[1,[32,6]],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,2],[[32,7]],null,[["default"],[{"statements":[[2,"          "],[8,"artdeco-button@artdeco-button",[],[["@text","@type","@size","@click"],[[32,1],"secondary",1,[32,0,["legoWidgetPrimaryAction"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n    "],[13],[2,"\\n  "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["component","hash","if","global-helpers@eq"]}',moduleName:"msg-ui/components/inbox-onboarding-widget.hbs"})
let b=(a=Ember.inject.service("lego@resolver"),o=Ember.inject.service("lego@tracking"),l=Ember._tracked,m=Ember._action,d=Ember._action,c=class extends r.default{get widgetType(){var e
return null!==(e=this.args.type)&&void 0!==e?e:"full"}get dismissButtonSize(){var e
return null!==(e=this.args.dismissButtonSize)&&void 0!==e?e:1}get impressOnRender(){var e
return null===(e=this.args.impressOnRender)||void 0===e||e}get sendPrimaryActionOnPrimaryActionClick(){var e
return null===(e=this.args.sendPrimaryActionOnPrimaryActionClick)||void 0===e||e}constructor(){super(...arguments);(0,t.default)(this,"legoResolver",u,this);(0,t.default)(this,"legoTracking",p,this);(0,t.default)(this,"widgetTrackingToken",g,this)
this._fetchLegoWidget()}_fetchLegoWidget(){return this.legoResolver.fireLegoCall(this.args.legoConfig).then((e=>{if(!this.isDestroying){if(!e){var t,n
null===(t=(n=this.args).onDismiss)||void 0===t||t.call(n)
return Ember.RSVP.reject()}this.widgetTrackingToken=Ember.get(e,"trackingToken")
if(this.widgetTrackingToken){var s,i
this.impressOnRender&&this._sendLegoImpression()
null===(s=(i=this.args).onImpression)||void 0===s||s.call(i)
this.args.dismissOnImpression&&this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}else{var r,a
null===(r=(a=this.args).onDismiss)||void 0===r||r.call(a)}return e}}))}_sendLegoImpression(){this.legoTracking.sendLegoImpression(this.widgetTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}legoWidgetPrimaryAction(){var e,t
this.sendPrimaryActionOnPrimaryActionClick&&this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY,1)
null===(e=(t=this.args).onPrimary)||void 0===e||e.call(t)}legoWidgetDismissAction(){var e,t
this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)
null===(e=(t=this.args).onDismiss)||void 0===e||e.call(t)}},u=(0,s.default)(c.prototype,"legoResolver",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,s.default)(c.prototype,"legoTracking",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,s.default)(c.prototype,"widgetTrackingToken",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,s.default)(c.prototype,"legoWidgetPrimaryAction",[m],Object.getOwnPropertyDescriptor(c.prototype,"legoWidgetPrimaryAction"),c.prototype),(0,s.default)(c.prototype,"legoWidgetDismissAction",[d],Object.getOwnPropertyDescriptor(c.prototype,"legoWidgetDismissAction"),c.prototype),c)
e.default=b
Ember._setComponentTemplate(h,b)}))
define("msg-ui/components/inmail-compose-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants","global-utils/utils/urn-converter"],(function(e,t,n,s,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,m,d,c,u,p,g,h,b,f,v,y,_,E,w,M,C,k,T,x,S,P,O,I,D,A,R
const j=Ember.HTMLBars.template({id:"O/icEgLU",block:'{"symbols":["components","actions","props","assetLoader","assetLoader","elements","@recipients","@msgAdapterOptions","@recipientOpenToFreeMessages","@composeViewContext","&attrs","@isOverlay","@prefilledMessage","@beforeUpload","@submitMessage","@smpContent","@dragAndDropTrackingKeys"],"statements":[[11,"div"],[17,11],[24,0,"msg-inmail-compose-form-v2 relative flex-1 white display-flex flex-column"],[4,[38,6],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_compose_inmail",[30,[36,5],[[30,[36,4],["outletState"],null],"render.name"],null],[30,[36,5],[[30,[36,4],["outletState"],null],"render"],null]]]],[12],[2,"\\n  "],[8,"artdeco-entity-lockup@artdeco-entity-lockup",[],[["@classNames","@size"],["msg-compose__inmail-compose-entity-lockup",2]],[["default"],[{"statements":[[2,"\\n    "],[8,"ember-engines@link-to-external",[],[["@route","@model"],[[32,0,["profileRoute"]],[32,7,["firstObject","publicIdentifier"]]]],[["default"],[{"statements":[[2,"\\n      "],[8,[32,6,["image"]],[],[["@type"],["circle"]],[["default"],[{"statements":[[2,"\\n        "],[8,"presence@entity-with-presence",[],[["@class","@miniProfile","@size"],["mr2",[32,7,["firstObject"]],2]],null],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[8,[32,6,["content"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n      "],[8,[32,6,["title"]],[],[["@altLink"],[true]],[["default"],[{"statements":[[2,"\\n        "],[8,"ember-engines@link-to-external",[],[["@route","@model","@class"],[[32,0,["profileRoute"]],[32,7,["firstObject","publicIdentifier"]],"msg-compose__profile-link"]],[["default"],[{"statements":[[2,"\\n          "],[1,[30,[36,7],null,[["firstName","lastName","type"],[[32,7,["firstObject","firstName"]],[32,7,["firstObject","lastName"]],"full"]]]],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n      "],[8,[32,6,["subtitle"]],[[24,0,"msg-compose__occupation"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[1,[32,7,["firstObject","occupation"]]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n  "]],"parameters":[6]}]]],[2,"\\n\\n  "],[8,"msg-ui@msg-form/primitives/subject-line-input",[],[["@subject","@updateSubject"],[[32,0,["subject"]],[32,0,["updateSubject"]]]],null],[2,"\\n\\n  "],[10,"div"],[14,0,"full-height"],[12],[2,"\\n    "],[8,"msg-ui@msg-form/base-form",[[16,0,[31,[[30,[36,8],[[32,12],"msg-form--thread"],null]," full-height"]]]],[["@msgAdapterOptions","@prefilledMessage","@beforeUpload","@submitMessage","@subject","@isInMailCompose","@isOverlay","@composeIsFullyExpanded","@smpContent","@validateForm"],[[32,8],[32,13],[32,14],[32,15],[32,0,["subject"]],true,[32,12],true,[32,16],[32,0,["validateForm"]]]],[["default"],[{"statements":[[2,"\\n      "],[8,[32,1,["attachmentDragAndDrop"]],[],[["@composeIsFullyExpanded","@trackingKeys"],[true,[32,17]]],null],[2,"\\n"],[6,[37,8],[[32,3,["showMiniAttachmentPreviews"]]],null,[["default"],[{"statements":[[2,"        "],[8,[32,1,["uploadAttachmentPreviews"]],[],[[],[]],null],[2,"\\n"],[6,[37,0],[[32,3,["attachmentDropErrorType"]]],null,[["default"],[{"statements":[[2,"          "],[8,[32,1,["attachmentDragAndDropErrorDisplay"]],[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "],[8,[32,1,["messageContentContainer"]],[[24,0,"msg-form__message-texteditor relative flex-grow-1 display-flex"]],[["@composeIsFullyExpanded","@labelText","@smpContent"],[true,[30,[36,1],["i18n_write_message","msg-ui/components/inmail-compose-form"],null],[32,16]]],null],[2,"\\n"],[6,[37,0],[[32,0,["messageExceedsLength"]]],null,[["default"],[{"statements":[[2,"        "],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@classNames","@type","@message"],["msg-form__compose-error p2","error",[30,[36,1],["i18n_inmail_too_long","msg-ui/components/inmail-compose-form"],[["messagelength"],[[32,0,["messageLength"]]]]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,10]],null,[["default","else"],[{"statements":[[6,[37,0],[[32,10,["footerText"]]],null,[["default"],[{"statements":[[2,"          "],[10,"section"],[15,0,[31,["msg-inmail-credits-display pv2 ph4\\n              ",[30,[36,0],[[32,9],"justify-flex-end"],null]]]],[12],[2,"\\n"],[6,[37,0],[[32,10,["footerIcon"]]],null,[["default"],[{"statements":[[2,"              "],[10,"span"],[14,0,"a11y-text"],[12],[2,"\\n                "],[1,[30,[36,1],["i18n_a11y_premium_badge","msg-ui/components/inmail-compose-form"],null]],[2,"\\n              "],[13],[2,"\\n              "],[1,[30,[36,2],null,[["type","size"],["premium-badge","8dp"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"p"],[14,0,"t-12 t-black--light t-normal"],[12],[2,"\\n              "],[1,[30,[36,3],[[32,10,["footerText"]]],null]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,5,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,[32,1,["inmailCreditsDisplay"]],[],[["@recipient","@inmailCredits","@isOpenLink","@loading","@recipientOpenToFreeMessages"],[[32,7,["firstObject"]],[32,0,["inmailCredits"]],[32,0,["isOpenLink"]],[32,0,["loadingInmailCreditsData"]],[32,8,["recipientOpenToFreeMessages"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[5]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[10,"footer"],[14,0,"msg-form__footer"],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-form__left-actions display-flex"],[12],[2,"\\n          "],[8,[32,1,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[30,[36,2],null,[["type"],["image-icon"]]],[30,[36,1],["i18n_attach_image","msg-ui/components/inmail-compose-form"],null],[32,3,["supportedImageAttachmentTypes"]],"image"]],null],[2,"\\n          "],[8,[32,1,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[30,[36,2],null,[["type"],["paperclip-icon"]]],[30,[36,1],["i18n_attach_file","msg-ui/components/inmail-compose-form"],null],[32,3,["supportedFileAttachmentTypes"]],"file"]],null],[2,"\\n          "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["emoji-picker"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,4,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"              "],[8,"emoji-picker@emoji-hoverable",[],[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[32,2,["updateTextarea"]],"msg_pillar_emoji",[32,2,["focusTextarea"]],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"          "]],"parameters":[4]}]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[2,"\\n          "],[8,[32,1,["sendControls"]],[],[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",false]],null],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "]],"parameters":[1,2,3]}]]],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","t","artdeco-icons-web@li-icon","text-view-model@text-view-model","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-render","ember-cli-pemberly-i18n@format-name","unless"]}',moduleName:"msg-ui/components/inmail-compose-form.hbs"}),{INMAIL_MAX_CHARACTERS:N}=a.default
let L=(l=Ember.inject.service("global-services@a11y-notification"),m=Ember.inject.service("profile-services@identity-store"),d=Ember.inject.service("msg-data@data-manager"),c=Ember.inject.service("i18n"),u=Ember.inject.service("lix"),p=Ember._tracked,g=Ember._tracked,h=Ember._tracked,b=Ember._tracked,f=Ember._tracked,v=Ember._tracked,y=Ember._tracked,_=Ember._action,E=Ember._action,w=class extends r.default{get profileRoute(){return this.lix.getTreatmentIsEnabled("voyager.web.profile-tetris")?"profile.common.profile":"profile.view"}constructor(){var e,s
super(...arguments);(0,t.default)(this,"a11yNotification",M,this);(0,t.default)(this,"identityStore",C,this);(0,t.default)(this,"msgDataManager",k,this);(0,t.default)(this,"i18n",T,this);(0,t.default)(this,"lix",x,this);(0,t.default)(this,"subject",S,this);(0,t.default)(this,"messageLength",P,this);(0,t.default)(this,"messageExceedsLength",O,this);(0,t.default)(this,"inmailCredits",I,this);(0,t.default)(this,"creditsDataLoaded",D,this);(0,t.default)(this,"isOpenLink",A,this);(0,n.default)(this,"composeViewContextEnabled",!1);(0,t.default)(this,"loadingInmailCreditsData",R,this)
this.composeViewContextEnabled=this.args.composeViewContext
this.subject=null!==(e=null===(s=this.args.subject)||void 0===s?void 0:s.string)&&void 0!==e?e:this.args.subject
this.loadingInmailCreditsData=!Ember.isPresent(this.args.composeViewContext)
this._fetchInmailComposeData().finally((()=>{this.isDestroying||(this.loadingInmailCreditsData=!1)}))}_fetchInmailComposeData(){return Ember.RSVP.all([this._fetchInMailCredits(),this._fetchIsOpenLink()])}_fetchInMailCredits(){return this.msgDataManager.fetchInmailCredits().then((e=>{this.isDestroying||(this.inmailCredits=Ember.get(e,"inMail"))}))}_fetchIsOpenLink(){const e=(0,o.fromUrn)(Ember.get(this.args,"recipients.firstObject.entityUrn")).id
return this.identityStore.findRecord("com.linkedin.voyager.identity.profile.MemberBadges",e,{reload:!0}).then((e=>{this.isDestroying||(this.isOpenLink=e&&Ember.get(e,"openLink"))}))}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}updateSubject(e){this.subject=e.target.value}validateForm(e){const t=this.messageExceedsLength,n=e.length>N
if(n){t||this.a11yNotify("i18n_inmail_too_long")
this.messageLength=e.length}else t&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
this.messageExceedsLength=n
return!(!Ember.isPresent(e)||n)&&(!(!this.composeViewContextEnabled&&!this.isOpenLink)||!!this.inmailCredits)}},M=(0,s.default)(w.prototype,"a11yNotification",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,s.default)(w.prototype,"identityStore",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,s.default)(w.prototype,"msgDataManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,s.default)(w.prototype,"i18n",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,s.default)(w.prototype,"lix",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(w.prototype,"subject",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(w.prototype,"messageLength",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(w.prototype,"messageExceedsLength",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,s.default)(w.prototype,"inmailCredits",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=(0,s.default)(w.prototype,"creditsDataLoaded",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=(0,s.default)(w.prototype,"isOpenLink",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=(0,s.default)(w.prototype,"loadingInmailCreditsData",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(w.prototype,"updateSubject",[_],Object.getOwnPropertyDescriptor(w.prototype,"updateSubject"),w.prototype),(0,s.default)(w.prototype,"validateForm",[E],Object.getOwnPropertyDescriptor(w.prototype,"validateForm"),w.prototype),w)
e.default=L
Ember._setComponentTemplate(j,L)}))
define("msg-ui/components/inmail-reply-panel",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@glimmer/component","msg-shared/utils/constants"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i,r
const a=Ember.HTMLBars.template({id:"ImjRjDkT",block:'{"symbols":["@trackingPrefix","@quickReply","@cancel","@send"],"statements":[[10,"div"],[14,0,"msg-inmail-reply-panel display-flex flex-column pt1 ph3"],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-inmail-reply-panel__header display-flex justify-space-between align-items-center"],[12],[2,"\\n    "],[10,"span"],[14,0,"msg-inmail-reply-panel__signal-text t-14 t-black--medium"],[12],[1,[32,2,["text"]]],[13],[2,"\\n    "],[8,"artdeco-button@artdeco-button",[[16,"data-control-name",[30,[36,1],[[32,1],[32,0,["inmailType"]],"_inmail_",[32,0,["signal"]],"_back"],null]]],[["@class","@type","@color","@size","@circle","@icon","@click","@text"],["msg-inmail-reply-panel__cancel-icon","tertiary","muted","1","true","cancel-icon",[32,3],[30,[36,0],["a11y_cancel_button","msg-ui/components/inmail-reply-panel"],null]]],null],[2,"\\n  "],[13],[2,"\\n  "],[10,"label"],[14,"for","msg-inmail-reply-panel"],[14,0,"visually-hidden"],[12],[2,"\\n    "],[1,[30,[36,0],["i18n_edit_reply","msg-ui/components/inmail-reply-panel"],null]],[2,"\\n  "],[13],[2,"\\n  "],[8,"textarea",[[24,0,"msg-inmail-reply-panel__message mb2"],[24,1,"msg-inmail-reply-panel"],[16,"data-control-name",[30,[36,1],[[32,1],[32,0,["inmailType"]],"_inmail_",[32,0,["signal"]],"_edit"],null]],[4,[38,2],["input",[32,0,["textInputHandler"]]],null]],[["@value"],[[32,0,["messageBody"]]]],null],[2,"  "],[10,"div"],[14,0,"msg-inmail-reply-panel__footer display-flex justify-flex-end pb2"],[12],[2,"\\n"],[6,[37,3],[[32,0,["isDecline"]]],null,[["default"],[{"statements":[[2,"      "],[8,"artdeco-button@artdeco-button",[[16,"data-control-name",[30,[36,1],[[32,1],[32,0,["inmailType"]],"_inmail_no_send_no_message"],null]]],[["@class","@type","@size","@disabled","@text","@aria-label","@click"],["msg-inmail-reply-panel__decline-without-a-message-button mr2","secondary","1",[32,0,["sendInProgress"]],[30,[36,0],["i18n_decline_without_a_message_button_text","msg-ui/components/inmail-reply-panel"],null],[30,[36,0],["a11y_decline_without_a_message_button","msg-ui/components/inmail-reply-panel"],null],[32,0,["sendDeclineWithoutMessageBody"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[8,"artdeco-button@artdeco-button",[[16,"data-control-name",[30,[36,1],[[32,1],[32,0,["inmailType"]],"_inmail_",[32,0,["signal"]],"_send"],null]]],[["@class","@type","@size","@click","@text","@aria-label","@disabled"],["msg-inmail-reply-panel__send-button","primary","1",[30,[36,4],[[32,4],[32,2,["reply"]],[32,0,["messageBody"]]],null],[30,[36,0],["i18n_send_button_text","msg-ui/components/inmail-reply-panel"],null],[30,[36,3],[[32,0,["isAccept"]],[30,[36,0],["a11y_send_accept","msg-ui/components/inmail-reply-panel"],null],[30,[36,0],["a11y_send_decline","msg-ui/components/inmail-reply-panel"],null]],null],[30,[36,6],[[32,0,["sendInProgress"]],[30,[36,5],[[32,0,["messageBody"]],""],null]],null]]],null],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","concat","on","if","fn","global-helpers@eq","global-helpers@or"]}',moduleName:"msg-ui/components/inmail-reply-panel.hbs"}),{SMART_ACTIONS:o}=s.default
let l=(i=Ember._action,r=class extends n.default{constructor(){super(...arguments)
this.replyType=Ember.get(this.args.quickReply.reply,"replyType")
this.isAccept=this.replyType===o.INMAIL_ACCEPT
this.isDecline=this.replyType===o.INMAIL_DECLINE
"INMAIL"===Ember.get(this.args.replyTo,"subtype")&&"RECRUITER"===Ember.get(this.args.replyTo,"eventContent.customContent.inmailProductType")?this.inmailType="lts":"INMAIL"===Ember.get(this.args.replyTo,"subtype")&&"SALES"===Ember.get(this.args.replyTo,"eventContent.customContent.inmailProductType")?this.inmailType="lss":this.inmailType="premium"
this.signal=this.isAccept?"yes":"no"
Ember.set(this,"sendInProgress",!1)
this.messageBody=Ember.get(this.args.quickReply.reply,"quickActionPrefillText")}sendDeclineWithoutMessageBody(){Ember.set(this,"sendInProgress",!0)
this.args.send(Ember.get(this.args.quickReply,"reply"),"").finally((()=>{Ember.set(this,"sendInProgress",!1)}))}textInputHandler(e){const t=e.target
t.style.height="auto"
t.scrollHeight!==t.clientHeight&&(t.style.height=`${t.scrollHeight+2}px`)}},(0,t.default)(r.prototype,"sendDeclineWithoutMessageBody",[i],Object.getOwnPropertyDescriptor(r.prototype,"sendDeclineWithoutMessageBody"),r.prototype),r)
e.default=l
Ember._setComponentTemplate(a,l)}))
define.alias("ember-vector-images/components/lazy-background","msg-ui/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","msg-ui/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","msg-ui/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","msg-ui/components/linkedin-logo")
define("msg-ui/components/loader",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n=Ember.HTMLBars.template({id:"Tdh4YCW6",block:'{"symbols":["@text","&attrs"],"statements":[[2,"\\n"],[11,"div"],[16,0,[31,["msg-loader display-flex align-items-center\\n    ",[32,0,["positionClass"]],"\\n    ",[32,0,["borderClass"]]]]],[17,2],[12],[2,"\\n  "],[8,"artdeco-loader@artdeco-loader",[],[["@size","@type","@class"],[[32,0,["size"]],[32,0,["type"]],"mh2"]],null],[2,"\\n"],[6,[37,0],[[32,1]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"t-14 t-bold t-black--light"],[12],[2,"\\n      "],[1,[32,1]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["if"]}',moduleName:"msg-ui/components/loader.hbs"}),s={right:"flex-row",left:"flex-row-reverse",top:"flex-column-reverse",bottom:"flex-column"},i={top:"msg-loader--border-top",bottom:"msg-loader--border-bottom"}
class r extends t.default{constructor(){super(...arguments)
const{textPosition:e}=this.args}get positionClass(){var e
return s[null!==(e=this.args.textPosition)&&void 0!==e?e:"right"]}get borderClass(){var e
return null!==(e=i[this.args.border])&&void 0!==e?e:""}get size(){var e
return null!==(e=this.args.size)&&void 0!==e?e:"default"}get type(){var e
return null!==(e=this.args.type)&&void 0!==e?e:"standard"}}e.default=r
Ember._setComponentTemplate(n,r)}))
define.alias("ember-media-player/components/media-player","msg-ui/components/media-player")
define.alias("ember-media-player/components/media-player/big-play-button","msg-ui/components/media-player/big-play-button")
define.alias("ember-media-player/components/media-player/caption","msg-ui/components/media-player/caption")
define.alias("ember-media-player/components/media-player/control/back-to-start","msg-ui/components/media-player/control/back-to-start")
define.alias("ember-media-player/components/media-player/control/captions-menu","msg-ui/components/media-player/control/captions-menu")
define.alias("ember-media-player/components/media-player/control/custom","msg-ui/components/media-player/control/custom")
define.alias("ember-media-player/components/media-player/control/fullscreen","msg-ui/components/media-player/control/fullscreen")
define.alias("ember-media-player/components/media-player/control/next","msg-ui/components/media-player/control/next")
define.alias("ember-media-player/components/media-player/control/playback-rate","msg-ui/components/media-player/control/playback-rate")
define.alias("ember-media-player/components/media-player/control/previous","msg-ui/components/media-player/control/previous")
define.alias("ember-media-player/components/media-player/control/settings","msg-ui/components/media-player/control/settings")
define.alias("ember-media-player/components/media-player/control/settings/auto-advance","msg-ui/components/media-player/control/settings/auto-advance")
define.alias("ember-media-player/components/media-player/control/settings/autoplay","msg-ui/components/media-player/control/settings/autoplay")
define.alias("ember-media-player/components/media-player/control/settings/quality","msg-ui/components/media-player/control/settings/quality")
define.alias("ember-media-player/components/media-player/control/skipahead","msg-ui/components/media-player/control/skipahead")
define.alias("ember-media-player/components/media-player/control/skipback","msg-ui/components/media-player/control/skipback")
define.alias("ember-media-player/components/media-player/control/theater-mode","msg-ui/components/media-player/control/theater-mode")
define.alias("ember-media-player/components/media-player/end-screen","msg-ui/components/media-player/end-screen")
define.alias("ember-media-player/components/media-player/error-screen","msg-ui/components/media-player/error-screen")
define("msg-ui/components/message-list-scroller-scroll-reversed",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants","msg-shared/helpers/is-current-user","global-utils/utils/scroller","global-utils/utils/intersection-observer","global-utils/utils/is-browser","ember-batcher","msg-shared/utils/msg-anchoring-helpers"],(function(e,t,n,s,i,r,a,o,l,m,d,c,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,b,f,v,y,_,E,w,M,C,k,T,x,S,P,O,I,D,A
const R=Ember.HTMLBars.template({id:"FKbc8Wcb",block:'{"symbols":["@composeIsFullyExpanded","@conversation","&default"],"statements":[[2,"\\n"],[11,"div"],[16,0,[31,["msg-s-message-list-container relative display-flex mbA\\n    ",[30,[36,1],[[32,0,["shouldScrollFromTop"]],"msg-s-message-list-container--column-reversed"],null],"\\n    ",[30,[36,0],[[32,1],"message-list-container--collapsed"],null]]]],[4,[38,2],[[32,0,["handleContainerInsert"]]],null],[4,[38,3],[[32,0,["handleConversationUpdate"]],[32,2]],null],[4,[38,3],[[32,0,["handleLatestEventChange"]],[32,2,["latestEvent"]]],null],[12],[2,"\\n  "],[18,3,[[30,[36,4],null,[["props","actions"],[[30,[36,4],null,[["isLoading","hasNewMessages","scrollingPastThreshold","messageIndexToBeAnchored"],[[32,0,["isLoading"]],[32,0,["hasNewMessages"]],[32,0,["scrollingPastThreshold"]],[32,0,["messageIndexToBeAnchored"]]]]],[30,[36,4],null,[["scrollToNewMessages"],[[32,0,["scrollToNewMessages"]]]]]]]]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","unless","did-insert","did-update","hash"]}',moduleName:"msg-ui/components/message-list-scroller-scroll-reversed.hbs"}),{MESSAGE_LIST_SCROLLBLOCK_THRESHOLD:j}=a.default
let N=(p=Ember.inject.service("i18n"),g=Ember.inject.service("global-services@a11y-notification"),h=Ember.inject.service("authentication@authenticated-user"),b=Ember.inject.service("client-sensor-web@client-sensor"),f=Ember._tracked,v=Ember._tracked,y=Ember._tracked,_=Ember._tracked,E=Ember._action,w=Ember._action,M=Ember._action,C=Ember._action,k=class extends r.default{get hasNewMessages(){const e=Ember.get(this,"args.conversation.latestEvent")
if(!e)return!1
return!(0,o.isCurrentUser)(this.authenticatedUser,Ember.get(e,"from"))&&Ember.get(e,"createdAt")>this._lastLeftScrollAreaBottomAt&&0!==this._lastLeftScrollAreaBottomAt}get shouldScrollFromTop(){const e=Ember.get(this.args.conversation,"latestEvent")
if(!e||!Ember.get(e,"isFirstMessageInThread"))return!1
const t=Ember.get(this.args.conversation,"latestEvent.subtype")
return"INMAIL"===t||"SPONSORED_INMAIL"===t||"SPONSORED_MESSAGE"===t}constructor(){super(...arguments);(0,t.default)(this,"i18n",T,this);(0,t.default)(this,"a11yNotification",x,this);(0,t.default)(this,"authenticatedUser",S,this);(0,t.default)(this,"clientSensor",P,this);(0,t.default)(this,"isLoading",O,this);(0,t.default)(this,"messageIndexToBeAnchored",I,this);(0,t.default)(this,"scrollingPastThreshold",D,this);(0,t.default)(this,"_lastLeftScrollAreaBottomAt",A,this);(0,n.default)(this,"_previousLatestEvent",null);(0,n.default)(this,"_hasMoreMessagesToLoad",!0)
this.handleConversationUpdate()
d.default&&(this._isSafari=/^((?!chrome).)*safari/i.test(window.navigator.userAgent))}handleConversationUpdate(){this._hasMoreMessagesToLoad=!0
const{eventCollection:e}=this.args.conversation
e.loadFetched().finally((()=>{if(!this.isDestroying){this.messageIndexToBeAnchored=this._getAnchoredMessageIndex()
this.isLoading=!1
this._hasMoreMessagesToLoad=!Ember.get(e,"oldestEvent.isFirstMessageInThread")
if(this.scrollingElement){this._topIntersectionObserver&&this._topIntersectionObserver.disconnect()
this._topIntersectionObserver=new m.default((e=>{e.forEach((e=>{1===e.intersectionRatio&&this.loadMore()}))}),{root:this.scrollingElement,rootMargin:"250px 0px 0px 0px"})
this._topIntersectionObserver.observe(this.scrollingElement.querySelector(".msg-s-message-list__top-of-list"))}}}))}handleLatestEventChange(){const e=Ember.get(this,"args.conversation.latestEvent")
if(e&&e!==this._previousLatestEvent){if(((0,o.isCurrentUser)(this.authenticatedUser,Ember.get(e,"from"))||!this.scrollingPastThreshold)&&this.scrollingElement){this._isSafari&&this.scrollingElement.classList.add("msg-s-message-list--hide-scrollbar");(0,c.mutateDOM)((()=>{this.scrollToNewMessages()
this._isSafari&&this.scrollingElement.classList.remove("msg-s-message-list--hide-scrollbar")}))}}this._previousLatestEvent=e}handleContainerInsert(e){this.scrollingElement=e.querySelector(".msg-s-message-list")
if(d.default){this._bottomIntersectionObserver=new m.default((e=>{e.forEach((e=>{if(1===e.intersectionRatio)this.scrollingPastThreshold=!1
else if(!this.shouldScrollFromTop){this._lastLeftScrollAreaBottomAt=Date.now()
this.scrollingPastThreshold=!0}}))}),{root:this.scrollingElement,rootMargin:`0px 0px ${j}px 0px`})
this._bottomIntersectionObserver.observe(e.querySelector(".msg-s-message-list__bottom-of-list"))}}willDestroy(){var e,t
super.willDestroy(...arguments)
null===(e=this._bottomIntersectionObserver)||void 0===e||e.disconnect()
null===(t=this._topIntersectionObserver)||void 0===t||t.disconnect()}loadMore(){if(this.isLoading||!this._hasMoreMessagesToLoad)return Ember.RSVP.resolve([])
this.isLoading=!0
return this.args.loadMore().then((e=>{if(this.isDestroying)return Ember.RSVP.resolve([])
const t=e.length,{eventCollection:n}=this.args.conversation
this._hasMoreMessagesToLoad=!Ember.get(n,"oldestEvent.isFirstMessageInThread")&&t>0
this.messageIndexToBeAnchored&&(this.messageIndexToBeAnchored+=t)
const s=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_messages")
this.a11yNotification.setTextInLiveRegion(s([{newRecordCount:t}]))
return e})).finally((()=>{this.isDestroying||(this.isLoading=!1)}))}scrollToNewMessages(){this.isDestroying||l.default.scrollTo(this.scrollingElement,{animate:!0,top:0})}_getAnchoredMessageIndex(){const e=Ember.get(this,"args.conversation.lastReadAt"),t=!!e&&e>=Ember.get(this,"args.conversation.eventCollection.oldestEvent.createdAt")
!t&&e&&this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"anchoring-EV-unread"})
if(!this.isDestroying&&t&&e<Ember.get(this,"args.conversation.latestEvent.createdAt"))return(0,u.getMessageIndexToBeAnchored)(e,Ember.get(this,"args.conversation.eventCollection.data"),this.authenticatedUser)}},T=(0,s.default)(k.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,s.default)(k.prototype,"a11yNotification",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,s.default)(k.prototype,"authenticatedUser",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,s.default)(k.prototype,"clientSensor",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,s.default)(k.prototype,"isLoading",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=(0,s.default)(k.prototype,"messageIndexToBeAnchored",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,s.default)(k.prototype,"scrollingPastThreshold",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=(0,s.default)(k.prototype,"_lastLeftScrollAreaBottomAt",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,s.default)(k.prototype,"handleConversationUpdate",[E],Object.getOwnPropertyDescriptor(k.prototype,"handleConversationUpdate"),k.prototype),(0,s.default)(k.prototype,"handleLatestEventChange",[w],Object.getOwnPropertyDescriptor(k.prototype,"handleLatestEventChange"),k.prototype),(0,s.default)(k.prototype,"handleContainerInsert",[M],Object.getOwnPropertyDescriptor(k.prototype,"handleContainerInsert"),k.prototype),(0,s.default)(k.prototype,"scrollToNewMessages",[C],Object.getOwnPropertyDescriptor(k.prototype,"scrollToNewMessages"),k.prototype),k)
e.default=N
Ember._setComponentTemplate(R,N)}))
define("msg-ui/components/message-list-scroller",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember-decorators/component","msg-shared/utils/constants","msg-shared/helpers/is-current-user","global-utils/utils/scroller","infinite-scroll/components/infinite-scroll-container","infinite-scroll/mixins/infinite-scroll","ember-batcher","global-helpers/helpers/load","global-utils/utils/intersection-observer","global-utils/utils/is-browser","msg-shared/utils/msg-anchoring-helpers","msg-shared/helpers/is-sponsored-conversation","msg-shared/helpers/is-inmail-conversation","ember-lifeline"],(function(e,t,n,s,i,r,a,o,l,m,d,c,u,p,g,h,b,f,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,E,w,M,C,k,T,x,S,P,O,I,D,A,R,j,N,L,F,z,U,B,H,q,V,W,G
const K=Ember.HTMLBars.template({id:"EvvvuW83",block:'{"symbols":["&default"],"statements":[[2,"\\n"],[18,1,[[30,[36,0],null,[["props","actions"],[[30,[36,0],null,[["isLoading","hasNewMessages","scrollingPastThreshold","messageIndexToBeAnchored"],[[32,0,["isLoading"]],[32,0,["hasNewMessages"]],[32,0,["scrollingPastThreshold"]],[32,0,["messageIndexToBeAnchored"]]]]],[30,[36,0],null,[["scrollToNewMessages"],[[32,0,["scrollToNewMessages"]]]]]]]]]]],"hasEval":false,"upvars":["hash"]}',moduleName:"msg-ui/components/message-list-scroller.hbs"}),{MESSAGE_LIST_SCROLLBLOCK_THRESHOLD:$}=a.default
function Y(){if(g.default)return new window.ResizeObserver(...arguments)}let Q=(y=(0,r.classNames)("msg-s-message-list-container","relative","display-flex"),_=(0,r.classNameBindings)("showMessagesStartingFromTop:mbA:mtA","composeIsFullyExpanded:message-list-container--collapsed"),E=(0,r.tagName)("div"),w=Ember.inject.service("i18n"),M=Ember.inject.service("lix"),C=Ember.inject.service("global-services@a11y-notification"),k=Ember.inject.service("authentication@authenticated-user"),T=Ember.inject.service("rum"),x=Ember.inject.service("jet"),S=Ember.inject.service("client-sensor-web@client-sensor"),P=Ember.computed("elementId"),O=Ember.computed.reads("eventTarget"),I=Ember.computed("eventsLoading","conversation.id","_lastConversationId").readOnly(),D=Ember.computed("latestEvent.id","_lastEventId").readOnly(),A=Ember.computed("renderingNewEvent").readOnly(),R=Ember.computed("conversation.latestEvent.subtype"),j=Ember.computed("initialEventsState.isLoading"),N=Ember._action,y(L=_(L=E(L=(F=class extends m.default{constructor(){super(...arguments);(0,n.default)(this,"pageKey","flagship3_messaging_comp_message_list");(0,n.default)(this,"rumComponentId","messaging/message-list-scroller");(0,t.default)(this,"i18n",z,this);(0,t.default)(this,"lix",U,this);(0,t.default)(this,"a11yNotification",B,this);(0,t.default)(this,"authenticatedUser",H,this);(0,t.default)(this,"rum",q,this);(0,t.default)(this,"jet",V,this);(0,t.default)(this,"clientSensor",W,this);(0,n.default)(this,"scrollBuffer",250);(0,n.default)(this,"triggerOnInsert",!1);(0,n.default)(this,"triggerInfiniteScrollOnInsert",!1);(0,n.default)(this,"infiniteScrollDirection",d.SCROLL_DIRECTIONS.UP);(0,t.default)(this,"scrollingElementSelector",G,this);(0,n.default)(this,"_lastConversationId","-1");(0,n.default)(this,"_lastEventId","-1");(0,n.default)(this,"hasNewMessages",!1);(0,n.default)(this,"hasScrolledToAnchoredPosition",!1);(0,n.default)(this,"hasMoreMessagesToLoad",!0)}get eventTarget(){return`#${this.elementId} .msg-s-message-list`}get renderingNewConversation(){const e=this.conversation.id!==this._lastConversationId
return this.scrollingRefactorEnabled&&this.eventsLoading||e}get renderingNewEvent(){const e=Ember.get(this,"latestEvent.id")
return!e||e!==this._lastEventId}get receivedNewEventFromSomeone(){return this.renderingNewEvent&&!(0,o.isCurrentUser)(this.authenticatedUser,Ember.get(this,"latestEvent.from"))}get showMessagesStartingFromTop(){return(0,f.isInmailConversation)(this.conversation)||(0,b.isSponsoredConversation)(this.conversation)}get eventsLoading(){return this.initialEventsState&&this.initialEventsState.isLoading}get scrollingRefactorEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-scroller-refactor")}scroll(){if(!this.renderingNewConversation){super.scroll(...arguments)
const{scrollingElement:e}=this;(0,c.readDOM)((()=>{if(!this.isDestroying&&e){const t=Math.abs(e.scrollHeight-e.offsetHeight-e.scrollTop)
this.userIsScrolling=t>this.scrollingRefactorEnabled?25:0
Ember.set(this,"scrollingPastThreshold",t>=$)
this.scrollingPastThreshold||Ember.set(this,"hasNewMessages",!1)}}))}}didInsertElement(){super.didInsertElement(...arguments)
this._registerObservers()}didReceiveAttrs(){super.didReceiveAttrs(...arguments)
this.initialEventsRequest&&"function"==typeof this.initialEventsRequest.then&&Ember.set(this,"initialEventsState",(0,u.load)(this.initialEventsRequest))}didRender(){super.didRender(...arguments)
this.scrollingRefactorEnabled?(0,v.debounceTask)(this,"_resetScrollPosition",50,!0):this._resetScrollPosition()
if(!this.eventsLoading){const{messageIndexToBeAnchored:e}=this
e||Ember.set(this,"messageIndexToBeAnchored",this._getAnchoredMessageIndex())}}willDestroyElement(){var e
super.willDestroyElement(...arguments)
null===(e=this._observer)||void 0===e||e.disconnect()
if(this.scrollingRefactorEnabled){var t
null===(t=this._resizeObserver)||void 0===t||t.disconnect();(0,v.runDisposables)(this)}}_resetScrollPosition(){const{renderingNewConversation:e}=this
if(e){this.userIsScrolling=!1
const e=Ember.get(this,"conversation.eventCollection")
null!=e&&e.hasPendingFetch()?e.loadFetched().then((()=>{this.isDestroying||this.scrollToBottom()
const e=this.rum.startPerfMeasurement("messaging-message-list-load-messages")
e.isOverlapping?e.cancel():Ember.run.schedule("afterRender",(()=>{!e||e.isCanceled||e.isClosed||this.rum.endPerfMeasurement(e)}))})):this.jet.info(new Error("There were no pending fetches"),["convo-history-after-reset-scroll"],{shouldRethrow:!1})
this.resetInfiniteScroll()
this.scrollToBottom()
this.hasMoreMessagesToLoad=!0}else Ember.get(this,"latestEvent.id")!==this._lastEventId?!this.scrollingPastThreshold||(0,o.isCurrentUser)(this.authenticatedUser,Ember.get(this,"latestEvent.from"))?this.scrollToBottom({animate:!0}):Ember.set(this,"hasNewMessages",this.receivedNewEventFromSomeone&&this.scrollingPastThreshold):this.userIsScrolling||(this.scrollingRefactorEnabled?this.scrollToBottom():this.scrollToBottom({animate:!0}))
Ember.setProperties(this,{_lastConversationId:Ember.get(this,"conversation.id"),_lastEventId:Ember.get(this,"latestEvent.id")})}infiniteScroll(){if(this.renderingNewConversation)return!0
if(this.hasMoreMessagesToLoad){Ember.testing&&console.log("---------- fetchAndLoadMore about to be triggered ----------")
return this.loadMore(this.conversation).then((e=>{const t=e.length
if(!this.isDestroying){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_messages")
this.a11yNotification.setTextInLiveRegion(e([{newRecordCount:t}]))
Ember.set(this,"hasMoreMessagesToLoad",!!t)
this.messageIndexToBeAnchored&&Ember.set(this,"messageIndexToBeAnchored",this.messageIndexToBeAnchored+t)}const n=this.rum.startPerfMeasurement("messaging-message-list-load-more")
n.isOverlapping?n.cancel():Ember.run.schedule("afterRender",(()=>{!n||n.isCanceled||n.isClosed||this.rum.endPerfMeasurement(n)}))
return t}))}return!1}_scrollToBottom(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.readDOM)((()=>{let t
if(this.isDestroying)return
const{scrollingElement:n}=this
t=n.scrollHeight
if("INMAIL"===Ember.get(this,"latestEvent.subtype"))if(Ember.get(this,"latestEvent.isFirstMessageInThread"))t=0
else{const e=n.querySelectorAll(".msg-s-message-list__event")
t=e[e.length-1].offsetTop-45}Ember.set(this,"hasNewMessages",!1)
this._scrollTo(t,e)}))}scrollToBottom(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.scrollingRefactorEnabled?(0,v.debounceTask)(this,"_scrollToBottom",e,25,!0):this._scrollToBottom(...arguments)}_scrollTo(e,t){let{animate:n=!1}=t
if(!this.isDestroying)if(this.scrollingRefactorEnabled){const{scrollingElement:t}=this
if(t){t.scrollHeight===e&&Ember.setProperties(this,{scrollingPastThreshold:!1,userIsScrolling:!1})
l.default.scrollTo(t,{animate:n,top:e})}}else(0,c.mutateDOM)((()=>{if(this.isDestroying)return
const{scrollingElement:t}=this
if(t){if(t.scrollHeight===e){Ember.set(this,"scrollingPastThreshold",!1)
Ember.set(this,"userIsScrolling",!1)}l.default.scrollTo(t,{animate:n,top:e})}}))}_registerObservers(){const{scrollingElement:e}=this,t=t=>{!this.isDestroying&&e&&t.forEach((e=>{1===e.intersectionRatio&&Ember.set(this,"scrollingPastThreshold",!1)}))}
if(g.default){this._observer=new p.default(t)
this._observer.observe(this.element.querySelector(".msg-s-message-list__bottom-of-list"))
if(this.scrollingRefactorEnabled){const e=document.querySelector(`${this.eventTarget} .msg-s-message-list-content`)
if(!e)return
this._resizeObserver=new Y((()=>{this.userIsScrolling||this.scrollToBottom()}))
this._resizeObserver.observe(e)}}}_getAnchoredMessageIndex(){const e=Ember.get(this,"conversation.lastReadAt"),t=!!e&&e>=Ember.get(this,"conversation.eventCollection.oldestEvent.createdAt")
!t&&e&&this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"anchoring-EV-unread"})
if(t&&e<Ember.get(this,"conversation.latestEvent.createdAt")&&!this.isDestroying)return(0,h.getMessageIndexToBeAnchored)(e,Ember.get(this,"conversation.eventCollection.data"),this.authenticatedUser)}scrollToNewMessages(){return this.scrollToBottom({animate:!0})}},z=(0,s.default)(F.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,s.default)(F.prototype,"lix",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,s.default)(F.prototype,"a11yNotification",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,s.default)(F.prototype,"authenticatedUser",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,s.default)(F.prototype,"rum",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,s.default)(F.prototype,"jet",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,s.default)(F.prototype,"clientSensor",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(F.prototype,"eventTarget",[P],Object.getOwnPropertyDescriptor(F.prototype,"eventTarget"),F.prototype),G=(0,s.default)(F.prototype,"scrollingElementSelector",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(F.prototype,"renderingNewConversation",[I],Object.getOwnPropertyDescriptor(F.prototype,"renderingNewConversation"),F.prototype),(0,s.default)(F.prototype,"renderingNewEvent",[D],Object.getOwnPropertyDescriptor(F.prototype,"renderingNewEvent"),F.prototype),(0,s.default)(F.prototype,"receivedNewEventFromSomeone",[A],Object.getOwnPropertyDescriptor(F.prototype,"receivedNewEventFromSomeone"),F.prototype),(0,s.default)(F.prototype,"showMessagesStartingFromTop",[R],Object.getOwnPropertyDescriptor(F.prototype,"showMessagesStartingFromTop"),F.prototype),(0,s.default)(F.prototype,"eventsLoading",[j],Object.getOwnPropertyDescriptor(F.prototype,"eventsLoading"),F.prototype),(0,s.default)(F.prototype,"scrollToNewMessages",[N],Object.getOwnPropertyDescriptor(F.prototype,"scrollToNewMessages"),F.prototype),F))||L)||L)||L)
e.default=Q
Ember._setComponentTemplate(K,Q)}))
define("msg-ui/components/message-list",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","global-utils/utils/is-browser","msg-ui/utils/events-grouper","msg-shared/helpers/is-sponsored-conversation"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,c,u,p,g,h,b,f,v,y,_,E,w,M,C
const k=Ember.HTMLBars.template({id:"pCbKMSVp",block:'{"symbols":["assetLoader","groupedEvent","index","receipt","item","assetLoader","@conversation","@quickRepliesList","@quickRepliesUseCase","@isOverlay","@submitQuickReply","@openGIFPopover","@showInmailDeclineReasonModal","@openVirtualMeetingModal","@contextWidth","@redirectToActiveConversation","@showMessageEditForm","@blockedByNoResponse","@handleSuccessfulDiscardRequest","@isCompanySender","@resendMessage","&default","@inlineProfileCardLayout","@addParticipantsPageKey","@toggleShowRenameConversation","&attrs","@isLoading","@messageIndexToBeAnchored","@showQuickReplies"],"statements":[[11,"div"],[16,0,[31,["msg-s-message-list",[30,[36,21],[[32,7,["eventCollection","oldestEvent","isFirstMessageInThread"]]," msg-s-message-list--scroll-buffer"],null],"\\n    full-width scrollable"]]],[17,26],[12],[2,"\\n  "],[10,"ul"],[14,0,"msg-s-message-list-content list-style-none full-width mbA"],[12],[2,"\\n    "],[10,"li"],[14,0,"msg-s-message-list__top-of-list"],[12],[13],[2,"\\n\\n"],[6,[37,0],[[30,[36,11],[[32,7],[32,0,["isMessagingInmailHeadersEnabled"]]],null]],null,[["default"],[{"statements":[[2,"      "],[10,"li"],[14,0,"msg-s-message-list__top-banner"],[12],[2,"\\n        "],[10,"div"],[14,0,"display-flex"],[12],[2,"\\n"],[6,[37,21],[[30,[36,19],[[32,7]],null]],null,[["default"],[{"statements":[[2,"            "],[1,[30,[36,20],null,[["type","size","class"],["linkedin-inbug-color-icon","small","mr2"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"          "],[10,"p"],[14,0,"t-12 t-black--light t-normal"],[12],[2,"\\n"],[6,[37,0],[[30,[36,10],[[32,7,["eventCollection","oldestEvent","eventContent","customContent","inmailProductType"]],"RECRUITER"],null]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,3],["i18n_top_banner_recruiter","msg-ui/components/message-list"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[30,[36,19],[[32,7]],null]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,0],[[32,7,["sponsoredConversationMetadata","advertiserLabel"]],[30,[36,3],[[32,7,["sponsoredConversationMetadata","advertiserLabel"]],"msg-ui/components/message-list"],null],[30,[36,3],["i18n_top_banner_sponsored","msg-ui/components/message-list"],null]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"              "],[1,[30,[36,3],["i18n_top_banner_sales","msg-ui/components/message-list"],null]],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"time"],[14,0,"white-space-nowrap pl3 t-12 t-black--light t-normal"],[12],[2,"\\n          "],[1,[30,[36,23],[[32,7,["eventCollection","oldestEvent","createdAt"]]],[["format","useTimeZone"],[[30,[36,0],[[30,[36,22],[[32,7,["eventCollection","oldestEvent","createdAt"]]],null],"fmt_md_medium","fmt_mdy_medium"],null],true]]]],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,0],[[32,0,["showProfileCard"]]],null,[["default"],[{"statements":[[2,"      "],[10,"li"],[12],[2,"\\n        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,6,["state","fulfilled"]]],null,[["default"],[{"statements":[[6,[37,0],[[32,7,["groupChat"]]],null,[["default","else"],[{"statements":[[2,"              "],[8,"msg-conversation-ui@profile-card-group",[],[["@isOverlay","@conversation","@recipientProfiles","@recipientNames","@addParticipantsPageKey","@actionTrackingPrefix","@toggleShowRenameConversation"],[[32,10],[32,7],[32,0,["recipientProfiles"]],[30,[36,18],[[32,7]],null],[32,24],[32,0,["actionTrackingPrefix"]],[32,25]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"              "],[8,"msg-conversation-ui@profile-card-one-to-one",[[24,0,"ph3"]],[["@inlineLayout","@recipientProfile","@contextText"],[[32,23],[32,7,["participants","firstObject","miniProfile"]],[32,7,["contextText"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "]],"parameters":[6]}]]],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"li"],[15,0,[31,["msg-s-message-list__loader",[30,[36,21],[[32,27]," hidden"],null]]]],[12],[2,"\\n      "],[8,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]],null],[2,"\\n    "],[13],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[30,[36,24],[[32,7,["eventCollection","data"]],[32,28],[32,0,["isMessagingSendingIndicatorEnabled"]],[32,7],[32,0,["conversationSeenReceipts"]]],null]],null]],null]],[["key"],["id"]],[["default"],[{"statements":[[2,"      "],[10,"li"],[15,0,[31,["msg-s-message-list__event clearfix\\n          ",[30,[36,0],[[30,[36,15],[[32,0,["projectShineAnimationsEnabled"]],[30,[36,10],[[32,3],[30,[36,14],[[32,0,["groupedEvents","length"]],1],null]],null]],null],"msg-s-message-list__event--slide-in"],null]]]],[12],[2,"\\n"],[6,[37,0],[[30,[36,15],[[32,2,["dateBoundary"]],[32,2,["isOldestUnreadEvent"]]],null]],null,[["default","else"],[{"statements":[[2,"          "],[10,"div"],[14,0,"msg-s-message-list__new-message-time-heading t-12 t-bold"],[12],[2,"\\n            "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading--timestamp t-black--light"],[12],[2,"\\n              "],[1,[30,[36,13],[[32,2,["dateBoundary","timestamp"]]],null]],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading--text"],[12],[2,"\\n              "],[1,[30,[36,3],["i18n_new_message_divider_text","msg-ui/components/message-list"],null]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,2,["dateBoundary"]]],null,[["default","else"],[{"statements":[[2,"          "],[10,"time"],[14,0,"msg-s-message-list__time-heading t-12 t-black--light t-bold"],[12],[2,"\\n            "],[1,[30,[36,13],[[32,2,["dateBoundary","timestamp"]]],null]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,2,["isOldestUnreadEvent"]]],null,[["default"],[{"statements":[[2,"          "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading t-12 t-bold"],[12],[2,"\\n            "],[1,[30,[36,3],["i18n_new_message_divider_text","msg-ui/components/message-list"],null]],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,2,["senderGroupMessageCount"]]],null,[["default"],[{"statements":[[2,"          "],[10,"span"],[14,0,"msg-s-event-listitem--group-a11y-heading visually-hidden"],[12],[2,"\\n            "],[1,[30,[36,3],["i18n_a11y_pre_message_text","msg-ui/components/message-list"],[["actorName","count","timestamp"],[[30,[36,2],[[32,2,["event","from","miniProfile"]]],null],[32,2,["senderGroupMessageCount"]],[30,[36,1],[[32,2,["event","createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[8,"msg-ui@primitives/event-listitem",[[16,"data-event-urn",[32,2,["event","entityUrn"]]]],[["@blockedByNoResponse","@hasSeenReceipts","@event","@isLastInGroup","@isSystemMessagePrecededByM2MMessage","@isSystemMessageFollowedByM2MMessage","@isM2MMessageFollowedByDateBoundary","@messageIndex","@isOverlay","@moduleKey","@resendMessage"],[[32,18],[30,[36,0],[[32,0,["isConvoNotPendingRequest"]],[30,[36,16],[[30,[36,4],[[32,0,["conversationSeenReceipts"]],[32,7],[32,2,["event"]]],null],"length"],null],[32,2,["event","seenReceipts","length"]]],null],[32,2,["event"]],[32,2,["isLastInGroup"]],[32,2,["isSystemMessagePrecededByM2MMessage"]],[32,2,["isSystemMessageFollowedByM2MMessage"]],[32,2,["isM2MMessageFollowedByDateBoundary"]],[32,2,["messageIndex"]],[32,10],[30,[36,0],[[32,10],"overlay_compose"],null],[32,21]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,2,["showMeta"]]],null,[["default"],[{"statements":[[6,[37,0],[[30,[36,10],[[32,2,["event","subtype"]],"SPONSORED_MESSAGE"],null]],null,[["default","else"],[{"statements":[[2,"              "],[8,"msg-ui@primitives/event-listitem-advertiser-avatar",[],[["@sender","@isCompanySender"],[[32,2,["event","from"]],[32,20]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[30,[36,9],[[32,5,["isSystemMessage"]]],null]],null,[["default"],[{"statements":[[2,"              "],[8,"msg-ui@primitives/event-listitem-avatar",[],[["@sender","@showPresence","@size","@profileRoute"],[[32,2,["event","from"]],[32,7,["groupChat"]],"2",[32,0,["profileRoute"]]]],null],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"msg-s-message-group__meta"],[12],[2,"\\n"],[6,[37,0],[[30,[36,10],[[32,2,["event","subtype"]],"SPONSORED_MESSAGE"],null]],null,[["default","else"],[{"statements":[[6,[37,0],[[32,20]],null,[["default","else"],[{"statements":[[2,"                  "],[8,"ember-engines@link-to-external",[],[["@route","@model"],["companies.company",[30,[36,8],[[32,2,["event","from","miniCompany","entityUrn"]]],null]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"span"],[14,0,"msg-s-message-group__name hoverable-link-text t-14 t-black t-bold"],[12],[2,"\\n                      "],[1,[32,2,["event","from","miniCompany","name"]]],[2,"\\n                    "],[13],[2,"\\n                  "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                  "],[10,"span"],[14,0,"msg-s-message-group__name t-14 t-black t-bold"],[12],[2,"\\n                    "],[1,[32,2,["event","from","fullName"]]],[2,"\\n                  "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,7],[[32,0,["profileRoute"]],[32,2,["event","from","miniProfile","publicIdentifier"]]],[["class","data-control-name"],["msg-s-message-group__profile-link","view_profile"]],[["default"],[{"statements":[[6,[37,0],[[30,[36,2],[[32,2,["event","from","miniProfile"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[12],[2,"\\n                      "],[1,[30,[36,3],["i18n_default_listitem_actor_full_name","msg-ui/components/message-list"],[["actorName"],[[30,[36,2],[[32,2,["event","from","miniProfile"]]],null]]]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"              "],[8,"pronouns@pronouns",[[24,0,"t-12 t-black--light t-normal"]],[["@pronounsObject"],[[32,2,["event","from","miniProfile"]]]],null],[2,"\\n"],[6,[37,0],[[30,[36,12],[[30,[36,9],[[30,[36,11],[[32,7],[32,0,["isMessagingInmailHeadersEnabled"]]],null]],null],[32,3]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"time"],[14,0,"msg-s-message-group__timestamp white-space-nowrap t-12 t-black--light t-normal"],[12],[2,"\\n                  "],[1,[30,[36,1],[[32,2,["event","createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,5,["isSystemMessage"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"msg-ui@primitives/event-listitem-system-event",[],[["@event","@handleSuccessfulDiscardRequest"],[[32,2,["event"]],[32,19]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"msg-ui@primitives/event-listitem-user-event",[],[["@event","@isMsgSeenByNone","@redirectToActiveConversation","@showMessageEditForm","@onEmojiHoverableShow","@onEmojiHoverableHide","@blockedByNoResponse","@isOverlay","@trackingPrefix"],[[32,2,["event"]],[32,2,["isEventSeenByNone"]],[32,16],[32,17],[32,0,["onEmojiHoverableShow"]],[32,0,["onEmojiHoverableHide"]],[32,18],[32,10],[30,[36,0],[[32,10],"overlay.",""],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n          "],[18,22,[[30,[36,17],null,[["props"],[[30,[36,17],null,[["groupedEvent"],[[32,2]]]]]]]]],[2,"\\n        "]],"parameters":[5]}]]],[2,"\\n"],[6,[37,0],[[30,[36,0],[[32,0,["isConvoNotPendingRequest"]],[30,[36,16],[[30,[36,4],[[32,0,["conversationSeenReceipts"]],[32,7],[32,2,["event"]]],null],"length"],null],[32,2,["event","seenReceipts","length"]]],null]],null,[["default"],[{"statements":[[2,"          "],[10,"div"],[14,0,"msg-s-event-listitem__seen-receipts t-12 t-black--light t-normal"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[30,[36,4],[[32,0,["conversationSeenReceipts"]],[32,7],[32,2,["event"]]],null]],null]],null]],[["key"],["id"]],[["default"],[{"statements":[[6,[37,0],[[32,4,["miniProfile"]]],null,[["default"],[{"statements":[[2,"                "],[8,"ember-vector-images@lazy-image",[],[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[32,4,["miniProfile","picture"]],[30,[36,3],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/message-list"],[["senderName","seenAt"],[[30,[36,2],[[32,4,["miniProfile"]]],null],[30,[36,1],[[32,4,["seenAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],[30,[36,3],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/message-list"],[["senderName","seenAt"],[[30,[36,2],[[32,4,["miniProfile"]]],null],[30,[36,1],[[32,4,["seenAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],"msg-s-event-listitem__seen-receipt-photo EntityPhoto-circle-1",100,100,"person"]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[4]}]]],[2,"          "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n"]],"parameters":[2,3]}]]],[2,"    "],[10,"li"],[15,0,[30,[36,0],[[30,[36,0],[[32,0,["isConvoNotPendingRequest"]],[30,[36,16],[[30,[36,4],[[32,0,["conversationSeenReceipts"]],[32,7],[32,7,["latestEvent"]]],null],"length"],null],[32,7,["latestEvent","seenReceipts","length"]]],null],"msg-s-message-list__typing-indicator-container--with-seen-receipt","msg-s-message-list__typing-indicator-container--without-seen-receipt"],null]],[12],[2,"\\n"],[6,[37,0],[[32,7,["typingParticipants","length"]]],null,[["default"],[{"statements":[[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,"msg-conversation-ui@typing-indicators",[],[["@typingParticipants"],[[32,7,["typingParticipants"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,0],[[32,29]],null,[["default"],[{"statements":[[2,"      "],[10,"li"],[14,0,"msg-s-message-list__quick-replies-container"],[12],[2,"\\n        "],[8,"msg-ui@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@contextWidth"],[[32,7],[32,7,["latestEvent","id"]],[32,8],[32,9],[32,0,["actionTrackingPrefix"]],[30,[36,0],[[32,10],"mebc_quick_reply","non_inmail_quick_reply"],null],[32,11],[32,12],[32,0,["openInMailReplyPanel"]],[32,13],[32,14],[32,15]]],null],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"li"],[14,0,"msg-s-message-list__bottom-of-list"],[12],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","ember-cli-pemberly-i18n@format-time","global-helpers@name","t","msg-ui@get-event-seen-receipts","-track-array","each","ember-engines@link-to-external","global-helpers@urn-to-id","global-helpers@not","global-helpers@eq","msg-ui@has-convo-top-banner","global-helpers@or","msg-ui@date-group-heading","global-helpers@sub","global-helpers@and","get","hash","msg-shared@participant-names-with-self","msg-shared@is-sponsored-conversation","artdeco-icons-web@li-icon","unless","msg-ui@is-current-year","ember-cli-pemberly-i18n@format-date","msg-ui@group-events"]}',moduleName:"msg-ui/components/message-list.hbs"})
let T=(m=Ember.inject.service("global-services@a11y-notification"),d=Ember.inject.service("i18n"),c=Ember.inject.service("lix"),u=Ember.inject.service("authentication@authenticated-user"),p=Ember.inject.service("tracking"),g=Ember.inject.service("msg-data@data-manager"),h=Ember._dependentKeyCompat,b=Ember._action,f=Ember._action,v=class extends r.default{get profileRoute(){return this.lix.getTreatmentIsEnabled("voyager.web.profile-tetris")?"profile.common.profile":"profile.view"}constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",y,this);(0,t.default)(this,"i18n",_,this);(0,t.default)(this,"lix",E,this);(0,t.default)(this,"authenticatedUser",w,this);(0,t.default)(this,"tracking",M,this);(0,t.default)(this,"msgDataManager",C,this);(0,n.default)(this,"_lastTypingParticipants",0)
this.isMessagingSendingIndicatorEnabled=this.lix.getTreatmentIsEnabled("voyager.web.messaging-sending-indicator")}get groupedEvents(){return o.default.groupEvents(Ember.get(this,"args.conversation.eventCollection.data"),this.args.messageIndexToBeAnchored)}get showProfileCard(){return Ember.get(this,"args.conversation.eventCollection.oldestEvent.isFirstMessageInThread")&&!this.args.isLoading&&!(0,l.isSponsoredConversation)(Ember.get(this,"args.conversation"))}get recipientProfiles(){const e=Ember.get(this,"args.conversation.participants").mapBy("miniProfile")
Ember.get(this,"args.conversation.viewerCurrentParticipant")&&e.push(Ember.get(this,"authenticatedUser.miniProfile"))
return e}get isConvoNotPendingRequest(){return"PENDING"!==Ember.get(this.args,"conversation.messageRequestState")}get conversationSeenReceipts(){return this.msgDataManager.seenReceiptsManager.getSeenReceipts(Ember.get(this.args,"conversation.entityUrn"))}get projectShineAnimationsEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-animations")}willUpdate(){this._checkTypingParticipants()}_checkTypingParticipants(){if("INMAIL"===!Ember.get(this,"args.conversation.latestEvent.subtype")){var e
const t=null!==(e=this._lastTypingParticipants)&&void 0!==e?e:0,n=Ember.get(this.args,"conversation.typingParticipants.length")
if(t!==n){this._announceTypingIndicators(n)
this._lastTypingParticipants=n}}}_a11yNotify(e,t){const n=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(n([t]))}_announceTypingIndicators(e){1===e?this._a11yNotify("i18n_a11y_user_is_typing",{user:Ember.get(this,"args.conversation.typingParticipants.firstObject.name")}):this._a11yNotify("i18n_a11y_users_are_typing",{usercount:e})}onEmojiHoverableShow(e){if(null!=e&&e.currentTrigger){const n=e.currentTrigger.closest(".msg-s-message-list")
null==(t=n)||t.classList.add("msg-s-message-list--inactive")
const s=this.args.isOverlay?"flagship3_messaging_overlay_reaction_picker":"flagship3_messaging_reaction_picker"
this.tracking.firePageViewEvent(s)}var t}onEmojiHoverableHide(){a.default&&document.querySelectorAll(".msg-s-message-list--inactive").forEach((e=>{e.classList.remove("msg-s-message-list--inactive")}))}},y=(0,s.default)(v.prototype,"a11yNotification",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(v.prototype,"i18n",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(v.prototype,"lix",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(v.prototype,"authenticatedUser",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,s.default)(v.prototype,"tracking",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,s.default)(v.prototype,"msgDataManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(v.prototype,"conversationSeenReceipts",[h],Object.getOwnPropertyDescriptor(v.prototype,"conversationSeenReceipts"),v.prototype),(0,s.default)(v.prototype,"onEmojiHoverableShow",[b],Object.getOwnPropertyDescriptor(v.prototype,"onEmojiHoverableShow"),v.prototype),(0,s.default)(v.prototype,"onEmojiHoverableHide",[f],Object.getOwnPropertyDescriptor(v.prototype,"onEmojiHoverableHide"),v.prototype),v)
e.default=T
Ember._setComponentTemplate(k,T)}))
define("msg-ui/components/message-request-banner-v2",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"xAtv1C5V",block:'{"symbols":["@trackingKey","@openMessageRequestConversationList","@messageRequestBundle","&attrs"],"statements":[[11,"div"],[24,0,"msg-message-request-banner-v2"],[17,4],[12],[2,"\\n  "],[10,"span"],[14,0,"t-14 t-bold t-black display-flex align-items-center"],[12],[2,"\\n    "],[1,[30,[36,2],["i18n_inbox_label","msg-ui/components/message-request-banner-v2"],null]],[2,"\\n  "],[13],[2,"\\n\\n"],[6,[37,3],[[32,3]],null,[["default"],[{"statements":[[2,"    "],[8,"artdeco-button@artdeco-button",[[4,[38,0],[[32,1]],null],[4,[38,1],["click",[32,2]],null]],[["@size","@type"],[1,"tertiary"]],[["default"],[{"statements":[[2,"\\n      "],[8,"text-view-model@text-view-model-v2",[],[["@tvm"],[[32,3,["heading"]]]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["ember-cli-pemberly-tracking@track-interaction","on","t","if"]}',moduleName:"msg-ui/components/message-request-banner-v2.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/message-request-list-header",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"vOOhFKBu",block:'{"symbols":["@isDeclinedList","@goBack","@trackingKey"],"statements":[[10,"div"],[14,0,"msg-message-request-list-header p3"],[12],[2,"\\n  "],[10,"div"],[14,0,"visually-hidden"],[14,"aria-live","polite"],[12],[2,"\\n    "],[1,[30,[36,1],[[32,1],[30,[36,0],["i18n_a11y_declined_mesage_requests","msg-ui/components/message-request-list-header"],null],[30,[36,0],["i18n_a11y_message_requests","msg-ui/components/message-request-list-header"],null]],null]],[2,"\\n  "],[13],[2,"\\n  "],[10,"h4"],[14,0,"t-14 t-bold"],[12],[2,"\\n    "],[1,[30,[36,1],[[32,1],[30,[36,0],["i18n_declined_mesage_requests","msg-ui/components/message-request-list-header"],null],[30,[36,0],["i18n_message_requests","msg-ui/components/message-request-list-header"],null]],null]],[2,"\\n  "],[13],[2,"\\n  "],[10,"p"],[14,0,"t-12 pt1"],[12],[2,"\\n    "],[1,[30,[36,1],[[32,1],[30,[36,0],["i18n_declined_message_request_description","msg-ui/components/message-request-list-header"],null],[30,[36,0],["i18n_message_request_description","msg-ui/components/message-request-list-header"],null]],null]],[2,"\\n  "],[13],[2,"\\n  "],[11,"button"],[24,0,"msg-message-request-list-header__back-button t-14 t-bold pt1"],[24,4,"button"],[4,[38,2],["click",[32,2]],null],[4,[38,3],[[32,3]],null],[12],[2,"\\n    "],[1,[30,[36,1],[[32,1],[30,[36,0],["i18n_back_to_message_request_inbox","msg-ui/components/message-request-list-header"],null],[30,[36,0],["i18n_go_to_inbox","msg-ui/components/message-request-list-header"],null]],null]],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","if","on","ember-cli-pemberly-tracking@track-interaction"]}',moduleName:"msg-ui/components/message-request-list-header.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/message-snippet",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n=Ember.HTMLBars.template({id:"HsXfR/R4",block:'{"symbols":["@latestEvent","@conversation","&attrs"],"statements":[[2,"\\n"],[11,"span"],[17,3],[12],[2,"\\n"],[6,[37,3],[[32,1,["eventContent","recalledAt"]]],null,[["default","else"],[{"statements":[[2,"    "],[1,[30,[36,1],["i18n_message_deleted","msg-ui/components/message-snippet"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,7],[[32,1,["eventContent","messageBodyRenderFormat"]],"SYSTEM"],null]],null,[["default","else"],[{"statements":[[2,"    "],[1,[30,[36,11],[[32,1,["eventContent","attributedBody"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,7],[[32,1,["subtype"]],"PARTICIPANT_CHANGE"],null]],null,[["default","else"],[{"statements":[[6,[37,3],[[32,1,["eventContent","addedParticipants","length"]]],null,[["default","else"],[{"statements":[[2,"      "],[10,"span"],[14,0,"msg-conversation-card__message-snippet-body"],[12],[2,"\\n        "],[1,[30,[36,5],null,[["type","size","class"],["connect-icon","small","msg-conversation-card__message-snippet-icon"]]]],[2,"\\n"],[6,[37,3],[[30,[36,7],[[32,1,["eventContent","addedParticipants","length"]],1],null]],null,[["default","else"],[{"statements":[[6,[37,3],[[30,[36,7],[[32,1,["from","entityUrn"]],[32,1,["eventContent","addedParticipants","firstObject","entityUrn"]]],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_joined_conversation","msg-ui/components/message-snippet"],null],[30,[36,1],["i18n_other_user_joined_conversation","msg-ui/components/message-snippet"],[["usersName","joinedUserName"],[[32,1,["from","fullName"]],[30,[36,10],[[30,[36,9],[[32,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_added_single_participant_to_conversation","msg-ui/components/message-snippet"],[["addedUserName"],[[30,[36,10],[[30,[36,9],[[32,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]],[30,[36,1],["i18n_other_user_added_single_participant_to_conversation","msg-ui/components/message-snippet"],[["usersName","addedUserName"],[[32,1,["from","fullName"]],[30,[36,10],[[30,[36,9],[[32,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]],null]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"          "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_added_multiple_participants_to_conversation","msg-ui/components/message-snippet"],[["addedUserNames"],[[30,[36,9],[[32,1,["eventContent","addedParticipants"]]],null]]]],[30,[36,1],["i18n_other_user_added_multiple_participants_to_conversation","msg-ui/components/message-snippet"],[["usersName","addedUserNames"],[[32,1,["from","fullName"]],[30,[36,9],[[32,1,["eventContent","addedParticipants"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,7],[[32,1,["from","id"]],[32,1,["eventContent","removedParticipants","firstObject","id"]]],null]],null,[["default","else"],[{"statements":[[2,"      "],[10,"span"],[14,0,"msg-conversation-card__message-snippet-body"],[12],[2,"\\n        "],[1,[30,[36,5],null,[["type","size","class"],["leave-icon","small","msg-conversation-card__message-snippet-icon"]]]],[2,"\\n"],[6,[37,3],[[30,[36,7],[[32,1,["eventContent","removedParticipants","length"]],1],null]],null,[["default","else"],[{"statements":[[2,"          "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_left_conversation","msg-ui/components/message-snippet"],null],[30,[36,1],["i18n_single_other_user_left_conversation","msg-ui/components/message-snippet"],[["removedUserName"],[[30,[36,10],[[30,[36,9],[[32,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[1,[30,[36,1],["i18n_multiple_other_users_left_conversation","msg-ui/components/message-snippet"],[["removedUserNames"],[[30,[36,9],[[32,1,["eventContent","removedParticipants"]]],null]]]]],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["eventContent","removedParticipants","firstObject"]]],null]],null,[["default","else"],[{"statements":[[2,"      "],[10,"span"],[14,0,"msg-conversation-card__message-snippet-body"],[12],[2,"\\n        "],[1,[30,[36,5],null,[["type","size","class"],["leave-icon","small","msg-conversation-card__message-snippet-icon"]]]],[2,"\\n        "],[1,[30,[36,1],["i18n_you_were_removed","msg-ui/components/message-snippet"],[["removersName"],[[32,1,["from","name"]]]]]],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"      "],[10,"span"],[14,0,"msg-conversation-card__message-snippet-body"],[12],[2,"\\n        "],[1,[30,[36,5],null,[["type","size","class"],["leave-icon","small","msg-conversation-card__message-snippet-icon"]]]],[2,"\\n"],[6,[37,3],[[30,[36,7],[[32,1,["eventContent","removedParticipants","length"]],1],null]],null,[["default","else"],[{"statements":[[2,"          "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_removed_single_participant_from_conversation","msg-ui/components/message-snippet"],[["removedUserName"],[[30,[36,10],[[30,[36,9],[[32,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]],[30,[36,1],["i18n_other_user_removedd_single_participant_from_conversation","msg-ui/components/message-snippet"],[["removersName","removedUserName"],[[32,1,["from","name"]],[30,[36,10],[[30,[36,9],[[32,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_removed_multiple_participants_from_conversation","msg-ui/components/message-snippet"],[["removedUserNames"],[[30,[36,9],[[32,1,["eventContent","removedParticipants"]]],null]]]],[30,[36,1],["i18n_other_user_removed_multiple_participants_from_conversation","msg-ui/components/message-snippet"],[["removersName","removedUserNames"],[[32,1,["from","fullName"]],[30,[36,9],[[32,1,["eventContent","removedParticipants"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n    "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["shouldObfuscateMessage"]]],null,[["default","else"],[{"statements":[[2,"    "],[1,[32,1,["obfuscatedMessageWarning","text"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,7],[[32,2,["latestEvent","subtype"]],"SPONSORED_INMAIL"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"span"],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[2,"\\n      "],[1,[30,[36,3],[[32,1,["eventContent","customContent","advertiserLabel"]],[30,[36,1],["i18n_spinmail_advertiser_label","msg-ui/components/message-snippet"],[["label"],[[32,1,["eventContent","customContent","advertiserLabel"]]]]],[30,[36,1],["i18n_spinmail_label","msg-ui/components/message-snippet"],null]],null]],[2,"\\n    "],[13],[2,"\\n    "],[1,[32,1,["eventContent","subject"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,7],[[32,1,["subtype"]],"INMAIL"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"span"],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,[30,[36,1],["i18n_inmail_label","msg-ui/components/message-snippet"],null]],[13],[1,[30,[36,3],[[32,1,["eventContent","subject"]],[32,1,["eventContent","subject"]],[32,1,["eventContent","attributedBody","text"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,1,["eventContent","customContent","forwardedContentType"]]],null,[["default","else"],[{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["from"]]],null]],null,[["default","else"],[{"statements":[[2,"      "],[1,[30,[36,1],["i18n_you_forwarded","msg-ui/components/message-snippet"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"      "],[1,[30,[36,1],["i18n_other_user_forwarded","msg-ui/components/message-snippet"],[["usersName"],[[30,[36,0],[[32,1,["from","miniProfile"]]],null]]]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[10,"span"],[14,0,"msg-conversation-card__message-snippet-body"],[12],[2,"\\n"],[6,[37,3],[[30,[36,8],[[32,2]],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"span"],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[2,"\\n          "],[1,[30,[36,3],[[32,2,["sponsoredConversationMetadata","advertiserLabel"]],[30,[36,1],["i18n_spinmail_advertiser_label","msg-ui/components/message-snippet"],[["label"],[[32,2,["sponsoredConversationMetadata","advertiserLabel"]]]]],[30,[36,1],["i18n_spinmail_label","msg-ui/components/message-snippet"],null]],null]],[2,"\\n        "],[13],[2,"\\n        "],[10,"span"],[14,0,"msg-conversation-card__pill t-14 t-black pr1"],[12],[2,"\\n          "],[1,[32,1,["eventContent","attributedBody","text"]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,1,["eventContent","attachments","length"]]],null,[["default","else"],[{"statements":[[2,"          "],[1,[30,[36,5],null,[["type","size","class"],["paperclip-icon","small","msg-conversation-card__message-snippet-icon msg-conversation-card__message-snippet-icon--attachment"]]]],[2,"\\n          "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_sent_x_attachments","msg-ui/components/message-snippet"],[["count"],[[32,1,["eventContent","attachments","length"]]]]],[30,[36,1],["i18n_sender_sent_x_attachments_v2","msg-ui/components/message-snippet"],[["senderName","count"],[[30,[36,6],[[32,1,["from"]],"familiarName"],null],[32,1,["eventContent","attachments","length"]]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,1,["eventContent","customContent","media"]]],null,[["default","else"],[{"statements":[[2,"          "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_sent_gif","msg-ui/components/message-snippet"],null],[30,[36,1],["i18n_sender_sent_gif","msg-ui/components/message-snippet"],[["senderName"],[[30,[36,0],[[32,1,["from","miniProfile"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,1,["eventContent","mediaAttachments"]]],null,[["default","else"],[{"statements":[[6,[37,3],[[30,[36,7],[[32,1,["eventContent","mediaAttachments","firstObject","mediaType"]],"AUDIO"],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_sent_voice_message","msg-ui/components/message-snippet"],null],[30,[36,1],["i18n_sender_sent_voice_message","msg-ui/components/message-snippet"],[["senderName"],[[30,[36,0],[[32,1,["from","miniProfile"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,7],[[32,1,["eventContent","mediaAttachments","firstObject","mediaType"]],"VIDEO"],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_sent_video","msg-ui/components/message-snippet"],null],[30,[36,1],["i18n_sender_sent_video","msg-ui/components/message-snippet"],[["senderName"],[[30,[36,0],[[32,1,["from","miniProfile"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_sent_x_attachments","msg-ui/components/message-snippet"],[["count"],[[32,1,["eventContent","mediaAttachments","length"]]]]],[30,[36,1],["i18n_sender_sent_x_attachments_v2","msg-ui/components/message-snippet"],[["senderName","count"],[[30,[36,6],[[32,1,["from"]],"familiarName"],null],[32,1,["eventContent","mediaAttachments","length"]]]]]],null]],[2,"\\n          "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["hasLocationSharePreview"]]],null,[["default","else"],[{"statements":[[2,"          "],[1,[30,[36,5],null,[["type","size","class"],["map-marker-icon","small","msg-conversation-card__message-snippet-icon msg-conversation-card__message-snippet-icon--location"]]]],[2,"\\n          "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_sent_location","msg-ui/components/message-snippet"],null],[30,[36,1],["i18n_sender_sent_location","msg-ui/components/message-snippet"],[["senderName"],[[30,[36,0],[[32,1,["from","miniProfile"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["showStorySentSnippet"]]],null,[["default","else"],[{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["from"]]],null]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],["i18n_you_sent_story","msg-ui/components/message-snippet"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[1,[30,[36,1],["i18n_sent_you_story","msg-ui/components/message-snippet"],[["senderName"],[[30,[36,0],[[32,1,["from","miniProfile"]]],null]]]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,3],[[32,1,["eventContent","attributedBody","text"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_said_message","msg-ui/components/message-snippet"],[["body"],[[32,1,["eventContent","attributedBody","text"]]]]],[30,[36,1],["i18n_sender_said_message_v2","msg-ui/components/message-snippet"],[["senderName","body"],[[32,1,["from","familiarName"]],[32,1,["eventContent","attributedBody","text"]]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,1,["eventContent","sticker"]]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_sent_sticker","msg-ui/components/message-snippet"],null],[30,[36,1],["i18n_sender_sent_sticker_v2","msg-ui/components/message-snippet"],[["senderName"],[[32,1,["from","familiarName"]]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,4],[[32,1,["eventContent","feedUpdate"]]],null]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_sent_share_content_v3","msg-ui/components/message-snippet"],[["shareContentType"],[[30,[36,4],[[32,1,["eventContent","feedUpdate"]]],null]]]],[30,[36,1],["i18n_sender_share_content_v3","msg-ui/components/message-snippet"],[["senderName","shareContentType"],[[32,1,["from","familiarName"]],[30,[36,4],[[32,1,["eventContent","feedUpdate"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,1,["eventContent","digitalMediaConferenceUrn"]]],null,[["default"],[{"statements":[[2,"                  "],[1,[30,[36,3],[[30,[36,2],[[32,1,["from"]]],null],[30,[36,1],["i18n_you_sent_virtual_meeting","msg-ui/components/message-snippet"],null],[30,[36,1],["i18n_sent_you_a_virtual_meeting","msg-ui/components/message-snippet"],[["senderName"],[[30,[36,0],[[32,1,["from","miniProfile"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n  "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["global-helpers@name","t","msg-shared@is-current-user","if","msg-shared@get-share-content-type","artdeco-icons-web@li-icon","msg-shared@get-member-or-company-name","global-helpers@eq","msg-shared@is-sponsored-conversation","msg-ui@extract-participant-names","get","text-view-model@text-view-model"]}',moduleName:"msg-ui/components/message-snippet.hbs"})
class s extends t.default{get hasLocationSharePreview(){var e
return(null!==(e=Ember.get(this.args,"latestEvent.eventContent.attributedBody.text"))&&void 0!==e?e:"").startsWith("https://www.bing.com/maps?cp=")}get shouldObfuscateMessage(){return Ember.get(this.args,"latestEvent.obfuscatedMessageWarning")&&!Ember.get(this.args,"latestEvent.conversation.blocked")}get showStorySentSnippet(){return Ember.get(this.args,"latestEvent.eventContent.storyItemUrn")&&!Ember.get(this.args,"latestEvent.eventContent.replyToContent")}}e.default=s
Ember._setComponentTemplate(n,s)}))
define("msg-ui/components/msg-edit-form/msg-edit-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,d,c,u,p,g,h
const b=Ember.HTMLBars.template({id:"8cPn53fs",block:'{"symbols":["components","actions","props","assetLoader","assetLoader","@conversation","@prefilledMessage","@saveEditControlName"],"statements":[[10,"div"],[14,0,"msg-edit-form"],[12],[2,"\\n  "],[8,"msg-ui@msg-form/base-form",[[24,0,"msg-edit-form__base-form"]],[["@conversation","@prefilledMessage","@isMessageEditForm","@validateForm","@submitMessage"],[[32,6],[32,7],true,[32,0,["validateFormForEdits"]],[32,0,["onSaveEditedMessage"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,3,["isOverCharLimit"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@msg-form/primitives/character-limit-banner",[],[["@isEditForm"],[true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[14,0,"t-14 t-black pl3 pv2"],[12],[2,"\\n      "],[1,[30,[36,1],["i18n_edit_message","msg-ui/components/msg-edit-form/msg-edit-form"],null]],[2,"\\n    "],[13],[2,"\\n"],[6,[37,0],[[32,3,["showMentionsPicker"]]],null,[["default"],[{"statements":[[2,"      "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-mentions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,5,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"          "],[8,[32,1,["mentionsPicker"]],[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[5]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[14,0,"msg-edit-form__content-container ph3"],[12],[2,"\\n      "],[8,[32,1,["messageContentContainer"]],[[24,0,"msg-form__message-texteditor msg-edit-form__message-texteditor relative flex-grow-1 display-flex"]],[["@expandButtonSize"],[1]],null],[2,"\\n    "],[13],[2,"\\n    "],[10,"footer"],[14,0,"msg-edit-form__footer flex-shrink-zero"],[12],[2,"\\n      "],[10,"div"],[14,0,"msg-form__left-actions display-flex"],[12],[2,"\\n        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["emoji-picker"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,4,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,"emoji-picker@emoji-hoverable",[],[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[32,2,["updateTextarea"]],"msg_pillar_emoji",[32,2,["focusTextarea"]],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[4]}]]],[2,"\\n      "],[13],[2,"\\n      "],[10,"div"],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[2,"\\n        "],[8,"artdeco-button@artdeco-button",[],[["@class","@controlType","@size","@type","@text","@click"],["msg-edit-form__dismiss-button","button",1,"secondary",[30,[36,1],["i18n_cancel_button","msg-ui/components/msg-edit-form/msg-edit-form"],null],[32,0,["onDismissForm"]]]],null],[2,"\\n        "],[8,"artdeco-button@artdeco-button",[[4,[38,2],[[32,8]],null]],[["@class","@controlType","@size","@text","@disabled"],["msg-edit-form__save-button ml1","submit",1,[30,[36,1],["i18n_save_button","msg-ui/components/msg-edit-form/msg-edit-form"],null],[30,[36,0],[[32,3,["enableSend"]],false,true],null]]],null],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "]],"parameters":[1,2,3]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","t","ember-cli-pemberly-tracking@track-interaction"]}',moduleName:"msg-ui/components/msg-edit-form/msg-edit-form.hbs"})
let f=(a=Ember.inject.service("msg-data@data-manager"),o=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),l=Ember.inject.service("i18n"),m=Ember._action,d=Ember._action,c=Ember._action,u=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",p,this);(0,t.default)(this,"persistentToastManager",g,this);(0,t.default)(this,"i18n",h,this)}willDestroy(){super.willDestroy(...arguments)
Ember.set(this.args.event.conversation,"_draftMessage",void 0)}_showEditErrorToast(e){const t=e||"i18n_edit_generic_error",n=this.i18n.lookupTranslation("components/msg-ui@msg-edit-form/msg-edit-form",t)()
this.persistentToastManager.error({message:n})}onSaveEditedMessage(e){const t=this.args.event.get("createdAt")
if(n=t,Date.now()-n>36e5)this._showEditErrorToast("i18n_edit_timebox_expired_error")
else{this.actions.onDismissForm.call(this)
const t=this.args.event.conversation.id,n=Ember.get(this.args.event,"entityUrn")
t&&n&&e&&e.text||this._showEditErrorToast()
this.msgDataManager.editMessage(t,n,e).catch((e=>{this._showEditErrorToast()
throw e}))}var n}validateFormForEdits(e){return this.args.prefilledMessage!==e}onDismissForm(){Ember.set(this.args.event.conversation,"_draftMessage",void 0)
this.args.onDismissEditForm()}},p=(0,s.default)(u.prototype,"msgDataManager",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,s.default)(u.prototype,"persistentToastManager",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(u.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(u.prototype,"onSaveEditedMessage",[m],Object.getOwnPropertyDescriptor(u.prototype,"onSaveEditedMessage"),u.prototype),(0,s.default)(u.prototype,"validateFormForEdits",[d],Object.getOwnPropertyDescriptor(u.prototype,"validateFormForEdits"),u.prototype),(0,s.default)(u.prototype,"onDismissForm",[c],Object.getOwnPropertyDescriptor(u.prototype,"onDismissForm"),u.prototype),u)
e.default=f
Ember._setComponentTemplate(b,f)}))
define("msg-ui/components/msg-form/base-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","@ember-decorators/object","global-utils/utils/api-compat","msg-shared/utils/constants","msg-ui/utils/send-typing-indicator","msg-ui/utils/attributed-text-manager","global-utils/utils/is-browser","msg-shared/utils/attachments-handler","global-helpers/helpers/name","msg-ui/utils/conversation-properties","msg-shared/utils/decorate-attributed-body","ember-m3-pdsc-model-builder","global-helpers/helpers/load","ember-lifeline","msg-shared/helpers/is-inmail-conversation"],(function(e,t,n,s,i,r,a,o,l,m,d,c,u,p,g,h,b,f,v,y){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var _,E,w,M,C,k,T,x,S,P,O,I,D,A,R,j,N,L,F,z,U,B,H,q,V,W,G,K,$,Y,Q,J,Z,X,ee,te,ne,se,ie,re,ae,oe,le,me,de,ce,ue,pe,ge,he,be,fe,ve,ye,_e,Ee,we,Me,Ce,ke,Te,xe,Se,Pe,Oe,Ie,De,Ae,Re,je,Ne,Le,Fe,ze
const Ue=Ember.HTMLBars.template({id:"MYxCNr9n",block:'{"symbols":["@messagingSettings","@toggleExpandComposeField","&default","@composeIsFullyExpanded","&attrs","@validateForm","@updateFormState","@smpContent","@update","@subject","@prefilledMessage","@prefilledAttachments","@overridePlaceholder","@msgAdapterOptions","@forwardedEvent","@externallyValid","@hasResharedContent","@conversation","@contextByRecipients","@messageContext","@bubbleId","@id"],"statements":[[11,"form"],[16,1,[31,[[32,0,["formId"]]]]],[16,0,[31,[[30,[36,3],[[32,4],"msg-form--is-fully-expanded"],null]," msg-form"]]],[17,5],[4,[38,4],["click",[32,0,["onClick"]]],null],[4,[38,4],["submit",[32,0,["onSubmit"]]],null],[4,[38,4],["change",[32,0,["onChange"]]],null],[4,[38,4],["focusout",[32,0,["onFocusOut"]]],null],[4,[38,5],[[32,0,["baseFormAfterInsert"]]],null],[4,[38,6],[[32,0,["checkForReset"]],[32,22],[32,21],[32,20],[32,19],[32,18],[32,17],[32,16],[32,15],[32,1],[32,14],[32,13],[32,12],[32,11],[32,10],[32,9],[32,8],[32,7],[32,6]],null],[12],[2,"\\n"],[6,[37,3],[[27,[32,3]]],null,[["default"],[{"statements":[[2,"    "],[18,3,[[30,[36,2],null,[["uploadAttachmentPreviews","uploadAttachment","attachmentDragAndDrop","attachmentDragAndDropErrorDisplay","messageContentContainer","mentionsPicker","sendControls","sendModeToggle","inmailCreditsDisplay"],[[30,[36,1],["msg-ui@rich-media/upload-attachment-previews"],[["attachments","removeAttachment"],[[32,0,["attachments"]],[32,0,["removeAttachment"]]]]],[30,[36,1],["msg-ui@msg-form/primitives/upload-attachment"],[["addAttachment","beforeUpload","afterUpload","triggerDragAndDropLayer"],[[32,0,["addAttachment"]],[32,0,["onBeforeUpload"]],[32,0,["onValidateForm"]],[32,0,["triggerDragAndDropLayer"]]]]],[30,[36,1],["msg-ui@rich-media/attachment-drag-and-drop"],[["showUserEducationLayer","addAttachment","beforeUpload","afterUpload","onError"],[[32,0,["showDragAndDropUserEducationLayer"]],[32,0,["addAttachment"]],[32,0,["onBeforeUpload"]],[32,0,["afterDragAndDropUpload"]],[32,0,["handleAttachmentDropError"]]]]],[30,[36,1],["msg-ui@rich-media/attachment-drag-and-drop-error-display"],[["errorType","dismissError"],[[32,0,["attachmentDropErrorType"]],[32,0,["dismissAttachmentDropError"]]]]],[30,[36,1],["msg-ui@msg-form/primitives/msg-content-container"],[["overridePlaceholder","showPlaceholder","handleKeyDown","messageSendInProgress"],[[32,0,["_overridePlaceholder"]],[32,0,["showPlaceholder"]],[32,0,["onTextEditorKeyDown"]],[32,0,["messageSendInProgress"]]]]],[30,[36,1],["msg-mentions@mentions-picker"],[["connectionMentions","conversationMentions","mentionsTopPosition","mentionAll","showMentionAllOption","isTabbingThroughMentions","onKeyDown","selectMentionWithKeyDown","selectMention","closeMentions"],[[32,0,["connectionMentions"]],[32,0,["conversationMentions"]],[32,0,["mentionsTopPosition"]],[32,0,["mentionAll"]],[32,0,["showMentionAllOption"]],[32,0,["isTabbingThroughMentions"]],[32,0,["onMentionsPickerKeyDown"]],[32,0,["selectMentionWithKeyDown"]],[32,0,["selectMention"]],[32,0,["closeMentions"]]]]],[30,[36,1],["msg-ui@msg-form/primitives/send-controls"],[["enableSend"],[[32,0,["enableSend"]]]]],[30,[36,1],["msg-ui@msg-form/primitives/send-mode-toggle"],null],[30,[36,1],["msg-conversation-ui@inmail-credits-display"],null]]]],[30,[36,0],null,[["beforeUpload","validateForm","focusTextarea","addAttachment","updateTextarea","updateTextareaWithEmoji","focusComposeAfterEmojiPickerClose","handleGIFSend","toggleExpandComposeField","onSubmit"],[[32,0,["onBeforeUpload"]],[32,0,["onValidateForm"]],[32,0,["focusTextarea"]],[32,0,["addAttachment"]],[32,0,["updateTextarea"]],[32,0,["updateTextareaWithEmoji"]],[32,0,["focusComposeAfterEmojiPickerClose"]],[32,0,["handleGIFSend"]],[32,2],[32,0,["onSubmit"]]]]],[30,[36,0],null,[["attributedTextModel","showMentionsPicker","showMiniAttachmentPreviews","attachments","overridePlaceholder","showPlaceholder","isValidForm","isOverCharLimit","pressEnterToSend","isNotInmail","supportedFileAttachmentTypes","supportedImageAttachmentTypes","attachmentDropErrorType","enableSend","subjectDisplay"],[[32,0,["attributedTextModel"]],[32,0,["showMentionsPicker"]],[32,0,["showMiniAttachmentPreviews"]],[32,0,["attachments"]],[32,0,["_overridePlaceholder"]],[32,0,["showPlaceholder"]],[32,0,["isValidForm"]],[32,0,["isOverCharLimit"]],[32,1,["pressEnterToSend"]],[32,0,["isNotInmail"]],[32,0,["supportedFileAttachmentTypes"]],[32,0,["supportedImageAttachmentTypes"]],[32,0,["attachmentDropErrorType"]],[32,0,["enableSend"]],[32,0,["subjectDisplay"]]]]]]],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["hash","component","global-helpers@lazy-hash","if","on","did-insert","did-update"]}',moduleName:"msg-ui/components/msg-form/base-form.hbs"}),{CONTROL_NAMES:{MENTIONS:{OPEN_DROPDOWN:Be,SELECT_MENTION:He}},KEYCODES:{TAB:qe,ENTER:Ve,ESC:We,SPACEBAR:Ge,UP_ARROW:Ke,DOWN_ARROW:$e,Z:Ye},MESSAGE_TYPE:Qe,MESSAGING_REALTIME:{STILL_TYPING_TIMEOUT:Je}}=l.default,Ze=/(?:^|\s)([@](?:\S+\s)?(?:\S+\s)?\S*$)/
let Xe=(_=Ember.inject.service("i18n"),E=Ember.inject.service("jet"),w=Ember.inject.service("lix"),M=Ember.inject.service("msg-data@data-manager"),C=Ember.inject.service("store"),k=Ember.inject.service("tracking"),T=Ember.inject.service("formatter"),x=Ember.inject.service("vector@vector-upload"),S=Ember.inject.service("msg-ui@update-message-compose"),P=Ember._tracked,O=Ember._tracked,I=Ember._tracked,D=Ember._tracked,A=Ember._tracked,R=Ember._tracked,j=Ember._tracked,N=Ember._tracked,L=Ember._tracked,F=Ember._tracked,z=Ember._tracked,U=Ember._tracked,B=Ember._tracked,H=Ember._tracked,q=Ember._action,V=Ember._action,W=Ember._action,G=Ember._action,K=(0,a.on)("updateMessageCompose"),$=(0,a.on)("focusMessageCompose"),Y=Ember._action,Q=Ember._action,J=Ember._action,Z=Ember._action,X=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,se=Ember._action,ie=Ember._action,re=Ember._action,ae=Ember._action,oe=Ember._action,le=Ember._action,me=Ember._action,de=Ember._action,ce=Ember._action,ue=Ember._action,pe=Ember._action,ge=Ember._action,he=Ember._action,be=class extends r.default{get showPlaceholder(){return!Ember.get(this,"attributedTextModel.text")}get showMiniAttachmentPreviews(){const{composeIsFullyExpanded:e,isInMailCompose:t}=this.args
return e&&!t}get formElement(){return c.default?document.getElementById(this.formId):null}get subjectDisplay(){var e
return(null===(e=this.args.subject)||void 0===e?void 0:e.string)||this.args.subject||""}set subjectDisplay(e){this.subjectDisplay=e
return e}get isNotInmail(){const{isInMailCompose:e,conversation:t}=this.args
return!(e||(0,y.isInmailConversation)(t))}get hasNewConversationMessageInFlight(){var e
return(null===(e=this.messageSendRequest)||void 0===e?void 0:e.isLoading)&&!this.args.conversation}get enableSend(){return this.isValidForm&&!this.hasNewConversationMessageInFlight}get projectShineAnimationsEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-animations")}constructor(){var e
super(...arguments);(0,n.default)(this,"pageKey","flagship3_messaging_msg_form");(0,n.default)(this,"rumComponentId","messaging/base-form");(0,t.default)(this,"i18n",fe,this);(0,t.default)(this,"jet",ve,this);(0,t.default)(this,"lix",ye,this);(0,t.default)(this,"msgDataManager",_e,this);(0,t.default)(this,"store",Ee,this);(0,t.default)(this,"tracking",we,this);(0,t.default)(this,"formatter",Me,this);(0,t.default)(this,"vectorUpload",Ce,this);(0,t.default)(this,"updateMessageComposeService",ke,this);(0,t.default)(this,"attributedTextModel",Te,this);(0,t.default)(this,"showMentionsPicker",xe,this);(0,t.default)(this,"mentionsTopPosition",Se,this);(0,t.default)(this,"messageSendRequest",Pe,this);(0,t.default)(this,"isTabbingThroughMentions",Oe,this);(0,t.default)(this,"isValidForm",Ie,this);(0,t.default)(this,"isOverCharLimit",De,this);(0,t.default)(this,"conversationMentions",Ae,this);(0,t.default)(this,"connectionMentions",Re,this);(0,t.default)(this,"showMentionsPicker",je,this);(0,t.default)(this,"showDragAndDropUserEducationLayer",Ne,this);(0,t.default)(this,"attachmentDropErrorType",Le,this);(0,t.default)(this,"attachments",Fe,this);(0,t.default)(this,"messageSendInProgress",ze,this);(0,n.default)(this,"inMailResponseAction",null);(0,n.default)(this,"lastSeenTyping",0);(0,n.default)(this,"supportedFileAttachmentTypes","image/*,.ai,.psd,.pdf,.doc,.docx,.csv,.zip,.rar,.ppt,.pptx,.pps,.ppsx,.odt,.rtf,.xls,.xlsx,.txt,.pub,.html,.7z,.eml");(0,n.default)(this,"supportedImageAttachmentTypes","image/*")
const{id:s,isOverlay:i,beforeUpload:r,conversation:a,overridePlaceholder:o,prefilledAttachments:l}=this.args
this._overridePlaceholder=o
this.attachments=l||[]
this.attachmentsHandler=new u.default({beforeUpload:r,vectorUpload:this.vectorUpload,afterUpload:this._validateForm.bind(this),tracking:this.tracking,jet:this.jet,updateUI:this._addAttachment.bind(this)})
this.formId=s||`base-form-${Ember.guidFor(this)}`
this.oldConvo=a
this.AttributedTextManager=new d.default
const m=(null===(e=this.args.prefilledMessage)||void 0===e?void 0:e.string)||this.args.prefilledMessage||Ember.get(this.args,"conversation._draftMessage")
if(m)if(this.args.isMessageEditForm&&"object"==typeof m&&Ember.get(m,"text")){const e=(0,h.default)(m,Ember.get(m,"text"),{url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")})
let t=0
e.forEach((e=>{if(e.mention){const n=this._getMentionsEntityByAttributeChunk(e)
n&&this.AttributedTextManager.insertAttribute({entity:n,typeaheadHit:n,entityUrn:e.entityUrn,match:{start:t,length:e.value.length,text:e.value},tokenSelection:{start:t,end:t+e.value.length},type:(0,b.buildModel)("com.linkedin.pemberly.text.Entity",{urn:e.entityUrn,type:"Entity"})})}else this.AttributedTextManager.insertText(e.value,{start:t,end:t})
t+=e.value.length}))}else this.AttributedTextManager.insertText(m,{start:0,end:0})
this._validateForm()
i&&(this.bubbleId=this.args.bubbleId)
this.updateMessageComposeService.setBaseFormSubscriber(this,i)}_toggleExpandComposeField(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
"function"==typeof this.args.toggleExpandComposeField&&this.args.toggleExpandComposeField(e)}onClick(e){const t=this._getMessageTextEditor()
t.contains(e.target)&&this.AttributedTextManager.correctClickPosition(t)}onChange(){this._validateForm()}onSubmit(e){return this._onSubmit(e)}checkForReset(){const e=this.oldConvo&&Ember.get(this.oldConvo,"id"),t=Ember.get(this.args,"conversation.id")
if(e&&e!==t){const e=this.AttributedTextManager.getModel().text
e&&Ember.set(this.oldConvo,"_draftMessage",e)
this._resetForm()
this.oldConvo=this.args.conversation}this._validateForm()}willDestroy(){super.willDestroy(...arguments);(0,v.runDisposables)(this)
this.updateMessageComposeService.removeBaseFormSubscriber(this,this.args.isOverlay);(0,v.runDisposables)(this)}updateMessageComposeFromService(e){this._updateTextarea(e)}focusMessageComposeFromService(){this._focusTextarea()}shouldSubmitMessage(e){const{keyCode:t,metaKey:n,ctrlKey:s,shiftKey:i,altKey:r}=e
if(t===Ve){if(Ember.get(this.args,"messagingSettings.pressEnterToSend")&&!this.args.isInMailCompose)return!(i||r||n||s)
if(n||s)return!0}return!1}_addAttachment(e){this.attachments.pushObject(e)}_updateTextarea(e){const t=Ember.isPresent(this._lastCursorPosition)?this._lastCursorPosition:this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),c.default)
this.AttributedTextManager.insertText(e,t)
this.updateAttributedTextModel()
this._focusTextarea()
this._validateForm()}_onSubmit(e){var t,n
e.preventDefault()
null===(t=(n=this.args).onBeforeFormSubmit)||void 0===t||t.call(n,this)
const s=this._constructAttributedBody()
let i
if(this.args.isMessageEditForm)i=this.args.submitMessage(s)
else{var r
if(!this._validateForm())return Ember.RSVP.Promise.reject()
const e={message:Ember.get(s,"text"),conversation:this.args.conversation,contextByRecipients:this.args.contextByRecipients,attributedBody:s,attachments:(null!==(r=this.attachments)&&void 0!==r?r:[]).rejectBy("isError"),messageReplyType:this.args.conversation?(0,g.getReplyMessageType)(this.args.conversation):Qe.M2M,adapterOptions:this.args.msgAdapterOptions}
if(this.args.messageContext){e.contextEntityUrn=this.args.messageContext.contextEntityUrn
e.contextText=this.args.messageContext.contextText}"INMAIL"===Ember.get(this.args,"conversation.latestEvent.subtype")&&Ember.get(this.args,"conversation.withNonConnection")&&this._setupInmailResponseActionPayload(e)
this.args.isInMailCompose&&(e.subject=this.subjectDisplay)
this.args.smpContent&&(e.smpContent=this.args.smpContent)
this.args.update&&(e.update={id:Ember.get(this.args,"update.id"),type:(0,o.classNameOf)(this.args.update)})
this.projectShineAnimationsEnabled&&(this.messageSendInProgress=!0)
const t=!!this.args.conversation
t&&(this.projectShineAnimationsEnabled?this.delayedReset=Ember.run.later((()=>{this._resetForm(!0)
this.messageSendInProgress=!1}),400):this._resetForm(!0))
i=this.args.submitMessage(e).then((()=>{if(!t&&!this.isDestroying){this.projectShineAnimationsEnabled&&(this.messageSendInProgress=!1)
this._resetForm(!0)}}))}this.messageSendRequest=(0,f.load)(i)
return this.messageSendRequest}baseFormAfterInsert(){const e=this._getMessageTextEditor();(0,v.addEventListener)(this,this.formElement,"paste",(t=>{e&&e.contains(t.target)&&this._handlePasteEvent(t)}));(0,v.addEventListener)(this,this.formElement,"input",(t=>{e&&e.contains(t.target)&&this._onTextEditorChange(t)}))
const t=""!==this.AttributedTextManager.getModel().text.trim()
this.updateAttributedTextModel(t)
this._validateForm()}onFocusOut(e){if(e.target.classList.contains("msg-form__contenteditable")){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),c.default)
this._lastCursorPosition=e
this.AttributedTextManager.updateModelCursorPosition(e.start)}}_constructAttributedBody(){var e
this.AttributedTextManager.removeMentionInProgress()
const t=this.AttributedTextManager.getModel()
let{attributes:n}=t
n=t.attributes.map((e=>{delete e.entity
return e}))
return{text:(null!==(e=Ember.get(t,"text"))&&void 0!==e?e:"").trim(),attributes:n}}getMentionedMembers(){return this.AttributedTextManager.getModel().attributes.filter((e=>{var t
return(null===(t=this.mentionAll)||void 0===t?void 0:t.entityUrn)!==e.urn})).map((e=>{const t=this.AttributedTextManager.EntityMap[e.urn]
return Ember.get(t,"miniProfile")}))}onBeforeUpload(e){let{attachment:t,isPasteEvent:n}=e
this.args.beforeUpload({attachment:t,isPasteEvent:n})
this.disableForm()}updateTextarea(e){let{body:t}=e
this._updateTextarea(t)}updateTextareaWithEmoji(e){let{body:t,triggerData:n}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({bubbleId:n.bubbleId,isOverlay:this.args.isOverlay,messageText:t})}focusComposeAfterEmojiPickerClose(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.updateMessageComposeService.triggerFocusMessageCompose({bubbleId:e.bubbleId,isOverlay:this.args.isOverlay})}disableForm(){this.isValidForm=!1}handleGIFSend(e,t){this.messageSendRequest=(0,f.load)(this.args.submitMessage({gif:e,conversation:t,message:"",messageReplyType:t?(0,g.getReplyMessageType)(t):Qe.M2M},!1).then((()=>{this.isDestroying||this._toggleExpandComposeField(!1)})))
return this.messageSendRequest}handleAttachmentDropError(e){this.attachmentDropErrorType=e
this._toggleExpandComposeField(!1)}dismissAttachmentDropError(){this.attachmentDropErrorType=""}onValidateForm(){this._validateForm()}afterDragAndDropUpload(){this._validateForm()
this._focusTextarea()}focusTextarea(){this._focusTextarea()}addAttachment(e){this._addAttachment(e)}removeAttachment(e){this.attachments.removeObject(e)
this._validateForm()}overridePlaceholderValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
this._overridePlaceholder=e}onMentionsPickerKeyDown(e){if(!this.showMentionsPicker)return
e.preventDefault()
const{keyCode:t}=e
switch(t){case We:this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()
break
case $e:this._arrowThroughDropdown(e,!1)
break
case Ke:this._arrowThroughDropdown(e,!0)
break
case qe:this._arrowThroughDropdown(e,e.shiftKey)}}onTextEditorKeyDown(e){if(this.projectShineAnimationsEnabled&&this.messageSendInProgress){Ember.run.cancel(this.delayedReset)
this._resetForm(!0)
this.messageSendInProgress=!1}const{keyCode:t,shiftKey:n,ctrlKey:s,metaKey:i}=e,r=this._getMessageTextEditor(),a=this.AttributedTextManager.getCaretPosition(r)
switch(t){case Ye:if(s||i){e.preventDefault()
this.AttributedTextManager.handleUndoRedo(e)
this.updateAttributedTextModel()}break
case We:if(this.showMentionsPicker){this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()}break
case $e:this.showMentionsPicker&&this._arrowThroughDropdown(e,!1)
break
case Ke:this.showMentionsPicker&&this._arrowThroughDropdown(e,!0)
break
case qe:this.showMentionsPicker&&this._arrowThroughDropdown(e,n)
break
case Ve:if(this.showMentionsPicker&&this._getCurrentMentionValue()){const t=this.showMentionAllOption?this.mentionAll:Ember.get(this,"conversationMentions.firstObject")||Ember.get(this,"connectionMentions.firstObject")
if(t){e.stopPropagation()
e.preventDefault()
this._selectAndAddMention(t)
this._closeMentionsDropdownUI()
break}}if(e.target!==r)break
if(this.shouldSubmitMessage(e)){this._onSubmit(e)
break}e.preventDefault()
this.AttributedTextManager.insertText("\n",a)
this.updateAttributedTextModel()
this._scrollToCaretPosition()}}selectMentionWithKeyDown(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(t.keyCode===Ve||t.keyCode===Ge){t.stopPropagation()
t.preventDefault()
this._selectAndAddMention(e)}}selectMention(e){this._selectAndAddMention(e)}closeMentions(){this._closeMentionsDropdownUI()}triggerDragAndDropLayer(e){this.showDragAndDropUserEducationLayer=e}_selectAndAddMention(e){this.tracking.fireInteractionEvent(He,"SHORT_PRESS")
this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute(e)
this.updateAttributedTextModel()
this._closeMentionsDropdownUI()}_sendTypingIndicator(){const e=Ember.get(this.args,"conversation.id")
e&&(0,m.default)(e,this.store)}_getMessageTextEditor(){return this.formElement.querySelector(".msg-form__contenteditable")}_getComposeScrollableArea(){return this.formElement.querySelector(".msg-form__msg-content-container--scrollable")}_focusTextarea(){const e=this._getMessageTextEditor()
""!==this.AttributedTextManager.getModel().text.trim()&&this.setCaretPosition()
e&&e.focus()}_resetForm(e){let t
if(e){t=""
this.args.conversation&&Ember.get(this.args,"conversation._draftMessage")&&Ember.set(this.args,"conversation._draftMessage",void 0)}else t=Ember.get(this.args,"conversation._draftMessage")||""
this.isValidForm=!1
this.attachments=[]
this._closeMentionsDropdownUI()
this.AttributedTextManager.resetModel()
this._lastCursorPosition=null
t&&this.AttributedTextManager.insertText(t,{start:0,end:0})
this.updateAttributedTextModel()
this._updateFormState()
this.attachmentDropErrorType=""
this._overridePlaceholder=null
this._toggleExpandComposeField(!1)}_updateFormState(){var e,t
const n=Ember.get(this,"attributedTextModel.text")
null===(e=(t=this.args).updateFormState)||void 0===e||e.call(t,n)}_validateForm(){const e=this.attachments||[],t=e.filter((e=>{let{isUploading:t,isError:n}=e
return t||n})),n=Ember.get(this,"attributedTextModel.text")
if((null==n?void 0:n.length)>=8e3){this.isValidForm=!1
this.isOverCharLimit=!0
return!1}this.isOverCharLimit=!1
let s=(Ember.isPresent(n)||e.length>0||this.args.update||this.args.forwardedEvent)&&0===t.length
if(this.args.validateForm){var i
const e=null===(i=this.subjectDisplay)||void 0===i?void 0:i.trim()
s=s&&this.args.validateForm(n,e)}const r=this.args.externallyValid
Ember.isPresent(r)&&(s=s&&r)
this.isValidForm=s
return!this.hasNewConversationMessageInFlight&&!!s}_setupInmailResponseActionPayload(e){const t="INMAIL"===Ember.get(this.args,"conversation.latestEvent.subtype"),n=Ember.get(this.args,"conversation.latestEvent.eventContent.customContent.inmailProductType")
e.inMailResponseAction=!t||"RECRUITER"!==n&&"SALES"!==n?this.inMailResponseAction||"ACCEPT":this.inMailResponseAction||"NONE"}_handlePasteEvent(e){let{clipboardData:t}=e
if(t){const{files:n}=t
if(n&&n.length&&t.types&&t.types.length<3&&t.types.includes("Files")){e.preventDefault()
if(this.args.hasResharedContent||Ember.get(this.args,"messageContext.contextEntityUrn"))return
const[t]=n
t.type.match(/image/)&&this.attachmentsHandler.uploadAttachment(t,!0)
return}}e.preventDefault()
t&&t.getData?t=t.getData("text/plain"):c.default&&(t=window.clipboardData.getData("Text"))
const n=t.replace(/(\r\n|\n\r|\r)/g,"\n"),s=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),c.default)
this.AttributedTextManager.insertText(n,s)
this.updateAttributedTextModel()
if(this.args.conversation){const e=this.AttributedTextManager.getModel().text
Ember.set(this.args,"conversation._draftMessage",e)}this._validateForm()
this._updateFormState()}_onTextEditorChange(){const e=this._getMessageTextEditor()
this.AttributedTextManager.updateModelFromHTML(e)
this.updateAttributedTextModel()
if(this.args.conversation){const e=this.AttributedTextManager.getModel().text
Ember.set(this.args,"conversation._draftMessage",e)}this._triggerMentionDropdown();(0,v.debounceTask)(this,"_validateForm",150);(0,v.debounceTask)(this,"_updateFormState",150)
const t=Date.now()
if(t-this.lastSeenTyping>Je){this.lastSeenTyping=t
this._sendTypingIndicator()}}updateAttributedTextModel(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
const t=this.AttributedTextManager.getModel()
this.attributedTextModel=t
if(this.AttributedTextManager.didAttributesChange){const t=this._getMessageTextEditor(),n=this.AttributedTextManager.createHTMLFromModel()
jSecure.setElementContent(t,n)
e&&this.setCaretPosition()}}setCaretPosition(e){const t=this.AttributedTextManager.getModel(),n=this._getMessageTextEditor()
this.AttributedTextManager.setCaretPosition(e||t.cursor,n)}_arrowThroughDropdown(e,t){e.stopPropagation()
e.preventDefault()
const n=this.formElement.querySelector("[data-mentions-picker]"),s=this.formElement.querySelectorAll("[data-mentions-picker-option]"),i=this.formElement.querySelector("[data-mentions-picker-option]:focus")
let r
if(i){r=Array.from(s).indexOf(i)
r=t?--r:++r}else r=t?s.length-1:1
if(s[r]&&r>0){s[r].focus()
this.isTabbingThroughMentions=!0}else{n.scrollTop=0
this._focusTextarea()
this.isTabbingThroughMentions=!1}}_getCurrentMentionValue(){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor())
return(this.AttributedTextManager.getTextBeforeCursor(e).match(Ze)||[])[1]||""}_getCurrentMentionQuery(){return this._getCurrentMentionValue().substr(1).trim()}_triggerMentionDropdown(){const{start:e,end:t}=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor())
if(t!==e||this.AttributedTextManager.mentionAtPosition(t))return
const n=this._getCurrentMentionValue()
if(Ember.isPresent(n)){const e=t-n.length,s=this._getCurrentMentionQuery()
this._fetchConversationMentions(s,{start:e,end:t})
if(s){const n=Ember.testing?0:100;(0,v.debounceTask)(this,"_fetchConnectionMentions",s,{start:e,end:t},n)}else{const e=this.conversationMentions||[],t=this.connectionMentions||[]
this.showMentionsPicker=e.length||t.length
this.tracking.fireInteractionEvent(Be,"KEYBOARD_SUBMIT")}this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute({mentionInProgress:!0,match:{start:e,length:n.length,text:n},tokenSelection:{start:e,end:t}})
this._setMentionsDropdownPosition()}else this._closeMentionsDropdownUI()
this.updateAttributedTextModel()}_getMentionsEntityByAttributeChunk(e){const t=Ember.get(this.args,"conversation.participants"),{entityUrn:n}=e
return t.findBy("miniProfile.entityUrn",n)}_fetchConversationMentions(e,t){const n=Ember.get(this.args,"conversation.participants")
if(!n)return
const s=n.filter((t=>{const n=(0,p.getName)(Ember.get(t,"miniProfile"))
return this.formatter.formatName(n,"full").toLowerCase().indexOf(e.toLowerCase())>=0})).map(((e,n)=>{const s=`@${this.formatter.formatName((0,p.getName)(Ember.get(e,"miniProfile")),"full")}`
return{index:n,tokenSelection:t,typeaheadHit:e,entity:e,entityUrn:Ember.get(e,"miniProfile.entityUrn"),match:{start:t.start,length:s.length,text:s}}})),i=this.i18n.lookupTranslation("components/msg-ui@msg-form/base-form","i18n_mention_all")()
if(this._shouldShowMentionAllOption(e,i)){const e=this._createMentionAllEntity(t,i)
this.mentionAll=e
this.showMentionAllOption=!0}else this.showMentionAllOption=!1
this.conversationMentions=s}_createMentionAllEntity(e,t){const n=`urn:li:fs_conversation:${Ember.get(this.args,"conversation.id")}`,s=Ember.Object.create({miniProfile:Ember.Object.create({firstName:t,lastName:"",entityUrn:n})})
return Ember.Object.create({tokenSelection:e,entity:s,entityUrn:Ember.get(s,"miniProfile.entityUrn"),match:{length:t.length+1,start:e.start,text:`@${t}`}})}_shouldShowMentionAllOption(e,t){return Ember.get(this.args,"conversation.groupChat")&&t.toLowerCase().includes(e.toLowerCase())}_fetchConnectionMentions(e,t){const n=this.conversationMentions||[],s=n.mapBy("typeaheadHit.miniProfile.id")
return this.msgDataManager.fetchTypeaheadResults(e).then((i=>{if(this.isDestroying)return
if(e!==this._getCurrentMentionQuery())return
const r=i.reduce(((e,n)=>{const i=Ember.get(n,"miniProfile.id")
if(s.indexOf(i)>-1)return e
const r=`@${this.formatter.formatName((0,p.getName)(Ember.get(n,"miniProfile")),"full")}`
return[...e,{index:e.length,tokenSelection:t,typeaheadHit:n,entity:n,entityUrn:Ember.get(n,"miniProfile.entityUrn"),match:{start:t.start,length:r.length,text:r}}]}),[])
this.showMentionsPicker=!(!r.length&&!n.length)
this.connectionMentions=r}))}_closeMentionsDropdownUI(){if(this.showMentionsPicker){this.AttributedTextManager.removeMentionInProgress()
this.showMentionsPicker=!1
this.mentionsTopPosition=!1
this.connectionMentions=null
this.conversationMentions=null
this.isTabbingThroughMentions=!1}}_setMentionsDropdownPosition(){if(!c.default)return
if(!this.args.composeIsFullyExpanded){const e=this.formElement.offsetHeight
this.mentionsTopPosition=`bottom: ${e}px`
return}const e=this._getCaretParentOffsets()
if(e){const t=20,n=this.formElement.querySelector(".msg-form__footer").offsetHeight,{scrollTop:s,offsetHeight:i}=this._getMessageTextEditor(),{caretParentOffsetTop:r,caretParentOffsetHeight:a}=e
let o=Math.round(a+r+4-s)
o+=this.formElement.offsetTop
let l="auto"
if(o>130){l=`${Math.round(i-r-a+n+t+s+4)}px`
o="auto"}else o=`${o}px`
this.mentionsTopPosition=`top: ${o}; bottom: ${l};`}}_scrollToCaretPosition(){const e=this._getCaretParentOffsets()
if(e){const{caretParentOffsetTop:t,caretParentOffsetHeight:n}=e,s=t+n,i=this._getComposeScrollableArea(),{scrollTop:r,offsetHeight:a}=i
s>r+a?i.scrollTop=s-a:t<r&&(i.scrollTop=t)}}_getCaretParentOffsets(){const e=this._getMessageTextEditor(),t=e.ownerDocument||e.document,n=t.defaultView||t.parentWindow
if(void 0!==n.getSelection){if(n.getSelection().rangeCount>0){const e=n.getSelection().getRangeAt(0),{offsetTop:t,offsetHeight:s}=e.commonAncestorContainer.parentNode
return{caretParentOffsetTop:t,caretParentOffsetHeight:s}}}}},fe=(0,s.default)(be.prototype,"i18n",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=(0,s.default)(be.prototype,"jet",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,s.default)(be.prototype,"lix",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,s.default)(be.prototype,"msgDataManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,s.default)(be.prototype,"store",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,s.default)(be.prototype,"tracking",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,s.default)(be.prototype,"formatter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,s.default)(be.prototype,"vectorUpload",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,s.default)(be.prototype,"updateMessageComposeService",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,s.default)(be.prototype,"attributedTextModel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=(0,s.default)(be.prototype,"showMentionsPicker",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Se=(0,s.default)(be.prototype,"mentionsTopPosition",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pe=(0,s.default)(be.prototype,"messageSendRequest",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=(0,s.default)(be.prototype,"isTabbingThroughMentions",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=(0,s.default)(be.prototype,"isValidForm",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),De=(0,s.default)(be.prototype,"isOverCharLimit",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ae=(0,s.default)(be.prototype,"conversationMentions",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Re=(0,s.default)(be.prototype,"connectionMentions",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),je=(0,s.default)(be.prototype,"showMentionsPicker",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne=(0,s.default)(be.prototype,"showDragAndDropUserEducationLayer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Le=(0,s.default)(be.prototype,"attachmentDropErrorType",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fe=(0,s.default)(be.prototype,"attachments",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ze=(0,s.default)(be.prototype,"messageSendInProgress",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(be.prototype,"onClick",[q],Object.getOwnPropertyDescriptor(be.prototype,"onClick"),be.prototype),(0,s.default)(be.prototype,"onChange",[V],Object.getOwnPropertyDescriptor(be.prototype,"onChange"),be.prototype),(0,s.default)(be.prototype,"onSubmit",[W],Object.getOwnPropertyDescriptor(be.prototype,"onSubmit"),be.prototype),(0,s.default)(be.prototype,"checkForReset",[G],Object.getOwnPropertyDescriptor(be.prototype,"checkForReset"),be.prototype),(0,s.default)(be.prototype,"updateMessageComposeFromService",[K],Object.getOwnPropertyDescriptor(be.prototype,"updateMessageComposeFromService"),be.prototype),(0,s.default)(be.prototype,"focusMessageComposeFromService",[$],Object.getOwnPropertyDescriptor(be.prototype,"focusMessageComposeFromService"),be.prototype),(0,s.default)(be.prototype,"baseFormAfterInsert",[Y],Object.getOwnPropertyDescriptor(be.prototype,"baseFormAfterInsert"),be.prototype),(0,s.default)(be.prototype,"onFocusOut",[Q],Object.getOwnPropertyDescriptor(be.prototype,"onFocusOut"),be.prototype),(0,s.default)(be.prototype,"onBeforeUpload",[J],Object.getOwnPropertyDescriptor(be.prototype,"onBeforeUpload"),be.prototype),(0,s.default)(be.prototype,"updateTextarea",[Z],Object.getOwnPropertyDescriptor(be.prototype,"updateTextarea"),be.prototype),(0,s.default)(be.prototype,"updateTextareaWithEmoji",[X],Object.getOwnPropertyDescriptor(be.prototype,"updateTextareaWithEmoji"),be.prototype),(0,s.default)(be.prototype,"focusComposeAfterEmojiPickerClose",[ee],Object.getOwnPropertyDescriptor(be.prototype,"focusComposeAfterEmojiPickerClose"),be.prototype),(0,s.default)(be.prototype,"handleGIFSend",[te],Object.getOwnPropertyDescriptor(be.prototype,"handleGIFSend"),be.prototype),(0,s.default)(be.prototype,"handleAttachmentDropError",[ne],Object.getOwnPropertyDescriptor(be.prototype,"handleAttachmentDropError"),be.prototype),(0,s.default)(be.prototype,"dismissAttachmentDropError",[se],Object.getOwnPropertyDescriptor(be.prototype,"dismissAttachmentDropError"),be.prototype),(0,s.default)(be.prototype,"onValidateForm",[ie],Object.getOwnPropertyDescriptor(be.prototype,"onValidateForm"),be.prototype),(0,s.default)(be.prototype,"afterDragAndDropUpload",[re],Object.getOwnPropertyDescriptor(be.prototype,"afterDragAndDropUpload"),be.prototype),(0,s.default)(be.prototype,"focusTextarea",[ae],Object.getOwnPropertyDescriptor(be.prototype,"focusTextarea"),be.prototype),(0,s.default)(be.prototype,"addAttachment",[oe],Object.getOwnPropertyDescriptor(be.prototype,"addAttachment"),be.prototype),(0,s.default)(be.prototype,"removeAttachment",[le],Object.getOwnPropertyDescriptor(be.prototype,"removeAttachment"),be.prototype),(0,s.default)(be.prototype,"overridePlaceholderValue",[me],Object.getOwnPropertyDescriptor(be.prototype,"overridePlaceholderValue"),be.prototype),(0,s.default)(be.prototype,"onMentionsPickerKeyDown",[de],Object.getOwnPropertyDescriptor(be.prototype,"onMentionsPickerKeyDown"),be.prototype),(0,s.default)(be.prototype,"onTextEditorKeyDown",[ce],Object.getOwnPropertyDescriptor(be.prototype,"onTextEditorKeyDown"),be.prototype),(0,s.default)(be.prototype,"selectMentionWithKeyDown",[ue],Object.getOwnPropertyDescriptor(be.prototype,"selectMentionWithKeyDown"),be.prototype),(0,s.default)(be.prototype,"selectMention",[pe],Object.getOwnPropertyDescriptor(be.prototype,"selectMention"),be.prototype),(0,s.default)(be.prototype,"closeMentions",[ge],Object.getOwnPropertyDescriptor(be.prototype,"closeMentions"),be.prototype),(0,s.default)(be.prototype,"triggerDragAndDropLayer",[he],Object.getOwnPropertyDescriptor(be.prototype,"triggerDragAndDropLayer"),be.prototype),be)
e.default=Xe
Ember._setComponentTemplate(Ue,Xe)}))
define("msg-ui/components/msg-form/primitives/character-limit-banner",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"bDl+B8r8",block:'{"symbols":["@isEditForm"],"statements":[[2,"\\n"],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[[16,0,[31,["msg-character-limit-banner ph1 pv2\\n    ",[30,[36,1],[[32,1],"msg-character-limit-banner__edit-form"],null]]]],[24,"data-character-limit-warning",""]],[["@message","@type"],[[30,[36,0],["i18n_character_limit_warning","msg-ui/components/msg-form/primitives/character-limit-banner"],null],"yield"]],null]],"hasEval":false,"upvars":["t","if"]}',moduleName:"msg-ui/components/msg-form/primitives/character-limit-banner.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/msg-form/primitives/message-texteditor",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"bzNyjdrm",block:'{"symbols":["@showPlaceholder","@overridePlaceholder","@messageSendInProgress","@labelText","@parentBlurAction","@parentFocusAction","@projectShineAnimationsEnabled"],"statements":[[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n  "],[11,"div"],[16,0,[31,["msg-form__contenteditable t-14 t-black--light t-normal flex-grow-1 full-height notranslate\\n      ",[30,[36,0],[[32,3],"msg-form__contenteditable--slide-out"],null]]]],[24,"contenteditable","true"],[24,"role","textbox"],[24,"aria-multiline","true"],[16,"aria-placeholder",[32,4]],[16,"aria-label",[30,[36,2],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor"],null]],[4,[38,3],["blur",[32,5]],null],[4,[38,3],["focus",[32,6]],null],[12],[2,"\\n  "],[13],[2,"\\n\\n"],[6,[37,0],[[32,7]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[15,0,[31,[[30,[36,0],[[32,1],"msg-form__placeholder"],null],"\\n        t-14 t-black--light t-normal"]]],[15,"data-placeholder",[30,[36,0],[[32,2],[32,2],[30,[36,2],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor"],null]],null]],[12],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[15,0,[30,[36,1],["msg-form__placeholder t-14 t-black--light t-normal ",[30,[36,0],[[32,1],"visible","hidden"],null]],null]],[15,"data-placeholder",[30,[36,0],[[32,2],[32,2],[30,[36,2],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor"],null]],null]],[12],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["if","concat","t","on"]}',moduleName:"msg-ui/components/msg-form/primitives/message-texteditor.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/msg-form/primitives/msg-content-container",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","ember-lifeline"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m,d,c,u
const p=Ember.HTMLBars.template({id:"aMtKvK4o",block:'{"symbols":["assetLoader","assetLoader","@update","@smpContent","@forwardedEvent","@composeIsFullyExpanded","@toggleExpandComposeField","@trackingPrefix","@expandButtonSize","@event","&attrs","@handleKeyDown","@handleFocusIn","@overridePlaceholder","@showPlaceholder","@messageSendInProgress","@showExpandButton"],"statements":[[11,"div"],[16,0,[31,["msg-form__msg-content-container\\n    ",[30,[36,0],[[32,10,["update"]],"msg-form__msg-content-container--has-reshare"],null],"\\n    ",[30,[36,0],[[32,0,["isActive"]],"msg-form__msg-content-container--is-active"],null]]]],[17,11],[4,[38,3],["keydown",[32,12]],null],[4,[38,3],["focusin",[30,[36,4],[[32,13]],null]],null],[12],[2,"\\n"],[2,"  "],[10,"div"],[14,0,"msg-form__msg-content-container--scrollable scrollable relative"],[12],[2,"\\n    "],[8,"msg-ui@msg-form/primitives/message-texteditor",[],[["@addTopBorder","@classNames","@overridePlaceholder","@parentBlurAction","@parentFocusAction","@showPlaceholder","@messageSendInProgress","@projectShineAnimationsEnabled"],[true,"msg-form__message-texteditor relative flex-grow-1 display-flex",[32,14],[30,[36,5],[[32,0,["setIsActive"]],false],null],[30,[36,5],[[32,0,["setIsActive"]],true],null],[32,15],[32,16],[32,0,["projectShineAnimationsEnabled"]]]],null],[2,"\\n\\n"],[6,[37,0],[[32,17]],null,[["default"],[{"statements":[[2,"      "],[10,"div"],[14,0,"msg-form__expand-btn-wrapper"],[12],[2,"\\n        "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,0],[[32,6],[30,[36,1],["i18n_minimize_compose","msg-ui/components/msg-form/primitives/msg-content-container"],null],[30,[36,1],["i18n_maximize_compose","msg-ui/components/msg-form/primitives/msg-content-container"],null]],null]],[16,"data-control-name",[30,[36,2],[[32,8],[30,[36,0],[[32,6],"close_expand","open_expand"],null]],null]]],[["@circle","@class","@click","@color","@controlType","@icon","@type","@size"],[true,"msg-form__expand-btn",[32,7],"muted","button",[30,[36,0],[[32,6],"chevron-down-icon","chevron-up-icon"],null],"tertiary",[32,9]]],null],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,5]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@forward-preview",[],[["@forwardedEvent"],[[32,5]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,4]],null,[["default"],[{"statements":[[2,"      "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["marketplace-message-card"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,2,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"          "],[8,"marketplace-message-card@marketplace-message-card",[[24,0,"mv3 ml3 mr7"]],[["@messageCard","@isPreview"],[[32,4],true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,3]],null,[["default"],[{"statements":[[2,"      "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["feed-shared"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"          "],[8,"feed-shared@render-models/mini-update-v2",[[24,0,"msg-form__reshared-content artdeco-card overflow-hidden"]],[["@update","@showNestedShares"],[[32,3],true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","t","concat","on","global-helpers@optional","fn"]}',moduleName:"msg-ui/components/msg-form/primitives/msg-content-container.hbs"})
let g=(o=Ember.inject.service("lix"),l=Ember._tracked,m=Ember._action,d=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"lix",c,this);(0,t.default)(this,"isActive",u,this)}get projectShineAnimationsEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-animations")}setIsActive(e){(0,a.runTask)(this,(()=>{this.isActive=e}))}willDestroy(){super.willDestroy(...arguments);(0,a.runDisposables)(this)}},c=(0,s.default)(d.prototype,"lix",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,s.default)(d.prototype,"isActive",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(d.prototype,"setIsActive",[m],Object.getOwnPropertyDescriptor(d.prototype,"setIsActive"),d.prototype),d)
e.default=g
Ember._setComponentTemplate(p,g)}))
define("msg-ui/components/msg-form/primitives/send-controls",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"wmo/Rtj9",block:'{"symbols":["@buttonClass","@enableSend","&attrs","@isEnterToSendEnabled"],"statements":[[2,"\\n"],[11,"div"],[17,3],[12],[2,"\\n"],[6,[37,2],[[32,4]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"msg-form__hint-text t-12 t-black--light t-normal"],[12],[2,"\\n      "],[1,[30,[36,1],["enter_to_send","msg-ui/components/msg-form/primitives/send-controls"],null]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"button"],[15,0,[31,["msg-form__send-button ",[32,1]]]],[15,"disabled",[30,[36,0],[[32,2],"disabled"],null]],[14,4,"submit"],[12],[2,"\\n      "],[1,[30,[36,1],["send_message","msg-ui/components/msg-form/primitives/send-controls"],null]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["unless","t","if"]}',moduleName:"msg-ui/components/msg-form/primitives/send-controls.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/msg-form/primitives/send-failure-banner",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"Xnl0I3zM",block:'{"symbols":["@resendMessage"],"statements":[[10,"div"],[14,0,"msg-form--message-send-failure-banner display-flex flex-row p2"],[12],[2,"\\n  "],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@message","@type","@linkText","@onClick"],[[30,[36,0],["i18n_message_failed_to_send","msg-ui/components/msg-form/primitives/send-failure-banner"],null],"error",[30,[36,0],["i18n_message_send_failed_try_again","msg-ui/components/msg-form/primitives/send-failure-banner"],null],[32,1]]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["t"]}',moduleName:"msg-ui/components/msg-form/primitives/send-failure-banner.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/msg-form/primitives/send-mode-toggle",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants","msg-data/utils/messaging-settings","global-utils/utils/api-compat"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,c,u,p,g,h,b,f,v
const y=Ember.HTMLBars.template({id:"ukt3BJqG",block:'{"symbols":["trigger","hoverable","@triggerButtonSize","@messagingSettings"],"statements":[[2,"\\n"],[10,"div"],[14,0,"msg-form__hovercard-container ml2 relative"],[12],[2,"\\n  "],[8,"artdeco-hoverables@artdeco-hoverable-trigger",[],[["@on","@placement"],["click","top"]],[["default"],[{"statements":[[2,"\\n    "],[8,"artdeco-button@artdeco-button",[],[["@aria-controls","@aria-describedby","@aria-expanded","@class","@circle","@color","@controlType","@icon","@text","@type","@size"],[[32,1,["ariaId"]],[32,1,["ariaId"]],[32,1,["ariaExpanded"]],"msg-form__send-toggle","true","muted","button","ellipsis-horizontal-icon",[30,[36,0],["open_send_options","msg-ui/components/msg-form/primitives/send-mode-toggle"],null],"tertiary",[30,[36,1],[[32,3],2],null]]],null],[2,"\\n    "],[8,[32,1,["artdeco-hoverable-content"]],[],[["@contentClass","@theme"],["msg-form__hovercard","inverse"]],[["default"],[{"statements":[[2,"\\n      "],[10,"fieldset"],[12],[2,"\\n        "],[10,"legend"],[14,0,"a11y-text"],[12],[2,"\\n          "],[1,[30,[36,0],["choose_send_option","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[2,"\\n        "],[13],[2,"\\n        "],[11,"input"],[16,1,[30,[36,2],["enter-to-send-",[32,0,["sendModeToggleElementId"]]],null]],[16,3,[30,[36,2],["send-settings-",[32,0,["sendModeToggleElementId"]]],null]],[24,2,"enterSend"],[16,"checked",[30,[36,3],[[32,4,["pressEnterToSend"]],true,false],null]],[24,4,"radio"],[4,[38,5],["change",[30,[36,4],[[32,0,["setMessageSettings"]],[32,2,["closeHoverable"]]],null]],null],[12],[13],[2,"\\n        "],[10,"label"],[15,"for",[30,[36,2],["enter-to-send-",[32,0,["sendModeToggleElementId"]]],null]],[14,0,"mt0"],[12],[2,"\\n          "],[10,"p"],[14,0,"t-16 t-black--light t-bold"],[12],[2,"\\n            "],[1,[30,[36,0],["enter_to_send","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[2,"\\n          "],[13],[2,"\\n          "],[10,"p"],[14,0,"t-14 t-black--light t-normal"],[12],[2,"\\n            "],[1,[30,[36,0],["enter_to_send_explanation","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"input"],[16,1,[30,[36,2],["send-",[32,0,["sendModeToggleElementId"]]],null]],[16,3,[30,[36,2],["send-settings-",[32,0,["sendModeToggleElementId"]]],null]],[24,2,"send"],[16,"checked",[30,[36,3],[[32,4,["pressEnterToSend"]],false,true],null]],[24,4,"radio"],[4,[38,5],["change",[30,[36,4],[[32,0,["setMessageSettings"]],[32,2,["closeHoverable"]]],null]],null],[12],[13],[2,"\\n        "],[10,"label"],[15,"for",[30,[36,2],["send-",[32,0,["sendModeToggleElementId"]]],null]],[12],[2,"\\n          "],[10,"p"],[14,0,"t-16 t-black--light t-bold"],[12],[2,"\\n            "],[1,[30,[36,0],["click_to_send","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[2,"\\n          "],[13],[2,"\\n          "],[10,"p"],[14,0,"t-14 t-black--light t-normal"],[12],[2,"\\n            "],[1,[30,[36,0],["click_to_send_explanation","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "]],"parameters":[2]}]]],[2,"\\n  "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","global-helpers@or","concat","if","fn","on"]}',moduleName:"msg-ui/components/msg-form/primitives/send-mode-toggle.hbs"}),{SEND_MODES:_}=a.default
let E=(m=Ember.inject.service("authentication@authenticated-user"),d=Ember.inject.service("global-services@local-storage"),c=Ember.inject.service("lix"),u=Ember.inject.service("profile-services@identity-store"),p=Ember._action,g=class extends r.default{constructor(){super(...arguments);(0,n.default)(this,"sendModeToggleElementId",`send-mode-toggle-${Ember.guidFor(this)}`);(0,t.default)(this,"authenticatedUser",h,this);(0,t.default)(this,"ls",b,this);(0,t.default)(this,"lix",f,this);(0,t.default)(this,"identityStore",v,this)}get sendModeValue(){return Ember.get(this.args,"messagingSettings.pressEnterToSend")?_.ENTER_SEND:_.SEND}setMessageSettings(e,t){var n,s
const i=t.target.value===_.ENTER_SEND,r=(0,l.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn"))
null===(n=(s=this.args).afterToggleAction)||void 0===n||n.call(s)
e&&e()
return(0,o.saveEnterToSendSetting)(this.identityStore,this.lix,this.ls,r,this.args.messagingSettings,i)}},h=(0,s.default)(g.prototype,"authenticatedUser",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(g.prototype,"ls",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(g.prototype,"lix",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(g.prototype,"identityStore",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(g.prototype,"setMessageSettings",[p],Object.getOwnPropertyDescriptor(g.prototype,"setMessageSettings"),g.prototype),g)
e.default=E
Ember._setComponentTemplate(y,E)}))
define("msg-ui/components/msg-form/primitives/subject-line-input",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@glimmer/component","msg-shared/utils/constants"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,a
const o=Ember.HTMLBars.template({id:"ClyP4mAn",block:'{"symbols":["&attrs","@subject","@updateSubject"],"statements":[[11,"div"],[24,0,"msg-form__subject-line relative"],[17,1],[4,[38,0],[[32,0,["handleInsert"]]],null],[12],[2,"\\n  "],[8,"artdeco-text-input@artdeco-text-input",[[16,"aira-label",[30,[36,1],["i18n_write_subject","msg-ui/components/msg-form/primitives/subject-line-input"],null]]],[["@type","@name","@value","@onChange","@classNames","@placeholder"],["text","subject",[32,2],[32,3],"msg-form__subject",[30,[36,1],["i18n_optional_subject_placeholder","msg-ui/components/msg-form/primitives/subject-line-input"],null]]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","t"]}',moduleName:"msg-ui/components/msg-form/primitives/subject-line-input.hbs"}),{INMAIL_SUBJECT_MAX_CHARACTERS:l}=i.default
let m=(r=Ember._action,a=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"maxSubjectLength",l)}handleInsert(e){e.querySelector("input").setAttribute("autocomplete","off")}},(0,n.default)(a.prototype,"handleInsert",[r],Object.getOwnPropertyDescriptor(a.prototype,"handleInsert"),a.prototype),a)
e.default=m
Ember._setComponentTemplate(o,m)}))
define("msg-ui/components/msg-form/primitives/upload-attachment",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/attachments-handler","global-utils/utils/is-browser"],(function(e,t,n,s,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,m,d,c,u,p,g,h,b,f,v,y,_,E
const w=Ember.HTMLBars.template({id:"QV6vCJHq",block:'{"symbols":["&attrs","@acceptTypes","@buttonClasses","@disabled","@labelText","@icon"],"statements":[[11,"div"],[24,0,"msg-form__upload-attachment inline-block"],[17,1],[12],[2,"\\n  "],[10,"input"],[14,3,"persist"],[14,2,"true"],[14,4,"hidden"],[12],[13],[2,"\\n  "],[10,"input"],[14,3,"upload_info"],[14,4,"hidden"],[12],[13],[2,"\\n  "],[11,"input"],[16,1,[32,0,["inputID"]]],[24,0,"msg-form__attachment-upload-input hidden"],[16,"accept",[32,2]],[16,"data-control-name",[32,0,["selectFileControlName"]]],[24,4,"file"],[4,[38,0],[[32,0,["setUploadInput"]]],null],[4,[38,1],["change",[32,0,["handleFormInputChange"]]],null],[12],[13],[2,"\\n  "],[11,"button"],[16,1,[32,0,["triggerID"]]],[16,0,[31,["msg-form__footer-action ",[32,3]]]],[16,"disabled",[32,4]],[16,"title",[32,5]],[16,"aria-label",[32,5]],[24,4,"button"],[4,[38,1],["click",[32,0,["onClick"]]],null],[12],[2,"\\n    "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n      "],[1,[32,5]],[2,"\\n    "],[13],[2,"\\n    "],[1,[32,6]],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","on"]}',moduleName:"msg-ui/components/msg-form/primitives/upload-attachment.hbs"})
let M=(l=Ember.inject.service("jet"),m=Ember.inject.service("tracking"),d=Ember.inject.service("vector@vector-upload"),c=Ember.inject.service("global-services@a11y-notification"),u=Ember.inject.service("i18n"),p=Ember._action,g=Ember._action,h=Ember._action,b=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"jet",f,this);(0,t.default)(this,"tracking",v,this);(0,t.default)(this,"vectorUpload",y,this);(0,t.default)(this,"a11yNotification",_,this);(0,t.default)(this,"i18n",E,this);(0,n.default)(this,"uploadInputElem",{})
const e=new a.default({vectorUpload:this.vectorUpload,tracking:this.tracking,jet:this.jet,updateUI:this.args.addAttachment,beforeUpload:this.args.beforeUpload,afterUpload:this.args.afterUpload,onUploadSuccess:this.onUploadSuccess.bind(this),onUploadFailure:this.onUploadFailure.bind(this)})
Ember.setProperties(this,{attachmentsHandler:e,inputID:`attachment-input-${Ember.guidFor(this)}`,triggerID:`attachment-trigger-${Ember.guidFor(this)}`,selectFileControlName:`${this.args.trackingPrefix}_select`})}onClick(){this.uploadInputElem.click()
o.default&&!/Firefox|Edge/.test(window.navigator.userAgent)&&this.args.triggerDragAndDropLayer(!0)}handleFormInputChange(){this.args.triggerDragAndDropLayer(!1)
this.fileSelected(this.uploadInputElem.files)}setUploadInput(e){Ember.set(this,"uploadInputElem",e)}fileSelected(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]
e&&this.attachmentsHandler.uploadAttachment(e)
this.uploadInputElem.value=""}onUploadSuccess(){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","a11y_attachment_uploaded")
this.a11yNotification.setTextInLiveRegion(e())}onUploadFailure(){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","a11y_attachment_upload_failed")
this.a11yNotification.setTextInLiveRegion(e())}},f=(0,s.default)(b.prototype,"jet",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(b.prototype,"tracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(b.prototype,"vectorUpload",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(b.prototype,"a11yNotification",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(b.prototype,"i18n",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(b.prototype,"onClick",[p],Object.getOwnPropertyDescriptor(b.prototype,"onClick"),b.prototype),(0,s.default)(b.prototype,"handleFormInputChange",[g],Object.getOwnPropertyDescriptor(b.prototype,"handleFormInputChange"),b.prototype),(0,s.default)(b.prototype,"setUploadInput",[h],Object.getOwnPropertyDescriptor(b.prototype,"setUploadInput"),b.prototype),b)
e.default=M
Ember._setComponentTemplate(w,M)}))
define("msg-ui/components/msg-group-form/msg-group-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,d,c,u,p,g
const h=Ember.HTMLBars.template({id:"WRi5cSWa",block:'{"symbols":["@prefilledRecipients","@typeaheadHasInitialFocus","@actionTrackingPrefix","@nextButtonDataControlName","@onNext"],"statements":[[10,"div"],[14,0,"msg-group-form"],[12],[2,"\\n  "],[8,"msg-typeahead@connections-typeahead",[],[["@withSuggestedList","@isForGroupChatCreation","@a11yText","@placeholder","@recipientsChanged","@prefilledRecipients","@includeGroupConversationResults","@includeCoworkerResults","@enableGroupMessageRequests","@hasInitialFocus"],[true,true,[30,[36,0],["i18n_new_compose_recipients_label","msg-ui/components/msg-group-form/msg-group-form"],null],[30,[36,0],["i18n_type_participant_names","msg-ui/components/msg-group-form/msg-group-form"],null],[32,0,["recipientsChanged"]],[32,1],false,true,true,[32,2]]],null],[2,"\\n\\n  "],[10,"section"],[14,0,"msg-group-form__bottom-fixed-section"],[12],[2,"\\n    "],[8,"artdeco-text-input@artdeco-text-input",[[4,[38,3],["change",[30,[36,2],[[30,[36,1],[[32,3],"group_chat_name"],null],[32,0,["onGroupNameChange"]]],null]],null]],[["@type","@inputClasses","@label","@placeholder","@maxLength","@value"],["text","msg-group-form__input",[30,[36,0],["i18n_group_name","msg-ui/components/msg-group-form/msg-group-form"],null],[30,[36,0],["i18n_group_name_placeholder","msg-ui/components/msg-group-form/msg-group-form"],null],"300",[32,0,["msgGroupName"]]]],null],[2,"\\n  "],[13],[2,"\\n\\n  "],[10,"section"],[14,0,"msg-group-form__action-buttons-container"],[12],[2,"\\n    "],[8,"artdeco-button@artdeco-button",[[16,"data-control-name",[32,4]],[4,[38,3],["click",[30,[36,6],[[32,5],[30,[36,5],null,[["recipients","msgGroupName","contextByRecipients"],[[32,0,["recipients"]],[32,0,["msgGroupName"]],[32,0,["contextByRecipients"]]]]]],null]],null]],[["@class","@size","@text","@disabled"],["msg-group-form__next-button",1,[30,[36,0],["i18n_next","msg-ui/components/msg-group-form/msg-group-form"],null],[30,[36,4],[[32,0,["recipients","length"]],1],null]]],null],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","concat","ember-cli-pemberly-tracking@tracked-action","on","global-helpers@lte","hash","fn"]}',moduleName:"msg-ui/components/msg-group-form/msg-group-form.hbs"})
let b=(a=Ember._tracked,o=Ember._tracked,l=Ember._tracked,m=Ember._action,d=Ember._action,c=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"recipients",u,this);(0,t.default)(this,"msgGroupName",p,this);(0,t.default)(this,"contextByRecipients",g,this)}onGroupNameChange(e,t){this.msgGroupName=t.target.value}recipientsChanged(e,t){this.recipients=e
this.contextByRecipients=t}},u=(0,s.default)(c.prototype,"recipients",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.prefilledRecipients||[]}}),p=(0,s.default)(c.prototype,"msgGroupName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.prefilledMsgGroupName}}),g=(0,s.default)(c.prototype,"contextByRecipients",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(c.prototype,"onGroupNameChange",[m],Object.getOwnPropertyDescriptor(c.prototype,"onGroupNameChange"),c.prototype),(0,s.default)(c.prototype,"recipientsChanged",[d],Object.getOwnPropertyDescriptor(c.prototype,"recipientsChanged"),c.prototype),c)
e.default=b
Ember._setComponentTemplate(h,b)}))
define("msg-ui/components/msg-nudge",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m
const d=Ember.HTMLBars.template({id:"BFK90SKR",block:'{"symbols":["&default"],"statements":[[18,1,[[30,[36,5],[[32,0,["nudgingEnabled"]],[32,0,["nudgingText"]]],null]]],[2,"\\n"],[6,[37,1],[[30,[36,5],[[32,0,["nudgingEnabled"]],[32,0,["nudgingText"]]],null]],null,[["default"],[{"statements":[[2,"  "],[11,"p"],[16,0,[31,[[30,[36,1],[[30,[36,0],null,null],"msg-conversation-card__nudge-text--small","msg-conversation-card__nudge-text--large"],null],"\\n      msg-conversation-card__nudge-text"]]],[4,[38,4],null,[["registerOnImpression","routeName","currentRoute"],[[32,0,["onImpression"]],[30,[36,3],[[30,[36,2],["outletState"],null],"render.name"],null],[30,[36,3],[[30,[36,2],["outletState"],null],"render"],null]]]],[12],[2,"\\n    "],[1,[32,0,["nudgingText"]]],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["msg-shared@is-in-overlay","if","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","global-helpers@and"]}',moduleName:"msg-ui/components/msg-nudge.hbs"})
let c=(a=Ember.inject.service("msg-data@data-manager"),o=Ember._action,l=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",m,this)}get nudgingEnabled(){return this.msgDataManager.nudgingDataManager.canRenderNudges}get nudgingText(){if(!this.nudgingEnabled)return null
const e=this.msgDataManager.nudgingDataManager.getNudge(this.args.conversation)
return e?Ember.get(e,"nudgeText.text"):null}onImpression(){return()=>this.msgDataManager.nudgingDataManager.onImpression(this.args.conversation,this.args.convoIndex+1)}},m=(0,s.default)(l.prototype,"msgDataManager",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(l.prototype,"onImpression",[o],Object.getOwnPropertyDescriptor(l.prototype,"onImpression"),l.prototype),l)
e.default=c
Ember._setComponentTemplate(d,c)}))
define("msg-ui/components/premium-upsell",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","s-upsell/utils/upsell-card-dash-helpers","urn-utils","global-utils/utils/url"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,c
const u=Ember.HTMLBars.template({id:"UAH3X7vF",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"msg-premium-upsell"],[12],[2,"\\n"],[6,[37,1],[[32,0,["upsellCard"]]],null,[["default","else"],[{"statements":[[2,"    "],[8,"s-upsell@upsell-templates/upsell-template-container",[],[["@upsellCard","@defaultConfig","@upsellStyles"],[[32,0,["upsellCard"]],[30,[36,0],null,[["isVerticalLayout"],[true]]],[30,[36,0],null,[["upsellWrapperClass","headlineClass","subheaderClass","socialProofInsightClass","socialProofInsightTextClass","customAnchorClass"],["msg-premium-upsell__content","t-18 mb3","t-14 t-black--light mb6","display-flex align-items-center mb3","t-12 t-black--light ml2","full-width"]]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["hash","if"]}',moduleName:"msg-ui/components/premium-upsell.hbs"})
let p=(m=Ember.inject.service("store"),d=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"store",c,this)
const{args:{targetUrl:e}}=this,n=(0,l.isUrl)(e)?new URL(e):null,s=null==n?void 0:n.searchParams.get("premiumUpsellSlotUrn"),i=s?(0,o.extractEntityInfoFromUrn)(s).id:null,r=null==n?void 0:n.searchParams.get("profileUrn");(0,a.default)(this.store,i,"viewee",{vieweeProfileUrn:r}).then((e=>{this.isDestroying||Ember.set(this,"upsellCard",Ember.get(e,"elements.firstObject.upsellCard"))}))}},c=(0,s.default)(d.prototype,"store",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d)
e.default=p
Ember._setComponentTemplate(u,p)}))
define("msg-ui/components/primitives/bulk-actions-panel",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,d,c,u,p,g,h,b,f,v,y,_,E
const w=Ember.HTMLBars.template({id:"hG1ToT91",block:'{"symbols":["@selectedConversations"],"statements":[[10,"div"],[14,0,"msg-bulk-actions-panel ph2"],[12],[2,"\\n  "],[10,"div"],[14,0,"display-flex mvA"],[12],[2,"\\n    "],[8,"artdeco-button@artdeco-button",[[4,[38,1],[[32,0,["exitBulkActionsTrackingControlName"]]],null]],[["@type","@click","@text","@color","@icon","@size","@circle"],["tertiary",[32,0,["exitBulkActionsMode"]],[30,[36,0],["a11y_go_to_inbox","msg-ui/components/primitives/bulk-actions-panel"],null],"muted","cancel-icon",1,true]],null],[2,"\\n    "],[10,"span"],[14,0,"msg-bulk-actions-panel__selected-text t-14 t-black--light t-bold mvA"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_selected_count","msg-ui/components/primitives/bulk-actions-panel"],[["count"],[[32,1,["length"]]]]]],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n  "],[10,"div"],[14,0,"display-flex mvA"],[12],[2,"\\n    "],[8,"artdeco-button@artdeco-button",[[4,[38,1],[[32,0,["toggleReadTrackingControlName"]]],null]],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[30,[36,2],[[32,0,["allSelectedConversationsRead"]],[30,[36,0],["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel"],null],[30,[36,0],["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel"],null]],null],"tertiary",[32,0,["toggleRead"]],"muted",[30,[36,2],[[32,0,["allSelectedConversationsRead"]],"envelope-icon","envelope-open-icon"],null],[32,0,["actionButtonsDisabled"]],[30,[36,2],[[32,0,["allSelectedConversationsRead"]],[30,[36,0],["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel"],null],[30,[36,0],["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel"],null]],null],1,true]],null],[2,"\\n\\n    "],[8,"artdeco-button@artdeco-button",[],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[30,[36,0],["i18n_delete","msg-ui/components/primitives/bulk-actions-panel"],null],"tertiary",[30,[36,3],[[32,0],"showConfirmModal",true],null],"muted","trash-icon",[32,0,["actionButtonsDisabled"]],[30,[36,0],["i18n_delete","msg-ui/components/primitives/bulk-actions-panel"],null],1,true]],null],[2,"\\n\\n    "],[8,"artdeco-button@artdeco-button",[[4,[38,1],[[32,0,["toggleArchiveTrackingControlName"]]],null]],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[30,[36,2],[[32,0,["selectedConversationsAreArchived"]],[30,[36,0],["i18n_restore","msg-ui/components/primitives/bulk-actions-panel"],null],[30,[36,0],["i18n_archive","msg-ui/components/primitives/bulk-actions-panel"],null]],null],"tertiary",[32,0,["toggleArchive"]],"muted",[30,[36,2],[[32,0,["selectedConversationsAreArchived"]],"unarchive-message-icon","archive-message-icon"],null],[32,0,["actionButtonsDisabled"]],[30,[36,2],[[32,0,["selectedConversationsAreArchived"]],[30,[36,0],["i18n_restore","msg-ui/components/primitives/bulk-actions-panel"],null],[30,[36,0],["i18n_archive","msg-ui/components/primitives/bulk-actions-panel"],null]],null],1,true]],null],[2,"\\n  "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[8,"artdeco-modal@artdeco-confirmation-dialog",[],[["@isOpen","@title","@content","@primaryActionText","@primaryActionTextA11y","@secondaryActionText","@secondaryActionTextA11y","@onPrimary","@onSecondary","@onEscape"],[[32,0,["showConfirmModal"]],[30,[36,0],["i18n_sure_you_want_delete","msg-ui/components/primitives/bulk-actions-panel"],null],[30,[36,0],["i18n_deletion_warning_text","msg-ui/components/primitives/bulk-actions-panel"],[["count"],[[32,1,["length"]]]]],[30,[36,0],["i18n_yes_delete","msg-ui/components/primitives/bulk-actions-panel"],null],[30,[36,0],["a11y_confirm_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel"],null],[30,[36,0],["i18n_cancel","msg-ui/components/primitives/bulk-actions-panel"],null],[30,[36,0],["a11y_cancel_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel"],null],[32,0,["confirmDelete"]],[32,0,["cancelDelete"]],[32,0,["cancelDelete"]]]],null]],"hasEval":false,"upvars":["t","ember-cli-pemberly-tracking@track-interaction","if","ember-set-helper@set"]}',moduleName:"msg-ui/components/primitives/bulk-actions-panel.hbs"})
let M=(a=Ember.inject.service("msg-data@data-manager"),o=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),l=Ember.inject.service("i18n"),m=Ember.inject.service("tracking"),d=Ember._tracked,c=Ember._action,u=Ember._action,p=Ember._action,g=Ember._action,h=Ember._action,b=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",f,this);(0,t.default)(this,"persistentToastManager",v,this);(0,t.default)(this,"i18n",y,this);(0,t.default)(this,"tracking",_,this);(0,t.default)(this,"showConfirmModal",E,this)}get actionButtonsDisabled(){var e
return 0===(null===(e=this.args.selectedConversations)||void 0===e?void 0:e.length)}get selectedUnreadConversations(){return this.args.selectedConversations.filter((e=>!Ember.get(e,"read")))}get allSelectedConversationsRead(){return 0===this.selectedUnreadConversations.length}get selectedConversationsAreArchived(){return Ember.get(this.args,"selectedConversations.firstObject.archived")}get exitBulkActionsTrackingControlName(){return this.args.isOverlay?"overlay.exit_bulk_selection":"exit_bulk_selection"}get toggleArchiveTrackingControlName(){let e=this.selectedConversationsAreArchived?"bulk_unarchive":"bulk_archive"
this.args.isOverlay&&(e=`overlay.${e}`)
return e}get toggleReadTrackingControlName(){let e=this.allSelectedConversationsRead?"bulk_unread":"bulk_read"
this.args.isOverlay&&(e=`overlay.${e}`)
return e}_unselectConversations(){this.args.selectedConversations.forEach((e=>{Ember.set(e,"checked",!1)}))}_showErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/bulk-actions-panel","i18n_bulk_action_failed_message")([])
this.persistentToastManager.error({message:e})}exitBulkActionsMode(){var e,t
this._unselectConversations()
null===(e=(t=this.args).onExitBulkActionsMode)||void 0===e||e.call(t)}cancelDelete(){this.showConfirmModal=!1
const e=this.args.isOverlay?"overlay.bulk_delete_cancel":"bulk_delete_cancel"
this.tracking.fireInteractionEvent(e)}confirmDelete(){var e,t
null===(e=(t=this.args).willExecuteBulkAction)||void 0===e||e.call(t)
const n=this.args.isOverlay?"overlay.bulk_delete_confirm":"bulk_delete_confirm"
this.tracking.fireInteractionEvent(n)
const s=Ember.get(this.args.selectedConversations[0],"collectionName")
this.args.selectedConversations.forEach((e=>{this.msgDataManager.removeConversation(e)}))
this.msgDataManager.bulkDeleteConversations(this.args.selectedConversations).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t,"delete")})).catch((e=>{this._showErrorToast()
this.args.selectedConversations.forEach((e=>{this.msgDataManager.addConversationToCollection(e,s)}))
throw e}))
this.showConfirmModal=!1
this._unselectConversations()}toggleArchive(){var e,t
null===(e=(t=this.args).willExecuteBulkAction)||void 0===e||e.call(t)
const n=!this.selectedConversationsAreArchived,s=Ember.get(this.args.selectedConversations[0],"collectionName")
this.args.selectedConversations.forEach((e=>this.msgDataManager.setConversationArchive(e,n)))
this.msgDataManager.toggleBulkConversationsArchive(this.args.selectedConversations,n).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t)})).catch((e=>{this._showErrorToast()
this.args.selectedConversations.forEach((e=>{this.msgDataManager.setConversationArchive(e,!n,s)}))
throw e}))
this._unselectConversations()}toggleRead(){var e,t
null===(e=(t=this.args).willExecuteBulkAction)||void 0===e||e.call(t)
const n=!this.allSelectedConversationsRead,s=n?this.selectedUnreadConversations:this.args.selectedConversations
s.forEach((e=>{Ember.setProperties(e,{read:n,unreadCount:n?0:1})}))
this.msgDataManager.toggleBulkConversationsRead(s,n).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t)})).catch((e=>{this._showErrorToast()
s.forEach((e=>{Ember.setProperties(e,{read:!n,unreadCount:n?1:0})}))
throw e}))
this._unselectConversations()}},f=(0,s.default)(b.prototype,"msgDataManager",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(b.prototype,"persistentToastManager",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(b.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(b.prototype,"tracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(b.prototype,"showConfirmModal",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(b.prototype,"exitBulkActionsMode",[c],Object.getOwnPropertyDescriptor(b.prototype,"exitBulkActionsMode"),b.prototype),(0,s.default)(b.prototype,"cancelDelete",[u],Object.getOwnPropertyDescriptor(b.prototype,"cancelDelete"),b.prototype),(0,s.default)(b.prototype,"confirmDelete",[p],Object.getOwnPropertyDescriptor(b.prototype,"confirmDelete"),b.prototype),(0,s.default)(b.prototype,"toggleArchive",[g],Object.getOwnPropertyDescriptor(b.prototype,"toggleArchive"),b.prototype),(0,s.default)(b.prototype,"toggleRead",[h],Object.getOwnPropertyDescriptor(b.prototype,"toggleRead"),b.prototype),b)
e.default=M
Ember._setComponentTemplate(w,M)}))
define("msg-ui/components/primitives/event-listitem-actions",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","global-utils/utils/is-browser","@glimmer/component","ember-lifeline","msg-shared/utils/file-meta","global-utils/utils/file-size-formatter"],(function(e,t,n,s,i,r,a,o,l,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,c,u,p,g,h,b,f,v,y,_,E,w,M,C,k,T,x,S,P
const O=Ember.HTMLBars.template({id:"un23J2SW",block:'{"symbols":["dropdown","dropdown","assetLoader","dropdown","assetLoader","@deleteMessageEventModalState","@event","@showMessageEditForm","@shouldShowEditDelete","@enableMsgFwd","@shouldShowDelete","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@reactionsHoverTrackingName","@showSendReactionControls","@attachment","@classNames","&attrs","&default"],"statements":[[11,"div"],[16,0,[30,[36,8],["msg-s-event-listitem__message-bubble",[30,[36,4],[[32,0,["isFocused"]]," msg-s-event-listitem__message-bubble--is-focused"],null]," ",[32,18]],null]],[16,"dir",[30,[36,9],[[32,7,["eventContent","attributedBody","text"]]],null]],[17,19],[4,[38,7],["mouseenter",[32,0,["toggleActionsOn"]]],null],[4,[38,7],["focus",[32,0,["toggleActionsOn"]]],null],[4,[38,7],["mouseleave",[32,0,["toggleActionsOff"]]],null],[4,[38,7],["blur",[32,0,["toggleActionsOff"]]],null],[12],[2,"\\n"],[6,[37,4],[[30,[36,5],[[32,0,["showActions"]],[32,0,["isFocused"]]],null]],null,[["default"],[{"statements":[[6,[37,4],[[32,17]],null,[["default","else"],[{"statements":[[6,[37,4],[[32,10]],null,[["default","else"],[{"statements":[[6,[37,4],[[32,16]],null,[["default","else"],[{"statements":[[2,"          "],[11,"div"],[24,0,"msg-s-event-listitem__actions-container artdeco-card"],[4,[38,6],[[32,15]],[["interactionType"],["HOVER"]]],[12],[2,"\\n            "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-reactions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,4],[[32,5,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"                "],[8,"msg-reactions@emoji/emoji-popular-list",[],[["@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu","@setMessageFocusState","@focusIn"],[[32,7],[32,12],[32,13],[32,14],[32,0,["hideAllActionMenus"]],[30,[36,2],[[32,0],"isOptionMenuOpen",false],null],[30,[36,2],[[32,0],"isFocused"],null],[30,[36,2],[[32,0],"isFocused",true],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[5]}]]],[2,"\\n\\n"],[2,"            "],[8,"artdeco-dropdown@artdeco-dropdown",[[16,"aria-label",[30,[36,1],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[32,7,["from","familiarName"]],[32,7,["eventContent","attributedBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__reactions-options-ellipsis","right",[32,0,["dropDirection"]],[32,0,["isOptionMenuOpen"]],[30,[36,2],[[32,0],"isOptionMenuOpen"],null],[30,[36,2],[[32,0],"isFocused",true],null],[32,0,["hideAllActionMenus"]]]],[["default"],[{"statements":[[2,"\\n              "],[8,[32,4,["dropdown-trigger"]],[[24,"data-control-name","attempt_forward"]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[30,[36,1],["a11y_forward_message","msg-ui/components/primitives/event-listitem-actions"],[["senderName"],[[32,0,["event","from","familiarName"]]]]],[32,0,["setupDropMenu"]],[32,0,["setupDropMenu"]]]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,3],null,[["a11y-text","class","size","type"],[[30,[36,1],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[32,0,["event","from","familiarName"]],[32,0,["event","eventContent","attributedBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","ellipsis-horizontal-icon"]]]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n              "],[10,"div"],[14,0,"msg-s-event-listitem__options-content"],[12],[2,"\\n                "],[8,[32,4,["dropdown-content"]],[],[["@arrowDir"],["right"]],[["default"],[{"statements":[[2,"\\n                  "],[10,"ul"],[12],[2,"\\n                    "],[10,"li"],[12],[2,"\\n                      "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[24,"data-control-name","forward_to_message"]],[["@itemSelected"],[[30,[36,0],[[32,0,["forwardAttachment"]],[32,17]],null]]],[["default"],[{"statements":[[2,"\\n                        "],[1,[30,[36,1],["i18n_forward_via_LI","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                      "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"li"],[12],[2,"\\n                      "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[24,"data-control-name","forward_to_email"]],[["@itemSelected"],[[32,0,["forwardViaEmail"]]]],[["default"],[{"statements":[[2,"\\n                        "],[1,[30,[36,1],["i18n_forward_via_email","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                      "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,4],[[32,9]],null,[["default"],[{"statements":[[2,"                      "],[10,"li"],[12],[2,"\\n                        "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[30,[36,0],[[32,6],true],null]]],[["default"],[{"statements":[[2,"\\n                          "],[1,[30,[36,1],["i18n_delete_message","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                      "],[13],[2,"\\n"],[6,[37,4],[[32,8]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[12],[2,"\\n                          "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[30,[36,0],[[32,8],[32,7,["eventContent","attributedBody"]],[32,7]],null]]],[["default"],[{"statements":[[2,"\\n                            "],[1,[30,[36,1],["i18n_edit_message","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                          "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                  "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n              "],[13],[2,"\\n            "]],"parameters":[4]}]]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[10,"div"],[14,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow-backer"],[12],[13],[2,"\\n          "],[11,"button"],[24,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow artdeco-card"],[16,"title",[30,[36,1],["i18n_forward_attachment_a11y","msg-ui/components/primitives/event-listitem-actions"],[["filename","senderName"],[[32,0,["filename"]],[32,7,["from","familiarName"]]]]]],[24,4,"button"],[4,[38,7],["click",[30,[36,0],[[32,0,["forwardAttachment"]],[32,17]],null]],null],[12],[2,"\\n            "],[1,[30,[36,3],null,[["type","class","size","a11y-text"],["forward-icon","msg-s-event-listitem__forward-icon","small",[30,[36,1],["i18n_forward_attachment_a11y","msg-ui/components/primitives/event-listitem-actions"],[["filename","senderName"],[[32,0,["filename"]],[32,7,["from","familiarName"]]]]]]]]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"        "],[11,"button"],[16,0,[31,["msg-s-event-listitem__forward-attachment\\n            ",[30,[36,4],[[32,0,["isImage"]],"msg-s-event-listitem__forward-attachment--image","msg-s-event-listitem__forward-attachment--file"],null],"\\n            "]]],[24,4,"button"],[4,[38,7],["click",[30,[36,0],[[32,0,["forwardAttachment"]],[32,17]],null]],null],[12],[2,"\\n          "],[1,[30,[36,3],null,[["type","size","a11y-text"],["forward-icon","small",[30,[36,1],["i18n_forward_attachment_a11y","msg-ui/components/primitives/event-listitem-actions"],[["filename","senderName"],[[32,0,["filename"]],[32,7,["from","familiarName"]]]]]]]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,4],[[32,16]],null,[["default","else"],[{"statements":[[2,"        "],[11,"div"],[24,0,"msg-s-event-listitem__actions-container artdeco-card"],[4,[38,6],[[32,15]],[["interactionType"],["HOVER"]]],[12],[2,"\\n          "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-reactions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,4],[[32,3,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"              "],[8,"msg-reactions@emoji/emoji-popular-list",[],[["@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu","@setMessageFocusState","@focusIn"],[[32,7],[32,12],[32,13],[32,14],[32,0,["hideAllActionMenus"]],[30,[36,2],[[32,0],"isOptionMenuOpen",false],null],[30,[36,2],[[32,0],"isFocused"],null],[30,[36,2],[[32,0],"isFocused",true],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"          "]],"parameters":[3]}]]],[2,"\\n\\n"],[6,[37,4],[[30,[36,5],[[32,10],[32,9],[32,11]],null]],null,[["default"],[{"statements":[[2,"            "],[8,"artdeco-dropdown@artdeco-dropdown",[[16,"aria-label",[30,[36,1],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[32,7,["from","familiarName"]],[32,7,["eventContent","attributedBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__reactions-options-ellipsis","right",[32,0,["dropDirection"]],[32,0,["isOptionMenuOpen"]],[30,[36,2],[[32,0],"isOptionMenuOpen"],null],[30,[36,2],[[32,0],"isFocused",true],null],[32,0,["hideAllActionMenus"]]]],[["default"],[{"statements":[[2,"\\n              "],[8,[32,2,["dropdown-trigger"]],[[24,"data-control-name","attempt_forward"]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[30,[36,1],["a11y_forward_message","msg-ui/components/primitives/event-listitem-actions"],[["senderName"],[[32,0,["event","from","familiarName"]]]]],[32,0,["setupDropMenu"]],[32,0,["setupDropMenu"]]]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,3],null,[["a11y-text","class","size","type"],[[30,[36,1],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[32,0,["event","from","familiarName"]],[32,0,["event","eventContent","attributedBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","ellipsis-horizontal-icon"]]]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n              "],[10,"div"],[14,0,"msg-s-event-listitem__options-content"],[12],[2,"\\n                "],[8,[32,2,["dropdown-content"]],[],[["@arrowDir"],["right"]],[["default"],[{"statements":[[2,"\\n                  "],[10,"ul"],[12],[2,"\\n"],[6,[37,4],[[32,10]],null,[["default"],[{"statements":[[2,"                      "],[10,"li"],[12],[2,"\\n                        "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[24,"data-control-name","forward_to_message"]],[["@itemSelected"],[[32,0,["forwardViaMessage"]]]],[["default"],[{"statements":[[2,"\\n                          "],[1,[30,[36,1],["i18n_forward_via_LI","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                      "],[13],[2,"\\n                      "],[10,"li"],[12],[2,"\\n                        "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[24,"data-control-name","forward_to_email"]],[["@itemSelected"],[[32,0,["forwardViaEmail"]]]],[["default"],[{"statements":[[2,"\\n                          "],[1,[30,[36,1],["i18n_forward_via_email","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                      "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,4],[[30,[36,5],[[32,11],[32,9]],null]],null,[["default"],[{"statements":[[2,"                      "],[10,"li"],[12],[2,"\\n                        "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[30,[36,0],[[32,6],true],null]]],[["default"],[{"statements":[[2,"\\n                          "],[1,[30,[36,1],["i18n_delete_message","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                      "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,4],[[32,9]],null,[["default"],[{"statements":[[2,"                      "],[10,"li"],[12],[2,"\\n                        "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[30,[36,0],[[32,8],[32,7,["eventContent","attributedBody"]],[32,7]],null]]],[["default"],[{"statements":[[2,"\\n                          "],[1,[30,[36,1],["i18n_edit_message","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                      "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                  "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n              "],[13],[2,"\\n            "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[32,10]],null,[["default"],[{"statements":[[2,"          "],[10,"div"],[14,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow-backer"],[12],[13],[2,"\\n          "],[8,"artdeco-dropdown@artdeco-dropdown",[[16,"aria-label",[30,[36,1],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[32,0,["event","from","familiarName"]],[32,0,["event","eventContent","attributedBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__options-ellipsis artdeco-card","right",[32,0,["dropDirection"]],[32,0,["isOptionMenuOpen"]],[30,[36,2],[[32,0],"isOptionMenuOpen"],null],[30,[36,2],[[32,0],"isFocused",true],null],[30,[36,2],[[32,0],"isFocused",false],null]]],[["default"],[{"statements":[[2,"\\n            "],[8,[32,1,["dropdown-trigger"]],[[24,"data-control-name","attempt_forward"]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[30,[36,1],["a11y_forward_message","msg-ui/components/primitives/event-listitem-actions"],[["senderName"],[[32,0,["event","from","familiarName"]]]]],[32,0,["setupDropMenu"]],[32,0,["setupDropMenu"]]]],[["default"],[{"statements":[[2,"\\n              "],[1,[30,[36,3],null,[["a11y-text","class","size","type"],[[30,[36,1],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[32,0,["event","from","familiarName"]],[32,0,["event","eventContent","attributedBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","ellipsis-horizontal-icon"]]]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"msg-s-event-listitem__options-content"],[12],[2,"\\n              "],[8,[32,1,["dropdown-content"]],[],[["@arrowDir"],["right"]],[["default"],[{"statements":[[2,"\\n                "],[10,"ul"],[12],[2,"\\n                  "],[10,"li"],[12],[2,"\\n                    "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[24,"data-control-name","forward_to_message"]],[["@itemSelected"],[[32,0,["forwardViaMessage"]]]],[["default"],[{"statements":[[2,"\\n                      "],[1,[30,[36,1],["i18n_forward_via_LI","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                  "],[13],[2,"\\n                  "],[10,"li"],[12],[2,"\\n                    "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[24,"data-control-name","forward_to_email"]],[["@itemSelected"],[[32,0,["forwardViaEmail"]]]],[["default"],[{"statements":[[2,"\\n                      "],[1,[30,[36,1],["i18n_forward_via_email","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                  "],[13],[2,"\\n"],[6,[37,4],[[32,9]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[2,"\\n                      "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[30,[36,0],[[32,6],true],null]]],[["default"],[{"statements":[[2,"\\n                        "],[1,[30,[36,1],["i18n_delete_message","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                      "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"li"],[12],[2,"\\n                      "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected"],[[30,[36,0],[[32,8],[32,7,["eventContent","attributedBody"]],[32,7]],null]]],[["default"],[{"statements":[[2,"\\n                        "],[1,[30,[36,1],["i18n_edit_message","msg-ui/components/primitives/event-listitem-actions"],null]],[2,"\\n                      "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n          "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n  "],[18,20,null],[2,"\\n"],[13]],"hasEval":false,"upvars":["fn","t","ember-set-helper@set","artdeco-icons-web@li-icon","if","global-helpers@or","ember-cli-pemberly-tracking@track-interaction","on","concat","ember-cli-pemberly-i18n@bidi-dir"]}',moduleName:"msg-ui/components/primitives/event-listitem-actions.hbs"})
let I=(d=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),c=Ember.inject.service("i18n"),u=Ember.inject.service("global-services@window"),p=Ember._tracked,g=Ember._tracked,h=Ember._tracked,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,_=Ember._action,E=Ember._action,w=Ember._action,M=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"msgOverlay",C,this);(0,t.default)(this,"i18n",k,this);(0,t.default)(this,"windowService",T,this);(0,t.default)(this,"isOptionMenuOpen",x,this);(0,n.default)(this,"dropDirection","top");(0,t.default)(this,"showActions",S,this);(0,t.default)(this,"isFocused",P,this)}willDestroy(){(0,o.runDisposables)(this)}toggleActionsOn(){this.toggleActionsOnTask=(0,o.runTask)(this,(()=>{this.isDestroying||(this.showActions=!0)}),300)}toggleActionsOff(){this.toggleActionsOnTask&&(0,o.cancelTask)(this,this.toggleActionsOnTask)
this.showActions=!1}_closeOptionDropdown(){this.isOptionMenuOpen=!1}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/event-listitem-actions","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}setupDropMenu(e){const t=this.dropDirection,n=e.target.closest(".msg-s-message-list"),s=e.target,i=.5*n.offsetHeight,r=n.getBoundingClientRect().bottom-s.getBoundingClientRect().bottom<i?"top":"bottom"
r!==t&&Ember.set(this,"dropDirection",r)}forwardViaMessage(){this.msgOverlay.triggerNewConversation({forwardedEvent:this.args.event})
this._closeOptionDropdown()}forwardViaEmail(){const{event:e}=this.args,t=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-ui@primitives/event-listitem-actions","INMAIL"===Ember.get(e,"subtype")?"i18n_forwarded_inmail_message_preamble":"i18n_forwarded_message_preamble")()),n=Ember.get(e,"from.fullName"),s=`linkedin.com/in/${Ember.get(e,"from.miniProfile.publicIdentifier")}`,i=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-ui@primitives/event-listitem-actions","i18n_forwarded_message_header")([{originalSender:n,originalSenderProfileURL:s}])),r=Ember.get(e,"eventContent.subject"),a=Ember.get(e,"eventContent.attributedBody.text")
let o="mailto:?",l=`${t}\r\n\r\n${i}\r\n\r\n`
if("INMAIL"===Ember.get(e,"subtype")&&r){o+=`subject=${encodeURIComponent(`FWD: ${r}`)}&`
l+=`${r}\r\n\r\n`}l+=a
o+=`body=${encodeURIComponent(l)}`
this.windowService.open(o,"")
this._closeOptionDropdown()}forwardAttachment(e){const t={}
Ember.set(e,"messageReference",Ember.get(this,"args.event.entityUrn"))
void 0===Ember.get(e,"isImage")&&(t.isImage=(0,l.isSupportedImageFile)(Ember.get(e,"mediaType"),Ember.get(e,"name")))
Ember.get(e,"mediaTypeExtension")||(t.mediaTypeExtension=(0,l.mediaTypeExtension)(Ember.get(e,"mediaType")))
Ember.get(e,"formattedSize")||(t.formattedSize=(0,m.default)(Ember.get(e,"byteSize"),this.i18n))
Ember.setProperties(e,t)
const n={forwardedAttachments:[e]}
this.msgOverlay.triggerNewConversation(n)}hideAllActionMenus(e){if(r.default){const t=document.querySelector(".msg-s-event-listitem__message-bubble--is-focused .msg-s-event-listitem__actions-container")
if(e&&e.target&&t&&t.contains(e.target)&&e.relatedTarget&&t.contains(e.relatedTarget))return
this.isOptionMenuOpen=!1
this.isFocused=!1}}},C=(0,s.default)(M.prototype,"msgOverlay",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,s.default)(M.prototype,"i18n",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,s.default)(M.prototype,"windowService",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,s.default)(M.prototype,"isOptionMenuOpen",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=(0,s.default)(M.prototype,"showActions",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=(0,s.default)(M.prototype,"isFocused",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(M.prototype,"toggleActionsOn",[b],Object.getOwnPropertyDescriptor(M.prototype,"toggleActionsOn"),M.prototype),(0,s.default)(M.prototype,"toggleActionsOff",[f],Object.getOwnPropertyDescriptor(M.prototype,"toggleActionsOff"),M.prototype),(0,s.default)(M.prototype,"setupDropMenu",[v],Object.getOwnPropertyDescriptor(M.prototype,"setupDropMenu"),M.prototype),(0,s.default)(M.prototype,"forwardViaMessage",[y],Object.getOwnPropertyDescriptor(M.prototype,"forwardViaMessage"),M.prototype),(0,s.default)(M.prototype,"forwardViaEmail",[_],Object.getOwnPropertyDescriptor(M.prototype,"forwardViaEmail"),M.prototype),(0,s.default)(M.prototype,"forwardAttachment",[E],Object.getOwnPropertyDescriptor(M.prototype,"forwardAttachment"),M.prototype),(0,s.default)(M.prototype,"hideAllActionMenus",[w],Object.getOwnPropertyDescriptor(M.prototype,"hideAllActionMenus"),M.prototype),M)
e.default=I
Ember._setComponentTemplate(O,I)}))
define("msg-ui/components/primitives/event-listitem-advertiser-avatar",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"Ill9M/28",block:'{"symbols":["@sender","&attrs","@isCompanySender"],"statements":[[11,"div"],[17,2],[12],[2,"\\n"],[6,[37,2],[[32,3]],null,[["default","else"],[{"statements":[[2,"    "],[8,"ember-engines@link-to-external",[],[["@route","@model"],["companies.company",[30,[36,3],[[32,1,["miniCompany","entityUrn"]]],null]]],[["default"],[{"statements":[[2,"\\n      "],[8,"ember-vector-images@lazy-background",[],[["@image","@alt","@title","@class","@ghostType","@desiredWidth"],[[30,[36,0],[[32,1]],null],[32,1,["fullName"]],[32,1,["fullName"]],"msg-s-event-listitem__advertiser-profile-picture EntityPhoto-square-2",[30,[36,2],[[30,[36,1],[[32,1]],null],"company","person"],null],40]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"ember-vector-images@lazy-image",[],[["@image","@alt","@title","@class","@ghostType","@desiredWidth"],[[30,[36,0],[[32,1]],null],[32,1,["fullName"]],[32,1,["fullName"]],"msg-s-event-listitem__advertiser-profile-picture EntityPhoto-circle-2",[30,[36,2],[[30,[36,1],[[32,1]],null],"company","person"],null],40]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["msg-shared@get-member-or-company-picture","msg-shared@is-company-profile","if","global-helpers@urn-to-id"]}',moduleName:"msg-ui/components/primitives/event-listitem-advertiser-avatar.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/primitives/event-listitem-avatar",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"f81ykHoy",block:'{"symbols":["@sender","@size","@profileRoute","@showPresence"],"statements":[[8,"ember-engines@link-to-external",[[24,0,"msg-s-event-listitem__link"],[4,[38,4],["view_profile"],null]],[["@route","@model"],[[32,3],[32,1,["miniProfile","publicIdentifier"]]]],[["default"],[{"statements":[[2,"\\n  "],[10,"span"],[14,0,"a11y-text"],[12],[2,"\\n    "],[1,[30,[36,5],["i18n_view_profile_a11y","msg-ui/components/primitives/event-listitem-avatar"],[["firstName"],[[32,1,["firstName"]]]]]],[2,"\\n  "],[13],[2,"\\n"],[6,[37,3],[[32,4]],null,[["default","else"],[{"statements":[[2,"    "],[8,"presence@entity-with-presence",[[24,0,"msg-s-event-listitem__profile-picture"]],[["@alt","@title","@miniProfile","@size"],[[32,1,["fullName"]],[32,1,["fullName"]],[32,1,["miniProfile"]],[32,2]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"ember-vector-images@lazy-image",[],[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,[36,0],[[32,1]],null],[32,1,["fullName"]],[32,1,["fullName"]],[30,[36,1],["msg-s-event-listitem__profile-picture EntityPhoto-circle-",[32,2]],null],100,100,[30,[36,3],[[30,[36,2],[[32,1]],null],"company","person"],null]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["msg-shared@get-member-or-company-picture","concat","msg-shared@is-company-profile","if","ember-cli-pemberly-tracking@track-interaction","t"]}',moduleName:"msg-ui/components/primitives/event-listitem-avatar.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/primitives/event-listitem-system-event",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n=Ember.HTMLBars.template({id:"YJd/Xq6s",block:'{"symbols":["@event"],"statements":[[10,"p"],[14,0,"t-12 t-black--light t-normal"],[12],[2,"\\n"],[6,[37,3],[[30,[36,5],[[32,1,["eventContent","messageBodyRenderFormat"]],"SYSTEM"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"rich-text@attributed-text",[[24,0,"msg-s-event-listitem__attributed-text--system"]],[["@attributedText","@tagName"],[[32,1,["eventContent","attributedBody"]],"span"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,5],[[32,1,["subtype"]],"PARTICIPANT_CHANGE"],null]],null,[["default"],[{"statements":[[6,[37,3],[[32,0,["isAddParticipantEvent"]]],null,[["default","else"],[{"statements":[[6,[37,3],[[30,[36,5],[[32,1,["eventContent","addedParticipants","length"]],1],null]],null,[["default","else"],[{"statements":[[2,"        "],[1,[30,[36,3],[[30,[36,2],[[32,0,["sender"]]],null],[30,[36,1],["i18n_you_added_single_participant_to_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserName"],[[32,0,["sender","fullName"]],[30,[36,4],[[30,[36,0],[[32,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]],[30,[36,1],["i18n_other_user_added_single_participant_to_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserName"],[[32,0,["sender","fullName"]],[30,[36,4],[[30,[36,0],[[32,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[1,[30,[36,3],[[30,[36,2],[[32,0,["sender"]]],null],[30,[36,1],["i18n_you_added_multiple_participants_to_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserNames"],[[32,0,["sender","fullName"]],[30,[36,0],[[32,1,["eventContent","addedParticipants"]]],null]]]],[30,[36,1],["i18n_other_user_added_multiple_participants_to_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserNames"],[[32,0,["sender","fullName"]],[30,[36,0],[[32,1,["eventContent","addedParticipants"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["isSingleParticipantJoinEvent"]]],null,[["default","else"],[{"statements":[[2,"      "],[1,[30,[36,3],[[30,[36,2],[[32,0,["sender"]]],null],[30,[36,1],["i18n_you_joined_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["joinedUserName"],[[30,[36,4],[[30,[36,0],[[32,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]],[30,[36,1],["i18n_other_user_joined_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["joinedUserName"],[[30,[36,4],[[30,[36,0],[[32,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["participantLeft"]]],null,[["default","else"],[{"statements":[[6,[37,3],[[30,[36,5],[[32,1,["eventContent","removedParticipants","length"]],1],null]],null,[["default","else"],[{"statements":[[2,"        "],[1,[30,[36,3],[[30,[36,2],[[32,0,["sender"]]],null],[30,[36,1],["i18n_you_left_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removedUserName"],[[30,[36,4],[[30,[36,0],[[32,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]],[30,[36,1],["i18n_single_other_user_left_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removedUserName"],[[30,[36,4],[[30,[36,0],[[32,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[1,[30,[36,1],["i18n_multiple_other_users_left_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removedUserNames"],[[30,[36,0],[[32,1,["eventContent","removedParticipants"]]],null]]]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,0,["removedUser"]]],null]],null,[["default","else"],[{"statements":[[2,"      "],[1,[30,[36,1],["i18n_you_were_removed","msg-ui/components/primitives/event-listitem-system-event"],[["removersName"],[[32,0,["sender","name"]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,5],[[32,1,["eventContent","removedParticipants","length"]],1],null]],null,[["default","else"],[{"statements":[[2,"        "],[1,[30,[36,3],[[30,[36,2],[[32,0,["sender"]]],null],[30,[36,1],["i18n_you_removed_single_participant_from_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserName"],[[32,0,["sender","name"]],[30,[36,4],[[30,[36,0],[[32,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]],[30,[36,1],["i18n_other_user_removedd_single_participant_from_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserName"],[[32,0,["sender","name"]],[30,[36,4],[[30,[36,0],[[32,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[1,[30,[36,3],[[30,[36,2],[[32,0,["sender"]]],null],[30,[36,1],["i18n_you_removed_multiple_participants_from_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserNames"],[[32,0,["sender","fullName"]],[30,[36,0],[[32,1,["eventContent","removedParticipants"]]],null]]]],[30,[36,1],["i18n_other_user_removed_multiple_participants_from_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserNames"],[[32,0,["sender","fullName"]],[30,[36,0],[[32,1,["eventContent","removedParticipants"]]],null]]]]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"  "]],"parameters":[]}]]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["msg-ui@extract-participant-names","t","msg-shared@is-current-user","if","get","global-helpers@eq"]}',moduleName:"msg-ui/components/primitives/event-listitem-system-event.hbs"})
class s extends t.default{get sender(){return Ember.get(this.args,"event.from")}get addedUsers(){return Ember.get(this.args,"event.eventContent.addedParticipants")}get isSingleParticipantJoinEvent(){return this.addedUsers&&1===this.addedUsers.length&&Ember.get(this.sender,"entityUrn")===Ember.get(this.addedUsers,"firstObject.entityUrn")}get removedUser(){return Ember.get(this.args,"event.eventContent.removedParticipants.firstObject")}get isAddParticipantEvent(){return this.addedUsers&&!!this.addedUsers.length&&!this.isSingleParticipantJoinEvent}get participantLeft(){return this.removedUser&&Ember.get(this.sender,"entityUrn")===Ember.get(this.removedUser,"entityUrn")}}e.default=s
Ember._setComponentTemplate(n,s)}))
define("msg-ui/components/primitives/event-listitem-user-event",["exports","@babel/runtime/helpers/esm/objectSpread2","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","global-utils/utils/url","global-utils/utils/file-size-formatter","msg-data/utils/spinmail/sponsored-action-tracking","msg-shared/utils/constants","msg-shared/utils/file-meta","msg-shared/helpers/is-current-user","msg-ui/utils/virtual-meeting-constants","msg-shared/utils/decorate-attributed-body","msg-shared/helpers/is-sponsored-conversation","msg-ui/utils/marketplace-project-card-constants"],(function(e,t,n,s,i,r,a,o,l,m,d,c,u,p,g,h,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,v,y,_,E,w,M,C,k,T,x,S,P,O,I,D,A,R,j,N,L,F,z,U,B,H,q,V,W,G,K,$,Y,Q,J,Z,X,ee,te,ne,se
const ie=Ember.HTMLBars.template({id:"D0ZSwDuR",block:'{"symbols":["assetLoader","assetLoader","assetLoader","mediaAttachment","attachment","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","@event","@trackingPrefix","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@onEmojiPickerVisibilityChange","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","@showMessageEditForm"],"statements":[[6,[37,2],[[32,14,["eventContent","customContent","group","groupName"]]],null,[["default"],[{"statements":[[2,"  "],[10,"p"],[14,0,"msg-s-event-listitem--system t-12 t-black--light t-normal"],[12],[2,"\\n    "],[1,[30,[36,7],["i18n_users_of_linkedin_group","msg-ui/components/primitives/event-listitem-user-event"],[["group"],[[32,14,["eventContent","customContent","group","groupName"]]]]]],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,14,["eventContent","recalledAt"]]],null,[["default","else"],[{"statements":[[2,"  "],[10,"p"],[14,0,"msg-s-event-listitem__body--recalled msg-s-event-listitem__body t-14 t-black--light t-normal"],[12],[2,"\\n    "],[1,[30,[36,7],["i18n_message_deleted","msg-ui/components/primitives/event-listitem-user-event"],null]],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,14,["eventContent","customContent","media","gif"]]],null,[["default","else"],[{"statements":[[2,"  "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],false,false,[32,0,["showSendReactionControls"]],[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n    "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],[["default"],[{"statements":[[2,"\\n      "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,13,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"          "],[8,"tenor-gif@gif-image",[[24,0,"msg-s-event-listitem__gif"]],[["@imgClass","@maxWidth","@mediaObject"],["msg-s-event-listitem__gif-img-class",220,[32,14,["eventContent","customContent","media","gif"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[13]}]]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["showReactionSummaries"]]],null,[["default"],[{"statements":[[2,"    "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-reactions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,12,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-reactions@emoji/msg-reactions",[],[["@event","@isOverlay"],[[32,14],[32,16]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[12]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,2],[[32,14,["eventContent","sticker"]]],null,[["default","else"],[{"statements":[[2,"  "],[8,"ember-vector-images@custom-image",[],[["@image","@class","@alt","@desiredWidth"],[[32,14,["eventContent","sticker","image"]],"msg-s-event-listitem__sticker",[30,[36,7],["i18n_sticker","msg-ui/components/primitives/event-listitem-user-event"],[["senderName"],[[32,14,["from","familiarName"]]]]],150]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["locationSharePreview"]]],null,[["default","else"],[{"statements":[[2,"  "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],false,false,[32,0,["showSendReactionControls"]],[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n    "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],[["default"],[{"statements":[[2,"\\n      "],[10,"div"],[14,0,"msg-s-event-listitem__url-preview-wrapper mv1"],[12],[2,"\\n        "],[8,"ember-cli-pemberly-tracking@shared/external-link",[[4,[38,9],["open_sent_location"],null]],[["@href","@target","@class"],[[32,0,["urlToUnroll"]],"_blank","msg-s-event-listitem__url-preview display-flex flex-column"]],[["default"],[{"statements":[[2,"\\n          "],[10,"div"],[14,0,"msg-s-event-listitem__url-preview-img-wrapper msg-s-event-listitem__url-preview-img-wrapper--location"],[12],[2,"\\n"],[2,"            "],[10,"div"],[14,0,"msg-s-event-listitem__url-preview-img"],[15,5,[30,[36,19],null,[["background-image"],[[30,[36,1],["url(",[32,0,["locationSharePreview","imageUrl"]],")"],null]]]]],[12],[13],[2,"\\n            "],[10,"span"],[14,0,"a11y-text"],[12],[2,"\\n              "],[1,[30,[36,7],["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n          "],[10,"article"],[14,0,"msg-s-event-listitem__url-preview-description p2"],[12],[2,"\\n            "],[10,"h2"],[14,0,"msg-s-event-listitem__url-preview-headline t-14 t-black t-bold"],[12],[2,"\\n              "],[1,[32,0,["locationSharePreview","title"]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"h3"],[14,0,"msg-s-event-listitem__url-preview-byline t-14 t-black--light t-normal"],[12],[2,"\\n              "],[1,[30,[36,7],["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["showReactionSummaries"]]],null,[["default"],[{"statements":[[2,"    "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-reactions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,11,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-reactions@emoji/msg-reactions",[],[["@event","@isOverlay"],[[32,14],[32,16]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[11]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["shouldObfuscateMessage"]]],null,[["default","else"],[{"statements":[[2,"    "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showMessageEditForm","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],false,[32,0,["showSendReactionControls"]],false,[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n      "],[10,"div"],[14,0,"msg-s-event-listitem__obfuscated-message-card mt2 mr2 mb1 pv2 ph3 t-14"],[12],[2,"\\n        "],[1,[32,14,["obfuscatedMessageWarning","text"]]],[2,"\\n\\n        "],[11,"button"],[24,0,"t-14 t-black t-bold"],[16,"aria-label",[32,14,["viewObfuscatedMessageCTAText"]]],[24,4,"button"],[4,[38,9],["inline_warning_show"],null],[4,[38,8],["click",[32,0,["showObfuscatedMessage"]]],null],[12],[2,"\\n          "],[1,[32,14,["viewObfuscatedMessageCTAText"]]],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["showReactionSummaries"]]],null,[["default"],[{"statements":[[2,"      "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-reactions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,10,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"          "],[8,"msg-reactions@emoji/msg-reactions",[],[["@event","@isOverlay"],[[32,14],[32,16]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[10]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,18],[[32,14,["eventContent","storyItemUrn"]],[32,0,["displayMessagingStoryBeforeTextBody"]]],null]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@rich-media/messaging-story",[],[["@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@trackingPrefix","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],[32,0,["showSendReactionControls"]],false,false,[32,15],[32,0,["reactionsHoverTrackingName"]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["decoratedContent"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-fwd-enabled",[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],[32,0,["enableMsgFwd"]],[32,14],[32,16],[32,18],[32,17],[32,19],[32,0,["enableModifyMessageEvent"]],[32,22],[32,0,["showSendReactionControls"]],[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[30,[36,4],[[32,14,["subtype"]],"INMAIL"],null]],null,[["default"],[{"statements":[[6,[37,2],[[30,[36,18],[[32,14,["eventContent","subject"]],[30,[36,17],[[32,0,["referralRequestCardUrl"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"h3"],[14,0,"msg-s-event-listitem__subject t-14 t-black--light t-bold"],[12],[2,"\\n              "],[1,[32,14,["eventContent","subject"]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-reactions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,9,["state","fulfilled"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],[["default"],[{"statements":[[2,"\\n              "],[10,"p"],[15,0,[31,["msg-s-event-listitem__body t-14 t-black--light t-normal\\n                  ",[30,[36,2],[[30,[36,16],[[32,14,["eventContent","attributedBody"]]],null]," t-32"],null]]]],[12],[8,"msg-ui@primitives/render-chunk",[],[["@decoratedContent","@event","@fireBodyLinkTracking"],[[32,0,["decoratedContent"]],[32,14],[32,0,["fireBodyLinkTracking"]]]],null],[6,[37,2],[[32,14,["eventContent","lastEditedAt"]]],null,[["default"],[{"statements":[[10,"span"],[14,0,"t-14 t-black--light t-normal pl1"],[12],[1,[30,[36,7],["i18n_message_edited","msg-ui/components/primitives/event-listitem-user-event"],null]],[13]],"parameters":[]}]]],[13]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["referralRequestCardUrl"]]],null,[["default"],[{"statements":[[2,"              "],[10,"div"],[14,0,"msg-s-event__referral-request-card display-flex flex-column mt4 mr3 mb4"],[12],[2,"\\n                "],[10,"div"],[14,0,"card-info display-flex align-items-center"],[12],[2,"\\n                  "],[1,[30,[36,15],null,[["type","size","color"],["linkedin-bug","14dp","brand"]]]],[2,"\\n                  "],[10,"span"],[14,0,"t-12 t-bold t-black--light ml1"],[12],[1,[30,[36,7],["i18n_referral_request_header","msg-ui/components/primitives/event-listitem-user-event"],null]],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"display-flex mt3 mb1"],[12],[2,"\\n                  "],[10,"div"],[14,0,"banner-icon"],[12],[13],[2,"\\n                  "],[10,"div"],[14,0,"display-flex flex-column ml2"],[12],[2,"\\n                    "],[10,"span"],[14,0,"t-14 mb1 t-bold"],[12],[2,"\\n                      "],[1,[30,[36,2],[[32,0,["isSenderSide"]],[30,[36,7],["i18n_referral_request_title","msg-ui/components/primitives/event-listitem-user-event"],null],[30,[36,7],["i18n_referral_request_title_referrer_side","msg-ui/components/primitives/event-listitem-user-event"],null]],null]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"span"],[14,0,"t-12 mb0 t-black--light t-normal"],[12],[2,"\\n                      "],[1,[30,[36,2],[[32,0,["isSenderSide"]],[30,[36,7],["i18n_referral_request_description","msg-ui/components/primitives/event-listitem-user-event"],null],[30,[36,7],["i18n_referral_request_description_referrer_side","msg-ui/components/primitives/event-listitem-user-event"],null]],null]],[2,"\\n                    "],[13],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n                "],[8,"ember-cli-pemberly-tracking@shared/external-link",[[24,0,"referral-request-link"],[4,[38,9],[[30,[36,2],[[32,0,["isSenderSide"]],"job_seeker_referral_request_card_view_detail","referral_request_card_view_detail"],null]],null]],[["@href","@target"],[[32,0,["referralRequestCardUrl"]],"_blank"]],[["default"],[{"statements":[[2,"\\n                  "],[8,"artdeco-button@artdeco-button",[],[["@type","@size","@text","@class"],["primary","1",[30,[36,7],["i18n_referral_request_cta","msg-ui/components/primitives/event-listitem-user-event"],null],"full-width full-height"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n              "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"            "],[10,"p"],[14,0,"msg-s-event-listitem__body t-14 t-black--light t-normal"],[12],[8,"msg-ui@primitives/render-chunk",[],[["@decoratedContent","@event","@fireBodyLinkTracking"],[[32,0,["decoratedContent"]],[32,14],[32,0,["fireBodyLinkTracking"]]]],null],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[9]}]]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,18],[[32,14,["eventContent","storyItemUrn"]],[32,0,["displayMessagingStoryAfterTextBody"]]],null]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@rich-media/messaging-story",[],[["@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@trackingPrefix","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],[32,0,["showSendReactionControls"]],false,false,[32,15],[32,0,["reactionsHoverTrackingName"]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,14,["eventContent","customContent","forwardedContentType"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],false,false,[32,0,["showSendReactionControls"]],[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],[["default"],[{"statements":[[2,"\\n          "],[8,"msg-ui@forward-preview",[],[["@forwardedContent"],[[32,14,["eventContent","customContent"]]]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["showInlineWarning"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@primitives/inline-warning",[],[["@event","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","@afterDismissed","@focusOnMsgReportCta"],[[32,14],[32,20],[32,21],[30,[36,0],[[32,0],"isInlineWarningDismissed",true],null],[32,0,["focusOnMsgReportCta"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,14,["eventContent","footerText"]]],null,[["default"],[{"statements":[[2,"      "],[10,"span"],[14,0,"msg-s-event-listitem__footer-text t-12 t-bold"],[12],[2,"\\n        "],[1,[30,[36,14],[[32,14,["eventContent","footerText"]]],null]],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["shouldDisplayRelay"]]],null,[["default"],[{"statements":[[2,"      "],[8,"artdeco-card@artdeco-card",[],[["@class"],["msg-s-event-listitem__job-card mt3 mb4"]],[["default"],[{"statements":[[2,"\\n        "],[8,"ember-engines@link-to-external",[[24,0,"display-flex flex-column"],[4,[38,9],["view_job_card"],null]],[["@route","@model"],["jobs.view",[30,[36,13],[[32,14,["eventContent","customContent","jobPostingReferral","jobPosting"]]],null]]],[["default"],[{"statements":[[2,"\\n          "],[10,"div"],[14,0,"inline-flex Elevation-0dp p2"],[12],[2,"\\n            "],[8,"ember-vector-images@lazy-image",[],[["@image","@class","@alt","@ghostType","@width"],[[32,14,["eventContent","customContent","companyLogo"]],"msg-s-event-listitem__company-logo EntityPhoto-square-3",[30,[36,7],["i18n_company_logo_a11y","msg-ui/components/primitives/event-listitem-user-event"],null],"company",64]],null],[2,"\\n            "],[10,"div"],[14,0,"ml2"],[12],[2,"\\n              "],[10,"p"],[14,0,"t-16 t-bold"],[12],[2,"\\n                "],[1,[32,14,["eventContent","customContent","jobTitle"]]],[2,"\\n              "],[13],[2,"\\n              "],[10,"p"],[14,0,"t-14 t-black--light"],[12],[2,"\\n                "],[1,[32,14,["eventContent","customContent","companyName"]]],[2,"\\n              "],[13],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["shouldDisplayReferralButton"]]],null,[["default"],[{"statements":[[2,"        "],[8,"artdeco-button@artdeco-button",[[4,[38,8],["click",[30,[36,0],[[32,0],"isReferralFormOpen",true],null]],null],[4,[38,9],[[32,0,["referralButtonControlName"]]],null],[4,[38,12],[[32,0,["onReferralButtonImpression"]]],[["routeName","currentRoute"],[[30,[36,11],[[30,[36,10],["outletState"],null],"render.name"],null],[30,[36,11],[[30,[36,10],["outletState"],null],"render"],null]]]]],[["@type","@size","@text","@icon","@class"],["primary","2",[30,[36,7],["i18n_start_referral","msg-ui/components/primitives/event-listitem-user-event"],null],"briefcase-icon","msg-s-event-listitem__referral-button"]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["virtualMeetingData"]]],null,[["default","else"],[{"statements":[[2,"      "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],false,false,[32,0,["showSendReactionControls"]],[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],[["default"],[{"statements":[[2,"\\n          "],[8,"msg-ui@primitives/unrolled-virtual-meeting",[],[["@class","@virtualMeetingData"],["msg-s-event-listitem__unrolled-virtual-meeting artdeco-card",[32,0,["virtualMeetingData"]]]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["unrolledUpdateV2"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],false,false,[32,0,["showSendReactionControls"]],[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],[["default"],[{"statements":[[2,"\\n          "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["feed-shared"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,8,["state","fulfilled"]]],null,[["default","else"],[{"statements":[[2,"              "],[8,"feed-shared@render-models/mini-update-v2",[[24,0,"msg-s-event-listitem__unrolled-update-v2 artdeco-card"],[16,"onClick",[30,[36,2],[[30,[36,4],[[32,14,["subtype"]],"SPONSORED_MESSAGE"],null],[32,0,["fireBodyLinkTracking"]]],null]]],[["@update","@shouldHideCtaButton","@showNestedShares"],[[32,0,["unrolledUpdateV2"]],[32,16],true]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,8,["state","pending"]]],null,[["default"],[{"statements":[[2,"              "],[10,"div"],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[2,"\\n                "],[8,"artdeco-loader@artdeco-loader",[],[[],[]],null],[2,"\\n              "],[13],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "]],"parameters":[8]}]]],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["smpContent"]]],null,[["default"],[{"statements":[[2,"      "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["marketplace-message-card"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,7,["state","fulfilled"]]],null,[["default","else"],[{"statements":[[2,"          "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@shouldShowEditDelete","@showMessageEditForm","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",false,[32,14],[32,16],[32,18],[32,17],[32,19],[32,0,["showSendReactionControls"]],false,false,[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n            "],[8,"marketplace-message-card@marketplace-message-card",[[24,0,"msg-s-event-listitem__unrolled-update-v2"]],[["@messageCard","@isPreview"],[[32,0,["smpContent"]],false]],null],[2,"\\n          "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,7,["state","pending"]]],null,[["default"],[{"statements":[[2,"          "],[10,"div"],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[2,"\\n            "],[8,"artdeco-loader@artdeco-loader",[],[[],[]],null],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "]],"parameters":[7]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["hasArticleOrUpdate"]]],null,[["default"],[{"statements":[[2,"      "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["feed-shared"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,6,["state","fulfilled"]]],null,[["default","else"],[{"statements":[[2,"          "],[8,"msg-ui@rich-media/content-preview",[],[["@feedUpdate","@showNestedShares","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],[[32,14,["eventContent","feedUpdate"]],true,[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],[32,0,["showSendReactionControls"]],false,false,[32,0,["reactionsHoverTrackingName"]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,6,["state","pending"]]],null,[["default"],[{"statements":[[2,"          "],[10,"div"],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[2,"\\n            "],[8,"artdeco-loader@artdeco-loader",[],[[],[]],null],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "]],"parameters":[6]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,14,["eventContent","attachments","length"]]],null,[["default"],[{"statements":[[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,14,["eventContent","attachments"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus","@classNames"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]],[31,["\\n          ",[30,[36,2],[[32,0,["enableMsgFwd"]],"msg-s-event-listitem__attachment-item--msg-fwd-enabled"],null],"\\n          "]]]],[["default"],[{"statements":[[2,"\\n          "],[8,"msg-ui@rich-media/attachment-display",[],[["@attachment","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],[[32,5],[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],[32,0,["enableMsgFwd"]],[32,14],[32,16],[32,18],[32,17],[32,19],[32,0,["showSendReactionControls"]],[32,0,["enableModifyMessageEvent"]],[32,0,["reactionsHoverTrackingName"]]]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[5]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,14,["eventContent","digitalMediaConferenceUrn"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],[32,0,["enableModifyMessageEvent"]],false,[32,0,["showSendReactionControls"]],[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],[["default"],[{"statements":[[2,"\\n          "],[10,"div"],[14,0,"msg-s-event-listitem__linkedin-meeting-container"],[12],[2,"\\n            "],[8,"msg-ui@primitives/linkedin-meeting-card",[],[["@conferenceUrn","@threadId","@participant","@virtualMeetingTimeRange","@virtualMeetingCreationTime"],[[32,14,["eventContent","digitalMediaConferenceUrn"]],[32,14,["conversation","id"]],[32,14,["from"]],[32,14,["eventContent","virtualMeetingTimeRange"]],[32,14,["createdAt"]]]],null],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,14,["eventContent","mediaAttachments","length"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen"],null],false,[32,14],[32,16],[32,18],[32,17],[32,19],false,false,[32,0,["showSendReactionControls"]],[32,0,["reactionsHoverTrackingName"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,14,["eventContent","mediaAttachments"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,2],[[30,[36,4],[[32,4,["mediaType"]],"AUDIO"],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"msg-s-event-listitem__audio-container"],[12],[2,"\\n              "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],[["default"],[{"statements":[[2,"\\n                "],[8,"msg-ui@rich-media/audio-display",[],[["@mediaAttachment","@trackingPrefix"],[[32,4],[32,15]]],null],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,4],[[32,4,["mediaType"]],"VIDEO"],null]],null,[["default"],[{"statements":[[2,"            "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,3],null,[["createdAt"],[[32,14,["createdAt"]]]]],[32,0,["shouldShowMessageSendingIndicator"]],[32,0,["messageStatus"]]]],[["default"],[{"statements":[[2,"\\n              "],[10,"div"],[14,0,"msg-s-event-listitem__video-container"],[12],[2,"\\n                "],[8,"msg-ui@rich-media/video-display",[],[["@mediaAttachment"],[[32,4]]],null],[2,"\\n              "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n          "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[4]}]]],[2,"      "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["showReactionSummaries"]]],null,[["default"],[{"statements":[[2,"      "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-reactions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,3,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"          "],[8,"msg-reactions@emoji/msg-reactions",[],[["@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide"],[[32,14],[32,16],[32,17],[32,18]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"      "]],"parameters":[3]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["isReferralFormOpen"]]],null,[["default"],[{"statements":[[2,"  "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-referrals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,2,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-referrals@referral-form",[],[["@referralRecord","@candidateFirstName","@candidateFullName","@company","@jobTitle","@closeModal"],[[32,14,["eventContent","customContent","jobPostingReferral"]],[32,0,["candidate","firstName"]],[32,0,["candidate","fullName"]],[32,0,["company"]],[32,0,["jobTitle"]],[32,0,["closeReferralFormModal"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"  "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["isDeleteMessageEventModalOpen"]]],null,[["default"],[{"statements":[[2,"  "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-shared-modals@delete-message-event-modal",[],[["@dismissModal","@event","@deleteMessageAndCloseModal","@deleteEventControlName"],[[30,[36,0],[[32,0],"isDeleteMessageEventModalOpen",false],null],[32,14],[32,0,["deleteMessageAndCloseModal"]],[30,[36,1],[[32,15],"delete_message"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"  "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["ember-set-helper@set","concat","if","hash","global-helpers@eq","-track-array","each","t","on","ember-cli-pemberly-tracking@track-interaction","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","global-helpers@urn-to-id","text-view-model@text-view-model","artdeco-icons-web@li-icon","msg-reactions@is-emoji-only-content","global-helpers@not","global-helpers@and","global-helpers@css-style"]}',moduleName:"msg-ui/components/primitives/event-listitem-user-event.hbs"}),{SPONSORED_TRACKING:{ACTIONS:re},REFERRALS:{PENDING:ae},JOB_STATE:{LISTED:oe},MESSAGE_STATUS:le}=d.default
let me=(f=Ember.inject.service("store"),v=Ember.inject.service("lix"),y=Ember.inject.service("i18n"),_=Ember.inject.service("jet"),E=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),w=Ember.inject.service("authentication@authenticated-user"),M=Ember.inject.service("msg-data@data-manager"),C=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),k=Ember.inject.service("global-services@global-http-headers"),T=Ember._tracked,x=Ember._tracked,S=Ember.inject.service("tracking"),P=Ember._tracked,O=Ember._tracked,I=Ember._tracked,D=Ember._tracked,A=Ember._tracked,R=Ember._action,j=Ember._action,N=Ember._action,L=Ember._action,F=Ember._action,z=Ember._action,U=class extends a.default{get messageStatus(){return this.msgDataManager.getEventIndicator(this.args.event)}get shouldShowMessageSendingIndicator(){return!("INMAIL"===Ember.get(this.args.event,"subtype"))&&this.isMessagingSendingIndicatorEnabled&&this.isSenderSide&&Ember.get(this.args,"isMsgSeenByNone")&&!Ember.get(this.args,"event.isError")&&this.messageStatus!==le.ERROR}get referralButtonControlName(){return this.args.trackingPrefix?`${this.args.trackingPrefix}start_referral`:"start_referral"}get urlToUnroll(){const e=Ember.get(this.args,"event.eventContent.attributedBody.text"),t=(0,o.getUrlsFromText)(e).filter((e=>/^https?:\/\//.test(e)))
return"INMAIL"!==Ember.get(this.args,"event.subtype")&&!Ember.get(this.args,"event.eventContent.attachments.length")&&!this.hasArticleOrUpdate&&!Ember.get(this.args,"event.eventContent.smpContent")&&e&&1===t.length&&!o.CONTAINS_GROUPCHATLINK_REGEX.test(t[0])&&t[0]}get hasArticleOrUpdate(){return/article|activity|contentTopic|lyndaCourse/.test(Ember.get(this.args,"event.eventContent.feedUpdate.updateMetadata.urn"))}get locationSharePreview(){var e
if(this.urlToUnroll!==Ember.get(this.args,"event.eventContent.attributedBody.text")||null===(e=this.urlToUnroll)||void 0===e||!e.startsWith("https://www.bing.com/maps?cp="))return!1
const t=(0,o.parseQueryString)(this.urlToUnroll)
if(!t.cp||!t.q)return!1
const n=t.cp.split("~")
if(2!==n.length)return!1
return{imageUrl:jSecure.sanitizeUrl(`https://dev.virtualearth.net/REST/v1/Imagery/Map/CanvasLight?key=AjWfR7LMpDYZJOLH-RZEhFo2MmRUXEVeFQpb8Osj8kIp0-PLHN8l3ceo7aWzblYg&mapSize=500,500&dpi=Large&pp=${n.join(",")};60`),title:t.q}}get virtualMeetingData(){const e=this.unrolledUpdateV2&&Ember.get(this.unrolledUpdateV2,"content.navigationContext.actionTarget")
if(e){const t=Object.values(p.MEETING_PROVIDERS).find((t=>t.regex.test(e)))
return t?{class:t.class,controlName:t.controlName,name:t.name,url:e}:void 0}}get decoratedContent(){const e=Ember.get(this.args,"event.eventContent.attributedBody"),t=e&&Ember.get(e,"text"),n=(0,g.default)(e,t,this.linkifyOpts),s=Ember.get(n,n.length-1+".url")
if("JOB_SEEKER_REQUEST_REFERRAL"===Ember.get(this.args,"event.eventContent.customContent.type")&&s){this.referralRequestCardUrl=s
n.pop()}return n}get shouldDisplayReferralButton(){return Ember.get(this.args,"event.eventContent.customContent.viewerEmployee")&&Ember.get(this.args,"event.eventContent.customContent.jobPostingReferral.state")===ae&&Ember.get(this.args,"event.eventContent.customContent.jobState")===oe}get isSenderSide(){return(0,u.isCurrentUser)(this.authenticatedUser,Ember.get(this.args,"event.from"))}get showInlineWarning(){return!Ember.get(this.args,"event.conversation.blocked")&&!this.isInlineWarningDismissed&&Ember.get(this.args,"event.inlineWarning")}get showReactionSummaries(){return!!Ember.get(this.args,"event.reactionSummaries.length")}get displayMessagingStoryAfterTextBody(){return!Ember.get(this.args,"event.eventContent.replyToContent")}get displayMessagingStoryBeforeTextBody(){return Ember.get(this.args,"event.eventContent.replyToContent")}get showSendReactionControls(){var e
return!this.args.blockedByNoResponse&&(null===(e=Ember.get(this.args,"event.conversation.featureTypes"))||void 0===e?void 0:e.includes("REACTIONS"))&&Ember.get(this.args,"event.conversation.viewerCurrentParticipant")&&!Ember.get(this.args,"event.conversation.blocked")&&!Ember.get(this.args,"event.isNew")&&!Ember.get(this.args,"event.isError")}get showInMailHeader(){const e="INMAIL"===Ember.get(this.args.event,"subtype"),t=Ember.get(this.args.event,"eventContent.customContent.inmailProductType")
return e&&"RECRUITER"===t||e&&"SALES"===t||this._isPremiumInMail()||"SPONSORED_MESSAGE"===Ember.get(this.args,"event.subtype")&&this.args.event.isFirstMessageInThread}get shouldObfuscateMessage(){return Ember.get(this.args,"event.obfuscatedMessageWarning")&&!Ember.get(this.args,"event.conversation.blocked")&&!this.obfuscatedMessageIsRevealed}get enableModifyMessageEvent(){return(0,u.isCurrentUser)(this.authenticatedUser,Ember.get(this.args,"event.from"))&&this._isEditDeleteTimeboxExpired()&&!Ember.get(this.args,"event.isNew")&&!(0,h.isSponsoredConversation)(this.args,"event.conversation")}get candidate(){return Ember.get(this.args,"event.from")}get company(){const e=Ember.get(this.args,"event.eventContent.customContent")
return Ember.get(e,"companyName")||Ember.get(e,"company.name")}get jobTitle(){return Ember.get(this.args,"event.eventContent.customContent.jobTitle")}get enableMsgFwd(){return"SPONSORED_MESSAGE"!==Ember.get(this.args,"event.subtype")&&!Ember.get(this.args,"event.inlineWarning")&&!Ember.get(this.args,"event.eventContent.storyItemUrn")}get reactionsHoverTrackingName(){return this.args.isOverlay?"overlay.show_reactions_entrypoint":"show_reactions_entrypoint"}get shouldDisplayRelay(){if(Ember.get(this.args,"event.eventContent.customContent.jobPostingReferral")){return Ember.get(this.args,"event.eventContent.customContent.jobPostingReferral.supportedDeliveryDestinationTypes.value").includes("HIRING_PLATFORM")}return!1}constructor(){super(...arguments);(0,n.default)(this,"store",B,this);(0,n.default)(this,"lix",H,this);(0,n.default)(this,"i18n",q,this);(0,n.default)(this,"jet",V,this);(0,n.default)(this,"msgOverlay",W,this);(0,n.default)(this,"authenticatedUser",G,this);(0,n.default)(this,"msgDataManager",K,this);(0,n.default)(this,"persistentToastManager",$,this);(0,n.default)(this,"globalHttpHeaders",Y,this);(0,n.default)(this,"unrolledUpdateV2",Q,this);(0,n.default)(this,"isDeleteMessageEventModalOpen",J,this);(0,n.default)(this,"tracking",Z,this);(0,n.default)(this,"obfuscatedMessageIsRevealed",X,this);(0,n.default)(this,"focusOnMsgReportCta",ee,this);(0,n.default)(this,"smpContent",te,this);(0,n.default)(this,"isInlineWarningDismissed",ne,this);(0,n.default)(this,"isReferralFormOpen",se,this)
this.isMessagingSendingIndicatorEnabled=this.lix.getTreatmentIsEnabled("voyager.web.messaging-sending-indicator")
this.linkifyOpts={url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")}
if(Ember.get(this.args,"event.eventContent.smpContent")){const e=Ember.get(this.args,"event.eventContent.smpContent")
this.store.queryURL(`voyagerMarketplacesDashProjectMessageCards/${encodeURIComponent(e)}`,{adapterOptions:{degradations:[b.MARKETPLACE_PROJECT_DEGRADATION_METADATA.MARKETPLACE_PROJECT_MESSAGE_CARD],degradedEntityIDsToRemove:[e]}}).then((e=>{this.isDestroying||(this.smpContent=e)})).catch((e=>this.jet.error(e,["msg-ui/event-list-item-user-event","business-inquiry-fetch-message-card-failure",`urn: ${Ember.get(this.args,"event.eventContent.smpContent")}`])))}const{urlToUnroll:e,locationSharePreview:t}=this
if(e&&!t){const t=encodeURIComponent(e)
this.store.queryURL(`contentcreation/urlPreview/${t}`,{cacheKey:t}).then((e=>{this.isDestroying||(this.unrolledUpdateV2=Ember.get(e,"update"))})).catch((()=>{}))}}_isPremiumInMail(){return"INMAIL"===Ember.get(this.args,"event.subtype")&&"SUBSCRIPTION"===Ember.get(this.args,"event.eventContent.customContent.inmailProductType")}_isEditDeleteTimeboxExpired(){const e=Ember.get(this.args,"event.createdAt")
return Date.now()-e<36e5}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/event-listitem-user-event","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}onReferralButtonImpression(){return{name:"CandidateInitiatedStartReferralActionEvent",body:{jobPostingUrn:Ember.get(this.args,"event.eventContent.customContent.trackingUrn")}}}forwardAttachment(e){const n=(0,t.default)({},e)
n.messageReference=Ember.get(this.args,"event.entityUrn")
void 0===Ember.get(e,"isImage")&&(n.isImage=(0,c.isSupportedImageFile)(Ember.get(e,"mediaType"),Ember.get(e,"name")))
Ember.get(e,"mediaTypeExtension")||(n.mediaTypeExtension=(0,c.mediaTypeExtension)(Ember.get(e,"mediaType")))
Ember.get(e,"formattedSize")||(n.formattedSize=(0,l.default)(Ember.get(e,"byteSize"),this.i18n))
const s={forwardedAttachments:[n]}
this.msgOverlay.triggerNewConversation(s)}fireBodyLinkTracking(){var e
const t=Ember.get(this.args,"event.conversation.sponsoredConversationMetadata"),n={action:re.BODY_CLICK,sponsoredConvoId:Ember.get(t,"sponsoredConversationTrackingId"),sponsoredMessageContentId:Ember.get(this.args,"event.eventContent.customContent.sponsoredMessageTrackingId")}
m.default.fireNodeLevelAdvertiserTracking(this.globalHttpHeaders,this.jet,null!==(e=Ember.get(t,"clickTrackingUrl"))&&void 0!==e?e:"",n)}deleteMessageAndCloseModal(){this.isDeleteMessageEventModalOpen=!1
const e=Ember.get(this.args,"event.conversation.id")
Ember.get(this.args,"event")&&e||this._showRecallErrorToast()
this.msgDataManager.recallMessage(e,Ember.get(this.args,"event")).catch((e=>{this._showRecallErrorToast()
throw e}))}showObfuscatedMessage(){this.obfuscatedMessageIsRevealed=!0
this.focusOnMsgReportCta=!0}closeReferralFormModal(){this.isReferralFormOpen=!1
this.tracking.fireInteractionEvent("referral_dismiss_form")}},B=(0,i.default)(U.prototype,"store",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,i.default)(U.prototype,"lix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,i.default)(U.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,i.default)(U.prototype,"jet",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,i.default)(U.prototype,"msgOverlay",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(U.prototype,"authenticatedUser",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(U.prototype,"msgDataManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,i.default)(U.prototype,"persistentToastManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,i.default)(U.prototype,"globalHttpHeaders",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,i.default)(U.prototype,"unrolledUpdateV2",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,i.default)(U.prototype,"isDeleteMessageEventModalOpen",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,i.default)(U.prototype,"tracking",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,i.default)(U.prototype,"obfuscatedMessageIsRevealed",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,i.default)(U.prototype,"focusOnMsgReportCta",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,i.default)(U.prototype,"smpContent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,i.default)(U.prototype,"isInlineWarningDismissed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,i.default)(U.prototype,"isReferralFormOpen",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(U.prototype,"onReferralButtonImpression",[R],Object.getOwnPropertyDescriptor(U.prototype,"onReferralButtonImpression"),U.prototype),(0,i.default)(U.prototype,"forwardAttachment",[j],Object.getOwnPropertyDescriptor(U.prototype,"forwardAttachment"),U.prototype),(0,i.default)(U.prototype,"fireBodyLinkTracking",[N],Object.getOwnPropertyDescriptor(U.prototype,"fireBodyLinkTracking"),U.prototype),(0,i.default)(U.prototype,"deleteMessageAndCloseModal",[L],Object.getOwnPropertyDescriptor(U.prototype,"deleteMessageAndCloseModal"),U.prototype),(0,i.default)(U.prototype,"showObfuscatedMessage",[F],Object.getOwnPropertyDescriptor(U.prototype,"showObfuscatedMessage"),U.prototype),(0,i.default)(U.prototype,"closeReferralFormModal",[z],Object.getOwnPropertyDescriptor(U.prototype,"closeReferralFormModal"),U.prototype),U)
e.default=me
Ember._setComponentTemplate(ie,me)}))
define("msg-ui/components/primitives/event-listitem",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants","msg-shared/helpers/is-current-user","ember-cli-pemberly-tracking/utils/tracking"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,c,u,p,g,h,b,f,v,y,_
const E=Ember.HTMLBars.template({id:"RqhzQ2xC",block:'{"symbols":["@event","@hasSeenReceipts","@isLastInGroup","@isSystemMessagePrecededByM2MMessage","@isSystemMessageFollowedByM2MMessage","@isM2MMessageFollowedByDateBoundary","&attrs","&default"],"statements":[[11,"div"],[16,0,[31,["msg-s-event-listitem\\n    ",[30,[36,3],[[32,6]," msg-s-event-listitem--m2m-msg-followed-by-date-boundary"],null],"\\n    ",[30,[36,3],[[32,5]," msg-s-event-listitem--system-followed-by-m2m-msg"],null],"\\n    ",[30,[36,3],[[32,4]," msg-s-event-listitem--system-preceded-by-m2m-msg"],null],"\\n    ",[30,[36,3],[[32,3]," msg-s-event-listitem--last-in-group"],null],"\\n    ",[30,[36,3],[[32,0,["isSystemMessage"]]," msg-s-event-listitem--system"],null],"\\n    ",[30,[36,3],[[32,0,["inMailFromOther"]]," msg-s-event-listitem--inmail"],null],"\\n    ",[30,[36,3],[[32,0,["eventIsFromOtherUser"]]," msg-s-event-listitem--other"],null],"\\n    ",[30,[36,3],[[32,2]," msg-s-event-listitem--has-seen-receipts"],null],"\\n    ",[30,[36,3],[[32,1,["eventContent","footerText"]]," msg-s-event-listitem--has-footer-text"],null],"\\n    ",[30,[36,3],[[32,1,["isError"]]," msg-s-event-listitem--is-error"],null]]]],[16,"data-event-urn",true],[17,7],[4,[38,6],[[32,0,["createImpressionEvent"]]],[["routeName","currentRoute"],[[30,[36,5],[[30,[36,4],["outletState"],null],"render.name"],null],[30,[36,5],[[30,[36,4],["outletState"],null],"render"],null]]]],[4,[38,7],[[32,0,["fireCustomPageViewEvent"]]],null],[12],[2,"\\n  "],[18,8,[[30,[36,8],null,[["isSystemMessage"],[[32,0,["isSystemMessage"]]]]]]],[2,"\\n"],[6,[37,3],[[32,0,["showMessageSentFailedError"]]],null,[["default"],[{"statements":[[2,"    "],[11,"p"],[24,0,"msg-s-event-listitem__error-message t-12 t-black t-bold"],[4,[38,1],["click",[30,[36,0],[[32,0,["resendFailedMessage"]],[32,1]],null]],null],[12],[2,"\\n      "],[1,[30,[36,2],["i18n_message_retry","msg-ui/components/primitives/event-listitem"],null]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["fn","on","t","if","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","did-insert","hash"]}',moduleName:"msg-ui/components/primitives/event-listitem.hbs"}),{IMPRESSION_KEYS:{CONVERSATION_DETAIL_IMPRESSION:w,DISPLAY_ITEM_TYPE:M},MESSAGE_TYPE:{TENOR_GIF:C},MESSAGES_PER_PAGE:k,PAGEVIEW_KEYS:{CONVERSATION_DETAIL_PAGEKEY:T}}=a.default
let x=(m=Ember.inject.service("client-sensor-web@client-sensor"),d=Ember.inject.service("authentication@authenticated-user"),c=Ember.inject.service("msg-data@data-manager"),u=Ember.inject.service("tracking"),p=Ember._action,g=Ember._action,h=Ember._action,b=class extends r.default{get isSystemMessage(){return Ember.get(this.args,"event.isSystemMessage")&&!Ember.get(this.args,"event.eventContent.recalledAt")}get eventIsFromOtherUser(){return!(0,o.isCurrentUser)(this.authenticatedUser,Ember.get(this.args,"event.from"))}get inMailFromOther(){return"INMAIL"===Ember.get(this.args,"event.subtype")&&this.eventIsFromOtherUser}get showMessageSentFailedError(){return Ember.get(this.args,"event.isError")&&Ember.get(this.args,"event.eventContent.attributedBody.text")}constructor(){var e
super(...arguments);(0,t.default)(this,"clientSensor",f,this);(0,t.default)(this,"authenticatedUser",v,this);(0,t.default)(this,"msgDataManager",y,this);(0,t.default)(this,"tracking",_,this)
if(this.args.isOverlay&&null!==(e=this.msgDataManager.receivedRealtimeMessages[Ember.get(this.args,"event.entityUrn")])&&void 0!==e&&e.fireExpectedRenderClientSensor){this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"realtime-message-rendered-in-overlay"})
this.msgDataManager.receivedRealtimeMessages[Ember.get(this.args,"event.entityUrn")].fireExpectedRenderClientSensor=!1}}createImpressionEvent(){var e,t,n
let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(this.isDestroyed||this.isDestroying||Ember.get(this.args,"event.isNew")||Ember.get(this.args,"event.isDestroying")||Ember.get(this.args,"event.isDestroyed")||!Ember.get(this.args,"event.conversation"))return[]
const i=Ember.get(this.args,"event.conversation"),r={objectUrn:Ember.get(i,"backendUrn"),trackingId:(0,l.generateTrackingId)()}
let a=null===(e=Ember.get(i,"participants"))||void 0===e?void 0:e.filter((e=>Ember.get(e,"miniProfile.objectUrn"))).mapBy("miniProfile.objectUrn")
a=null!==(t=a)&&void 0!==t&&t.length?a:null
const o={moduleKey:null!==(n=Ember.get(this.args,"moduleKey"))&&void 0!==n?n:this.tracking.getCurrentPageKey(),displayItem:{trackingObject:{objectUrn:Ember.get(this.args,"event.backendUrn"),trackingId:(0,l.generateTrackingId)()},type:M.MESSAGE_DETAIL,visibleTime:s.visibleTime,duration:s.duration},participantUrns:a,conversation:r}
if(Ember.get(this.args,"event.eventContent.customContent.mediaType")===C){const e=Ember.get(this.args,"event.eventContent.customContent.id")
o.displayItem.thirdPartyMediaTrackingObject={objectUrn:`urn:li:tenor:${e}`,trackingId:(0,l.generateTrackingId)()}}return{name:w,body:o}}fireCustomPageViewEvent(){this.args.messageIndex>0&&this.args.messageIndex%k==0&&this.tracking.firePageViewEvent(T)}resendFailedMessage(e){this.eventIsFromOtherUser||this.isSystemMessage||this.args.resendMessage(e)}},f=(0,s.default)(b.prototype,"clientSensor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(b.prototype,"authenticatedUser",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(b.prototype,"msgDataManager",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(b.prototype,"tracking",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(b.prototype,"createImpressionEvent",[p],Object.getOwnPropertyDescriptor(b.prototype,"createImpressionEvent"),b.prototype),(0,s.default)(b.prototype,"fireCustomPageViewEvent",[g],Object.getOwnPropertyDescriptor(b.prototype,"fireCustomPageViewEvent"),b.prototype),(0,s.default)(b.prototype,"resendFailedMessage",[h],Object.getOwnPropertyDescriptor(b.prototype,"resendFailedMessage"),b.prototype),b)
e.default=x
Ember._setComponentTemplate(E,x)}))
define("msg-ui/components/primitives/event-with-sending-indicator",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"WBtxpyzg",block:'{"symbols":["@messageStatus","@eventInfo","@classNames","&default","@shouldShowMessageSendingIndicator"],"statements":[[10,"div"],[15,0,[31,["msg-s-event-with-indicator display-flex ",[32,3]]]],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-s-event__content"],[12],[2,"\\n    "],[18,4,null],[2,"\\n  "],[13],[2,"\\n"],[6,[37,1],[[32,5]],null,[["default"],[{"statements":[[2,"    "],[10,"span"],[15,0,[31,["msg-s-event-with-indicator__sending-indicator align-self-flex-end\\n        ",[30,[36,1],[[30,[36,0],[[32,1],"sent"],null]," msg-s-event-with-indicator__sending-indicator--sent "],null],"\\n        ",[30,[36,1],[[30,[36,0],[[32,1],"sending"],null]," msg-s-event-with-indicator__sending-indicator--sending "],null],"\\n        "]]],[15,"title",[30,[36,1],[[30,[36,0],[[32,1],"sent"],null],[30,[36,2],["i18n_sent","msg-ui/components/primitives/event-with-sending-indicator"],[["date","time"],[[30,[36,4],[[32,2,["createdAt"]]],[["format","useTimeZone"],["fmt_mdy_short",true]]],[30,[36,3],[[32,2,["createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],[30,[36,2],["i18n_sending","msg-ui/components/primitives/event-with-sending-indicator"],null]],null]],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[32,1],"sent"],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"svg"],[14,"width","100%"],[14,"height","100%"],[14,"viewBox","0 0 16 16"],[14,"fill","none"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[12],[2,"\\n          "],[10,"circle"],[14,"cx","8"],[14,"cy","8"],[14,"r","6.5"],[12],[13],[2,"\\n          "],[10,"path"],[14,"d","M7.40005 12L4.30005 8.9L5.60005 7.6L7.10005 9L9.70005 5H12L7.40005 12Z"],[12],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,0],[[32,1],"sending"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"svg"],[14,"width","100%"],[14,"height","100%"],[14,"viewBox","0 0 16 16"],[14,"fill","none"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[12],[2,"\\n          "],[10,"circle"],[14,"cx","8"],[14,"cy","8"],[14,"r","6.5"],[12],[13],[2,"\\n        "],[13],[2,"\\n      "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["global-helpers@eq","if","t","ember-cli-pemberly-i18n@format-time","ember-cli-pemberly-i18n@format-date"]}',moduleName:"msg-ui/components/primitives/event-with-sending-indicator.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/primitives/inline-warning",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/urn-id-helpers"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m,d,c,u,p,g
const h=Ember.HTMLBars.template({id:"GlmXiMCk",block:'{"symbols":["assetLoader","@redirectToActiveConversation","@handleSuccessfulDiscardRequest","&attrs","@event","@focusOnMsgReportCta"],"statements":[[11,"div"],[24,0,"msg-inline-warning mt1 mr3"],[17,4],[12],[2,"\\n  "],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@type","@isIconHidden","@message"],["yield",true,[32,5,["inlineWarning","text"]]]],null],[2,"\\n  "],[10,"div"],[14,0,"inline-block"],[12],[2,"\\n    "],[8,"artdeco-button@artdeco-button",[[24,"data-control-name","inline_warning_report"],[4,[38,0],null,[["when"],[[32,6]]]]],[["@classNames","@type","@color","@size","@text","@icon","@click"],["mt2 display-flex","secondary","muted",2,[32,5,["reportSpamCTAText"]],"flag-icon",[32,0,["reportConversation"]]]],null],[2,"\\n\\n    "],[8,"artdeco-button@artdeco-button",[[24,"data-control-name","inline_warning_notspam"]],[["@classNames","@type","@color","@size","@text","@icon","@click"],["mv2 display-flex","secondary","muted",2,[32,5,["inlineWarningDismissCTAText"]],"cancel-icon",[32,0,["dismissWarning"]]]],null],[2,"\\n  "],[13],[2,"\\n"],[13],[2,"\\n"],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-shared-modals@conversation-semaphore",[],[["@conversationToReport","@reportOptions","@redirectToActiveConversation","@handleSuccessfulDiscardRequest","@isOpen","@hideSemaphore"],[[32,0,["conversationToReport"]],[32,0,["reportOptions"]],[32,2],[32,3],[32,0,["isReportSemaphoreOpen"]],[32,0,["closeSemaphore"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"hasEval":false,"upvars":["global-modifiers@focus","if"]}',moduleName:"msg-ui/components/primitives/inline-warning.hbs"})
let b=(o=Ember.inject.service("msg-data@data-manager"),l=Ember._tracked,m=Ember._action,d=Ember._action,c=Ember._action,u=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",p,this);(0,t.default)(this,"isReportSemaphoreOpen",g,this)}reportConversation(){const e=Ember.get(this.args.event,"backendUrn")
Ember.setProperties(this,{conversationToReport:Ember.get(this.args.event,"conversation"),reportOptions:{participantToReport:Ember.get(this.args.event,"from"),entityUrn:e,contentSource:"INBOX_REPORT_SPAM"},isReportSemaphoreOpen:!0})}closeSemaphore(){this.isReportSemaphoreOpen=!1}dismissWarning(){const e=Ember.get(this.args.event,"conversation.id"),t=(0,a.extractEventId)(Ember.get(this.args.event,"id"))
this.msgDataManager.dismissInlineWarning(e,t).then((()=>{if(!this.isDestroying){var e,t
null===(e=(t=this.args).afterDismissed)||void 0===e||e.call(t)}}))}},p=(0,s.default)(u.prototype,"msgDataManager",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,s.default)(u.prototype,"isReportSemaphoreOpen",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(u.prototype,"reportConversation",[m],Object.getOwnPropertyDescriptor(u.prototype,"reportConversation"),u.prototype),(0,s.default)(u.prototype,"closeSemaphore",[d],Object.getOwnPropertyDescriptor(u.prototype,"closeSemaphore"),u.prototype),(0,s.default)(u.prototype,"dismissWarning",[c],Object.getOwnPropertyDescriptor(u.prototype,"dismissWarning"),u.prototype),u)
e.default=b
Ember._setComponentTemplate(h,b)}))
define("msg-ui/components/primitives/linkedin-meeting-card",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","global-utils/utils/api-compat","global-utils/utils/is-browser"],(function(e,t,n,s,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,m,d,c,u,p,g,h,b,f
const v=Ember.HTMLBars.template({id:"e+PBKVfY",block:'{"symbols":["@virtualMeetingTimeRange","@participant","@threadId"],"statements":[[11,"a"],[16,6,[32,0,["videoConferencePath"]]],[16,"target",[32,3]],[24,"rel","opener"],[24,0,"link-without-hover-visited msg-linkedin-meeting-card"],[4,[38,6],["click",[32,0,["joinMeeting"]]],null],[4,[38,7],["virtual_meetings_click_card_linkedin"],null],[12],[2,"\\n  "],[10,"div"],[14,0,"artdeco-card display-flex pl3 pr4"],[12],[2,"\\n    "],[10,"div"],[14,0,"display-flex align-items-center pr2"],[12],[2,"\\n      "],[1,[30,[36,8],null,[["type","size","class"],["video-conference","medium","msg-linkedin-meeting-card__icon artdeco-button__icon t-black--light"]]]],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"msg-linkedin-meeting-card__info pl1 pt3 pb3"],[12],[2,"\\n"],[6,[37,5],[[32,0,["isDisabledBrowser"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"p"],[14,0,"t-16 t-bold pb1"],[12],[1,[30,[36,2],["i18n_unavailable_on_firefox_text","msg-ui/components/primitives/linkedin-meeting-card"],null]],[13],[2,"\\n        "],[10,"p"],[14,0,"t-14"],[12],[1,[30,[36,2],["i18n_unavailable_on_firefox_explanation_text","msg-ui/components/primitives/linkedin-meeting-card"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"p"],[14,0,"t-14 t-bold pl2"],[12],[1,[30,[36,2],["i18n_meeting_title","msg-ui/components/primitives/linkedin-meeting-card"],[["member"],[[30,[36,4],[[32,2,["miniProfile"]]],null]]]]],[13],[2,"\\n"],[6,[37,5],[[32,0,["scheduledMeetingDuration"]]],null,[["default"],[{"statements":[[2,"          "],[10,"p"],[14,0,"t-12 pl2 t-black--light"],[12],[1,[30,[36,2],["i18n_scheduled_meeting_time","msg-ui/components/primitives/linkedin-meeting-card"],[["date","time"],[[30,[36,1],[[32,1,["start"]]],[["format","useTimeZone"],["fmt_mdy_short",true]]],[30,[36,0],[[32,1,["start"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[13],[2,"\\n          "],[10,"p"],[14,0,"t-12 pl2 t-black--light"],[12],[1,[30,[36,2],["i18n_scheduled_meeting_duration","msg-ui/components/primitives/linkedin-meeting-card"],[["duration"],[[30,[36,3],[[32,0,["scheduledMeetingDuration"]]],[["format"],["human"]]]]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[10,"p"],[14,0,"t-bold artdeco-button--1 artdeco-button--tertiary"],[12],[2,"\\n          "],[1,[30,[36,2],["i18n_join_meeting","msg-ui/components/primitives/linkedin-meeting-card"],null]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["ember-cli-pemberly-i18n@format-time","ember-cli-pemberly-i18n@format-date","t","global-helpers@format-duration","global-helpers@name","if","on","ember-cli-pemberly-tracking@track-interaction","artdeco-icons-web@li-icon"]}',moduleName:"msg-ui/components/primitives/linkedin-meeting-card.hbs"})
let y=(l=Ember.inject.service("i18n"),m=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),d=Ember.inject.service("router"),c=Ember.inject.service("prefetch"),u=Ember._action,p=class extends r.default{get scheduledMeetingDuration(){const e=Ember.get(this.args,"virtualMeetingTimeRange.start"),t=Ember.get(this.args,"virtualMeetingTimeRange.end")
if(e&&t){const n=t-e
return n>0?Math.round(n/1e3):null}return null}get isDisabledBrowser(){return!o.default||/firefox/i.test(window.navigator.userAgent)}get videoConferencePath(){return this.router.urlFor("msg-video-call.index",this.args.threadId,(0,a.entityUrnToId)(this.args.conferenceUrn))}get shouldPrefetchVideoBundle(){const e=(new Date).getTime(),t=18e5
if(this.isDisabledBrowser)return!1
if(this.scheduledMeetingDuration){const n=Ember.get(this.args,"virtualMeetingTimeRange.start"),s=Ember.get(this.args,"virtualMeetingTimeRange.end")
if(e<n-t||e>s)return!1}else{if(e>this.args.virtualMeetingCreationTime+t)return!1}return!0}constructor(){super(...arguments);(0,t.default)(this,"i18n",g,this);(0,t.default)(this,"persistentToastManager",h,this);(0,t.default)(this,"router",b,this);(0,t.default)(this,"prefetch",f,this)
this.shouldPrefetchVideoBundle&&this.prefetch.prefetchAssets("msg-video-call","d_flagship3_messaging_video_conference").then((()=>{if(!Ember.testing||this.args.testingPrefetchOverride){Ember.getOwner(this).lookup("service:video-call@fetch-client").fetchConferenceClient()}}))}joinMeeting(e){const t=(new Date).getTime(),n=Ember.get(this.args,"virtualMeetingTimeRange.start")
if(n&&n-t>18e5){e.preventDefault()
const t=this.i18n.lookupTranslation("components/msg-ui@primitives/linkedin-meeting-card","i18n_scheduled_meeting_not_started")()
this.persistentToastManager.notice({message:t})}}},g=(0,s.default)(p.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"persistentToastManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(p.prototype,"router",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(p.prototype,"prefetch",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(p.prototype,"joinMeeting",[u],Object.getOwnPropertyDescriptor(p.prototype,"joinMeeting"),p.prototype),p)
e.default=y
Ember._setComponentTemplate(v,y)}))
define("msg-ui/components/primitives/render-chunk",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l
const m=Ember.HTMLBars.template({id:"xP3zE3aa",block:'{"symbols":["chunk","@fireBodyLinkTracking","@event","@decoratedContent"],"statements":[[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,4]],null]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["mention"]]],null,[["default","else"],[{"statements":[[8,"ember-engines@link-to-external",[],[["@route","@model"],[[32,0,["profileRoute"]],[32,1,["id"]]]],[["default"],[{"statements":[[10,"span"],[15,"data-entity-hovercard-id",[32,1,["entityUrn"]]],[12],[1,[32,1,["value"]]],[13]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["allMention"]]],null,[["default","else"],[{"statements":[[10,"strong"],[12],[1,[32,1,["value"]]],[13]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["groupChatLink"]]],null,[["default","else"],[{"statements":[[8,"app-aware-link@app-aware-link",[],[["@href"],[[32,1,["groupChatLink"]]]],[["default"],[{"statements":[[1,[32,1,["value"]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["url"]]],null,[["default","else"],[{"statements":[[8,"app-aware-link@app-aware-link",[[24,"target","_blank"],[24,"rel","noopener"]],[["@href","@invokeAction"],[[32,1,["url"]],[30,[36,1],[[30,[36,2],[[32,3,["subtype"]],"SPONSORED_MESSAGE"],null],[32,2]],null]]],[["default"],[{"statements":[[1,[32,1,["value"]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["email"]]],null,[["default","else"],[{"statements":[[10,"a"],[15,6,[32,1,["email"]]],[12],[1,[32,1,["value"]]],[13]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["hashtag"]]],null,[["default","else"],[{"statements":[[8,"ember-engines@link-to-external",[[24,0,"hashtag-link"]],[["@route","@query"],["feed.hashtag-feed.by-keyword",[30,[36,0],null,[["keywords"],[[32,1,["value"]]]]]]],[["default"],[{"statements":[[1,[32,1,["value"]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[1,[32,1,["value"]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1]}]]]],"hasEval":false,"upvars":["hash","if","global-helpers@eq","-track-array","each"]}',moduleName:"msg-ui/components/primitives/render-chunk.hbs"})
let d=(a=Ember.inject.service("lix"),o=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"lix",l,this)}get profileRoute(){return this.lix.getTreatmentIsEnabled("voyager.web.profile-tetris")?"profile.common.profile":"profile.view"}},l=(0,s.default)(o.prototype,"lix",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=d
Ember._setComponentTemplate(m,d)}))
define("msg-ui/components/primitives/unrolled-virtual-meeting",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"WLbTNgx8",block:'{"symbols":["@class","@virtualMeetingData"],"statements":[[2,"\\n"],[8,"ember-cli-pemberly-tracking@shared/external-link",[[4,[38,1],[[32,2,["controlName"]]],null]],[["@class","@href","@target"],[[30,[36,0],["display-flex ",[32,1]],null],[32,2,["url"]],"_blank"]],[["default"],[{"statements":[[2,"\\n  "],[10,"div"],[15,0,[30,[36,0],["msg-unrolled-virtual-meeting__icon mr4 ",[32,2,["class"]]],null]],[12],[2,"\\n  "],[13],[2,"\\n  "],[10,"div"],[12],[2,"\\n    "],[10,"p"],[14,0,"t-14 t-bold"],[12],[2,"\\n      "],[1,[32,2,["name"]]],[2,"\\n    "],[13],[2,"\\n    "],[10,"p"],[14,0,"t-12"],[12],[2,"\\n      "],[1,[30,[36,2],["i18n_join_meeting","msg-ui/components/primitives/unrolled-virtual-meeting"],null]],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["concat","ember-cli-pemberly-tracking@track-interaction","t"]}',moduleName:"msg-ui/components/primitives/unrolled-virtual-meeting.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/quick-replies",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","ember-batcher","global-utils/utils/is-browser","msg-shared/utils/constants"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,c,u,p,g,h,b,f,v,y,_,E,w,M,C,k
const T=Ember.HTMLBars.template({id:"RXqjwoby",block:'{"symbols":["reply","@conversation","@controlActionEventName","@openVirtualMeetingModal","@trackingPrefix","@handleInMailReplySmartAction","@openGIFPopover","&attrs","@contextWidth"],"statements":[[11,"div"],[16,1,[32,0,["quickRepliesId"]]],[24,0,"conversations-quick-replies justify-center display-flex align-items-center"],[17,8],[4,[38,4],["keyup",[32,0,["onKeyUp"]]],null],[4,[38,5],[[32,0,["onDidUpdate"]],[32,9]],null],[12],[2,"\\n"],[6,[37,3],[[32,0,["hasOverflow"]]],null,[["default"],[{"statements":[[2,"    "],[8,"artdeco-button@artdeco-button",[],[["@class","@circle","@size","@icon","@text","@color","@type","@disabled","@click"],["flex-shrink-zero mr2",true,1,"chevron-left-icon",[30,[36,0],["i18n_scroll_quick_replies_left","msg-ui/components/quick-replies"],null],"muted","tertiary",[32,0,["disableScrollLeft"]],[30,[36,1],[[32,0,["scrollHandler"]],"LEFT"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n  "],[11,"ul"],[16,0,[31,["conversations-quick-replies__container relative list-style-none display-flex justify-flex-start overflow-hidden pv2",[30,[36,3],[[32,0,["animateIn"]]," conversations-quick-replies__container--animate-in"],null]]]],[4,[38,8],null,[["onRender","routeName","currentRoute"],[[32,0,["createQuickReplyImpressionTracking"]],[30,[36,7],[[30,[36,6],["outletState"],null],"render.name"],null],[30,[36,7],[[30,[36,6],["outletState"],null],"render"],null]]]],[12],[2,"\\n"],[6,[37,10],[[30,[36,9],[[30,[36,9],[[32,0,["filteredQuickReplies"]]],null]],null]],null,[["default"],[{"statements":[[2,"      "],[10,"li"],[14,0,"conversations-quick-replies__reply"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,1,["reply","replyType"]],"GIF"],null]],null,[["default","else"],[{"statements":[[2,"          "],[8,"msg-ui@quick-reply",[],[["@replyTo","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[32,2,["latestEvent"]],[32,1],[30,[36,1],[[32,7],[32,1,["reply","quickActionPrefillText"]]],null],[32,5],[30,[36,1],[[32,0,["createSendQuickReplyInteractionPayload"]],[32,1,["reply"]]],null]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["reply","replyType"]],"INMAIL_ACCEPT"],null]],null,[["default","else"],[{"statements":[[2,"          "],[8,"msg-ui@quick-reply",[],[["@replyTo","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[32,2,["latestEvent"]],[32,1],[30,[36,1],[[32,6],[32,1]],null],[32,5],[30,[36,1],[[32,0,["createSendQuickReplyInteractionPayload"]],[32,1,["reply"]]],null]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["reply","replyType"]],"INMAIL_DECLINE"],null]],null,[["default","else"],[{"statements":[[2,"          "],[8,"msg-ui@quick-reply",[],[["@replyTo","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[32,2,["latestEvent"]],[32,1],[30,[36,1],[[32,6],[32,1]],null],[32,5],[30,[36,1],[[32,0,["createSendQuickReplyInteractionPayload"]],[32,1,["reply"]]],null]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["reply","replyType"]],"VIDEO_MEETING"],null]],null,[["default","else"],[{"statements":[[2,"          "],[8,"msg-ui@quick-reply",[],[["@replyTo","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[32,2,["latestEvent"]],[32,1],[32,4],[32,5],[30,[36,1],[[32,0,["createSendQuickReplyInteractionPayload"]],[32,1,["reply"]]],null]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[8,"msg-ui@quick-reply",[],[["@replyTo","@reply","@replyAction","@controlActionEventName","@emojiSkintone","@customInteractionPayload"],[[32,2,["latestEvent"]],[32,1],[30,[36,1],[[32,0,["sendQuickReply"]],[32,1,["reply"]],[32,2]],null],[32,3],[32,0,["emojiSkintoneManager","selectedSkintone"]],[30,[36,1],[[32,0,["createSendQuickReplyInteractionPayload"]],[32,1,["reply"]]],null]]],null],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"  "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["hasOverflow"]]],null,[["default"],[{"statements":[[2,"    "],[8,"artdeco-button@artdeco-button",[],[["@class","@circle","@size","@icon","@text","@color","@type","@disabled","@click"],["flex-shrink-zero ml2",true,1,"chevron-right-icon",[30,[36,0],["i18n_scroll_quick_replies_right","msg-ui/components/quick-replies"],null],"muted","tertiary",[32,0,["disableScrollRight"]],[30,[36,1],[[32,0,["scrollHandler"]],"RIGHT"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["t","fn","global-helpers@eq","if","on","did-update","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-render","-track-array","each"]}',moduleName:"msg-ui/components/quick-replies.hbs"}),{IMPRESSION_KEYS:{CONTEXTUAL_RECOMMENDATION_IMPRESSION:x},ACTION_KEYS:{MEBC_QUICK_REPLY_ACTION:S},KEYCODES:{TAB:P}}=l.default
let O=(m=Ember.inject.service("client-sensor-web@client-sensor"),d=Ember.inject.service("msg-shared@emoji-skintone"),c=Ember._tracked,u=Ember._tracked,p=Ember._tracked,g=Ember._action,h=Ember._action,b=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,_=class extends r.default{constructor(){super(...arguments);(0,n.default)(this,"quickRepliesId",`quick-replies-${Ember.guidFor(this)}`);(0,t.default)(this,"clientSensor",E,this);(0,t.default)(this,"emojiSkintoneManager",w,this);(0,t.default)(this,"disableScrollLeft",M,this);(0,t.default)(this,"disableScrollRight",C,this);(0,t.default)(this,"hasOverflow",k,this)}get filteredQuickReplies(){const e={TEXT:this.args.saveReply,GIF:this.args.openGIFPopover,INMAIL_ACCEPT:this.args.handleInMailReplySmartAction,INMAIL_DECLINE:this.args.handleInMailReplySmartAction,VIDEO_MEETING:this.args.openVirtualMeetingModal},t=this.args.quickReplies.filter((t=>{const n=Ember.get(t,"reply.replyType")
return!n||e[n]}))
this._updateHasOverflow()
return t}get animateIn(){const e=!this.args.eventId||this.args.eventId!==this.lastQRId
this.lastQRId=this.args.eventId
return!e}get scrollingElement(){if(o.default)return document.getElementById(this.quickRepliesId).querySelector(".conversations-quick-replies__container")}_updateHasOverflow(){(0,a.mutateDOM)((()=>{this.isDestroying||Ember.run((()=>{this.hasOverflow=this.scrollingElement.scrollWidth>this.scrollingElement.clientWidth}))}))}onKeyUp(e){o.default&&this.hasOverflow&&e.keyCode===P&&this._updateScrollButtons(this.scrollingElement.scrollLeft)}onDidUpdate(){this._updateHasOverflow()}createQuickReplyImpressionTracking(){return this.args.useCase?this.args.quickReplies.map((e=>{const{reply:t}=e
return{name:x,body:{recommendedEntity:{recommendedEntityUrn:Ember.get(t,"objectUrn"),recommendationTrackingId:Ember.get(t,"trackingId"),usecase:this.args.useCase,visibleTime:0,duration:0,listPosition:{index:0}}}}})):[]}_updateScrollButtons(e){const t=this.scrollingElement.scrollWidth-this.scrollingElement.clientWidth
if(e<=0){this.disableScrollLeft=!0
this.disableScrollRight=!1}else if(e>=t){this.disableScrollLeft=!1
this.disableScrollRight=!0}}createSendQuickReplyInteractionPayload(e,t){let{controlUrn:n}=t
return{name:S,body:{controlUrn:n,recommendationTrackingId:Ember.get(e,"trackingId"),actionCategory:"SELECT",usecase:this.args.useCase}}}sendQuickReply(e,t,n){const s=n.target.querySelector(".conversations-quick-replies__reply-content").innerText
s&&Ember.set(e,"content.text",s)
this.args.saveReply(e,t,this.args.useCase)
this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"smart-reply-action-event"})}scrollHandler(e){(0,a.mutateDOM)((()=>{if(!this.isDestroying){const{clientWidth:t,scrollLeft:n}=this.scrollingElement,s="LEFT"===e?n-t:n+t
"scrollBehavior"in document.documentElement.style?this.scrollingElement.scrollTo({behavior:"smooth",left:s,top:0}):this.scrollingElement.scrollTo(n,0)
this._updateScrollButtons(s)}}))}},E=(0,s.default)(_.prototype,"clientSensor",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(_.prototype,"emojiSkintoneManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,s.default)(_.prototype,"disableScrollLeft",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=(0,s.default)(_.prototype,"disableScrollRight",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=(0,s.default)(_.prototype,"hasOverflow",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(_.prototype,"onKeyUp",[g],Object.getOwnPropertyDescriptor(_.prototype,"onKeyUp"),_.prototype),(0,s.default)(_.prototype,"onDidUpdate",[h],Object.getOwnPropertyDescriptor(_.prototype,"onDidUpdate"),_.prototype),(0,s.default)(_.prototype,"createQuickReplyImpressionTracking",[b],Object.getOwnPropertyDescriptor(_.prototype,"createQuickReplyImpressionTracking"),_.prototype),(0,s.default)(_.prototype,"createSendQuickReplyInteractionPayload",[f],Object.getOwnPropertyDescriptor(_.prototype,"createSendQuickReplyInteractionPayload"),_.prototype),(0,s.default)(_.prototype,"sendQuickReply",[v],Object.getOwnPropertyDescriptor(_.prototype,"sendQuickReply"),_.prototype),(0,s.default)(_.prototype,"scrollHandler",[y],Object.getOwnPropertyDescriptor(_.prototype,"scrollHandler"),_.prototype),_)
e.default=O
Ember._setComponentTemplate(T,O)}))
define("msg-ui/components/quick-reply",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n=Ember.HTMLBars.template({id:"9AZkmp/o",block:'{"symbols":["asset","@reply","@emojiSkintone","@replyAction","@customInteractionPayload"],"statements":[[6,[37,1],[[32,0,["canRender"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["isSmartAction"]]],null,[["default","else"],[{"statements":[[2,"    "],[11,"button"],[24,0,"conversations-quick-replies__reply-button artdeco-button artdeco-button--2 artdeco-button--secondary p0"],[24,4,"button"],[4,[38,2],[[32,0,["controlName"]]],[["onInteract"],[[32,5]]]],[4,[38,4],["click",[32,4]],null],[12],[2,"\\n      "],[1,[30,[36,5],null,[["type","size","class"],[[32,0,["icon"]],"small","conversations-quick-replies__rich-props-icon"]]]],[2,"\\n      "],[10,"hr"],[14,0,"conversations-quick-replies__rich-props-vertical-divider"],[12],[13],[2,"\\n      "],[10,"span"],[14,0,"a11y-text"],[12],[1,[30,[36,3],["i18n_a11y_reply_context","msg-ui/components/quick-reply"],[["contentText"],[[32,2,["text"]]]]]],[13],[2,"\\n      "],[10,"span"],[14,"aria-hidden","true"],[14,0,"ml2 mr3"],[12],[2,"\\n        "],[1,[32,2,["text"]]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"artdeco-button@artdeco-button",[[4,[38,2],[[32,0,["controlName"]]],[["onInteract"],[[32,5]]]]],[["@class","@type","@click"],["conversations-quick-replies__reply-button","secondary",[32,4]]],[["default"],[{"statements":[[2,"\\n      "],[10,"span"],[14,0,"a11y-text"],[12],[1,[30,[36,3],["i18n_a11y_reply_context","msg-ui/components/quick-reply"],[["contentText"],[[32,2,["text"]]]]]],[13],[2,"\\n      "],[10,"span"],[14,0,"conversations-quick-replies__reply-content"],[14,"aria-hidden","true"],[12],[2,"\\n"],[6,[37,1],[[32,3]],null,[["default","else"],[{"statements":[[2,"          "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-reactions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"              "],[1,[30,[36,0],[[32,2,["text"]],[32,3]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"          "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[1,[32,2,["text"]]],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["msg-reactions@emoji-skintone-modifier","if","ember-cli-pemberly-tracking@track-interaction","t","on","artdeco-icons-web@li-icon"]}',moduleName:"msg-ui/components/quick-reply.hbs"}),s={TEXT:{typeName:"text",isSmartAction:!1,controlName:"mebc_quick_reply",icon:void 0},GIF:{typeName:"gif",isSmartAction:!0,controlName:"smart_action_gif",icon:"gif-icon"},INMAIL_ACCEPT:{typeName:"inmail-accept",isSmartAction:!0,controlName:"inmail_yes",icon:"pencil-icon"},INMAIL_DECLINE:{typeName:"inmail-decline",isSmartAction:!0,controlName:"inmail_no",icon:"pencil-icon"},VIDEO_MEETING:{typeName:"video-meeting",isSmartAction:!0,controlName:"create_video_meeting_smart_action",icon:"video-conference"}}
class i extends t.default{constructor(){super(...arguments)
this.replyType=Ember.get(this.args.reply,"reply.replyType")||"TEXT"
this.canRender=this.replyType in s
if(this.canRender){Object.assign(this,s[this.replyType])
if(this.args.controlActionEventName)this.controlName=this.args.controlActionEventName
else{const e=this.args.trackingPrefix||""
let t=""
"INMAIL"===Ember.get(this.args.replyTo,"subtype")&&(t="RECRUITER"===Ember.get(this.args.replyTo,"eventContent.customContent.inmailProductType")?"lts_":"SALES"===Ember.get(this.args.replyTo,"eventContent.customContent.inmailProductType")?"lss_":"premium_")
this.controlName=`${e}${t}${this.controlName}`}}}}e.default=i
Ember._setComponentTemplate(n,i)}))
define("msg-ui/components/realtime-upgrade-notice",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,d,c,u,p,g,h,b,f,v,y,_,E,w,M,C
const k=Ember.HTMLBars.template({id:"DN6CeZr0",block:'{"symbols":[],"statements":[[2,"\\n"],[6,[37,1],[[32,0,["showNotice"]]],null,[["default"],[{"statements":[[2,"  "],[10,"div"],[14,0,"msg-realtime-upgrade-notice p4"],[12],[2,"\\n    "],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@class","@message"],["mr1",[30,[36,1],[[32,0,["isPostRamp"]],[30,[36,0],["i18n_postramp_text","msg-ui/components/realtime-upgrade-notice"],null],[30,[36,0],["i18n_preramp_text","msg-ui/components/realtime-upgrade-notice"],null]],null]]],null],[2,"\\n    "],[10,"div"],[14,0,"msg-realtime-upgrade-notice__action-buttons"],[12],[2,"\\n      "],[11,"button"],[24,0,"t-14 t-bold t-black--light"],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[30,[36,1],[[32,0,["isPostRamp"]],"inmail_read_receipts_post_settings_change_view_settings","inmail_read_receipts_pre_settings_change_view_settings"],null],[32,0,["viewSettings"]]],null]],null],[12],[2,"\\n        "],[1,[30,[36,1],[[32,0,["isPostRamp"]],[30,[36,0],["i18n_view_settings","msg-ui/components/realtime-upgrade-notice"],null],[30,[36,0],["i18n_manage_settings","msg-ui/components/realtime-upgrade-notice"],null]],null]],[2,"\\n      "],[13],[2,"\\n"],[2,"      "],[10,"span"],[14,0,"t-14 t-black--light ph2"],[12],[2,""],[13],[2,"\\n"],[2,"      "],[11,"button"],[24,0,"t-14 t-bold link-without-hover-state"],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[30,[36,1],[[32,0,["isPostRamp"]],"inmail_read_receipts_post_settings_change_got_it","inmail_read_receipts_pre_settings_change_got_it"],null],[32,0,["dismiss"]]],null]],null],[12],[2,"\\n        "],[1,[30,[36,0],["i18n_got_it","msg-ui/components/realtime-upgrade-notice"],null]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["t","if","ember-cli-pemberly-tracking@tracked-action","on"]}',moduleName:"msg-ui/components/realtime-upgrade-notice.hbs"}),T=Object.freeze({pageKey:"message_inbox",slotId:"realtime-upgrade-notice",groupId:"realtime_upgrade_preramp",widgetId:"messaging_realtime_upgrade_preramp"}),x=Object.freeze({pageKey:"message_inbox",slotId:"realtime-upgrade-notice",groupId:"realtime_upgrade_postramp",widgetId:"messaging_realtime_upgrade_postramp"})
let S=(a=Ember.inject.service("lego@resolver"),o=Ember.inject.service("lego@tracking"),l=Ember.inject.service("lix"),m=Ember.inject.service("msg-ui@messaging-user-settings"),d=Ember.inject.service("global-services@window"),c=Ember._tracked,u=Ember._tracked,p=Ember._tracked,g=Ember._action,h=Ember._action,b=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"legoResolver",f,this);(0,t.default)(this,"legoTracking",v,this);(0,t.default)(this,"lix",y,this);(0,t.default)(this,"msgUserSettings",_,this);(0,t.default)(this,"windowService",E,this);(0,t.default)(this,"showNotice",w,this);(0,t.default)(this,"isPostRamp",M,this);(0,t.default)(this,"legoTrackingToken",C,this)
if(this.lix.getTreatmentIsEnabled("voyager.web.messaging-post-settings-change-read-receipts-toast")){this.isPostRamp=!0
this._initialize(x)}else this._initialize(T)}_initialize(e){Ember.RSVP.hash({legoWidget:this.legoResolver.fireLegoCall(e),readReceiptsAndTypingIndicatorsEnabled:this.msgUserSettings.getReadReceiptsAndTypingIndicatorsEnabled()}).then((e=>{let{legoWidget:t,readReceiptsAndTypingIndicatorsEnabled:n}=e
if(!this.isDestroying&&t&&n){this.showNotice=!0
this.legoTrackingToken=Ember.get(t,"trackingToken")}}))}viewSettings(){this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_SECONDARY,1)
this.showNotice=!1
this.windowService.open("/psettings/seen-receipts","_blank")}dismiss(){this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY,1)
this.showNotice=!1}},f=(0,s.default)(b.prototype,"legoResolver",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(b.prototype,"legoTracking",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(b.prototype,"lix",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(b.prototype,"msgUserSettings",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(b.prototype,"windowService",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(b.prototype,"showNotice",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,s.default)(b.prototype,"isPostRamp",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=(0,s.default)(b.prototype,"legoTrackingToken",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,s.default)(b.prototype,"viewSettings",[g],Object.getOwnPropertyDescriptor(b.prototype,"viewSettings"),b.prototype),(0,s.default)(b.prototype,"dismiss",[h],Object.getOwnPropertyDescriptor(b.prototype,"dismiss"),b.prototype),b)
e.default=S
Ember._setComponentTemplate(k,S)}))
define("msg-ui/components/rich-media/attachment-display",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-shared/utils/file-meta","@glimmer/component","global-utils/utils/file-size-formatter","global-utils/utils/is-browser"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,c,u,p,g,h,b,f,v,y
const _=Ember.HTMLBars.template({id:"PUoaczVz",block:'{"symbols":["modal","@attachment","@enableMsgFwd","@deleteMessageEventModalState","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showSendReactionControls","@reactionsHoverTrackingName"],"statements":[[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@attachment","@enableMsgFwd","@deleteMessageEventModalState","@event","@filename","@isImage","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@setMessageFocus","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],[[31,["\\n    msg-s-event-listitem__attachment-item\\n    ",[30,[36,6],[[32,0,["downloaded"]],"msg-s-event-listitem__attachment-item--downloaded"],null],"\\n    ",[30,[36,6],[[32,0,["messageFocused"]],"msg-s-event-listitem__message-bubble--is-focused"],null],"\\n  "]],[32,2],[32,3],[32,4],[32,5],[32,0,["filename"]],[32,0,["isImage"]],[32,6],[32,7],[32,8],[32,9],[30,[36,4],[[32,0],"messageFocused"],null],[32,10],false,[32,11],[32,12]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,6],[[32,0,["isImage"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"msg-s-event-listitem__image-container"],[12],[2,"\\n      "],[11,"button"],[24,0,"full-height full-width"],[24,4,"button"],[4,[38,0],["click",[30,[36,4],[[32,0],"previewModalIsOpen",true],null]],null],[4,[38,1],["photo_viewer"],null],[12],[2,"\\n        "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n          "],[1,[30,[36,2],["i18n_file_preview","msg-ui/components/rich-media/attachment-display"],[["filename"],[[32,0,["filename"]]]]]],[2,"\\n        "],[13],[2,"\\n"],[2,"        "],[8,"ember-vector-images@custom-image",[],[["@image","@class","@alt","@ghostType","@desiredWidth"],[[30,[36,5],[[32,0,["downloadUrl"]]],null],"msg-s-event-listitem__image block",[32,0,["filename"]],"image",1000]],null],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[11,"a"],[16,6,[32,0,["downloadUrl"]]],[24,0,"msg-s-event-listitem__download-attachment t-14 t-black--light t-normal"],[16,"download",[32,0,["filename"]]],[24,"target","_blank"],[24,"rel","noopener noreferrer"],[4,[38,0],["click",[32,0,["downloadAttachment"]]],null],[4,[38,1],["view_attachment"],null],[12],[2,"\\n      "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n        "],[1,[30,[36,2],["i18n_download","msg-ui/components/rich-media/attachment-display"],[["filename"],[[32,0,["filename"]]]]]],[2,"\\n      "],[13],[2,"\\n      "],[10,"div"],[15,0,[31,["msg-s-event-listitem__attachment-type ui-attachment ui-attachment--",[32,0,["mediaTypeExtension"]],"\\n          display-flex m0"]]],[12],[2,"\\n        "],[10,"div"],[14,0,"flex-grow-1 truncate"],[12],[2,"\\n          "],[10,"h3"],[14,0,"ui-attachment__filename"],[12],[2,"\\n            "],[1,[32,0,["filename"]]],[2,"\\n          "],[13],[2,"\\n          "],[10,"p"],[14,0,"ui-attachment__filesize flex-shrink-zero"],[12],[2,"\\n            "],[1,[32,0,["formattedSize"]]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"display-flex align-items-center justify-center flex-shrink-zero"],[12],[2,"\\n"],[2,"          "],[10,"button"],[14,0,"ui-attachment__download-button display-flex align-items-center justify-center"],[14,4,"button"],[12],[2,"\\n            "],[1,[30,[36,3],null,[["type","size","a11y-text"],["download-icon","small",[30,[36,2],["i18n_download_attachment","msg-ui/components/rich-media/attachment-display"],null]]]]],[2,"\\n            "],[10,"p"],[14,0,"t-14 t-black--light t-bold"],[12],[2,"\\n              "],[1,[30,[36,2],["i18n_download_attachment","msg-ui/components/rich-media/attachment-display"],null]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n  "],[8,"artdeco-modal@artdeco-modal",[],[["@dismissModal","@isOpen","@modalClasses","@overlayClasses"],[[32,0,["dismissModal"]],[32,0,["previewModalIsOpen"]],"msg-modal-preview","display-flex flex-column justify-center"]],[["default"],[{"statements":[[2,"\\n    "],[8,[32,1,["artdeco-modal-header"]],[],[["@classNames"],["visually-hidden"]],[["default"],[{"statements":[[2,"\\n      "],[10,"h3"],[14,1,"msg-modal-preview__label"],[14,0,"t-18 t-white--light t-bold"],[12],[2,"\\n        "],[1,[32,2,["displayName"]]],[2,"\\n      "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,[32,1,["artdeco-modal-content"]],[],[["@classNames"],["msg-modal-preview__content"]],[["default"],[{"statements":[[2,"\\n      "],[8,"ember-vector-images@custom-image",[],[["@alt","@classNames","@ghostType","@image","@desiredWidth"],[[30,[36,2],["i18n_img_alt","msg-ui/components/rich-media/attachment-display"],[["filename"],[[32,0,["filename"]]]]],"msg-modal-preview__image","image",[32,0,["downloadUrl"]],10000]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n  "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","ember-cli-pemberly-tracking@track-interaction","t","artdeco-icons-web@li-icon","ember-set-helper@set","unbound","if"]}',moduleName:"msg-ui/components/rich-media/attachment-display.hbs"})
let E=(m=Ember.inject.service("i18n"),d=Ember.inject.service("tracking"),c=Ember._tracked,u=Ember._tracked,p=Ember._action,g=Ember._action,h=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",b,this);(0,t.default)(this,"tracking",f,this);(0,t.default)(this,"previewModalIsOpen",v,this);(0,t.default)(this,"downloaded",y,this)}get downloadUrl(){return Ember.get(this.args,"attachment.reference")}get attachmentId(){return Ember.get(this.args,"attachment.id")}get isImage(){const e=Ember.get(this.args,"attachment.mediaType"),t=Ember.get(this.args,"attachment.name")
return(0,r.isSupportedImageFile)(e,t)}get filename(){return jSecure.htmlUnencode(Ember.get(this.args,"attachment.name"))}get mediaTypeExtension(){return(0,r.mediaTypeExtension)(Ember.get(this.args,"attachment.mediaType"))}get formattedSize(){return(0,o.default)(Ember.get(this.args,"attachment.byteSize"),this.i18n)}downloadAttachment(e){e.preventDefault()
if(!Ember.testing&&l.default){const e=document.createElement("a")
e.setAttribute("href",this.downloadUrl)
e.setAttribute("download",this.filename)
e.setAttribute("rel","noopener noreferrer")
e.style.display="none"
"pdf"===this.mediaTypeExtension&&e.setAttribute("target","_blank")
document.body.appendChild(e)
e.click()
document.body.removeChild(e)}this.downloaded=!0}dismissModal(){this.previewModalIsOpen=!1
this.tracking.fireInteractionEvent("close_photo_viewer")}},b=(0,s.default)(h.prototype,"i18n",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(h.prototype,"tracking",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(h.prototype,"previewModalIsOpen",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(h.prototype,"downloaded",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(h.prototype,"downloadAttachment",[p],Object.getOwnPropertyDescriptor(h.prototype,"downloadAttachment"),h.prototype),(0,s.default)(h.prototype,"dismissModal",[g],Object.getOwnPropertyDescriptor(h.prototype,"dismissModal"),h.prototype),h)
e.default=E
Ember._setComponentTemplate(_,E)}))
define("msg-ui/components/rich-media/attachment-drag-and-drop-error-display",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"Ybaac/JV",block:'{"symbols":["@errorType","@dismissError"],"statements":[[10,"div"],[14,0,"msg-form__attachment-drag-and-drop-error-display pv2 ph4 display-flex"],[12],[2,"\\n  "],[10,"p"],[14,0,"msg-form__attachment-drag-and-drop-error-text flex-1 t-12 t-bold"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,1],"MULTIPLE_FILES"],null]],null,[["default","else"],[{"statements":[[2,"      "],[1,[30,[36,0],["i18n_error_multiple_files","msg-ui/components/rich-media/attachment-drag-and-drop-error-display"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"      "],[1,[30,[36,0],["i18n_error_invalid_file_type","msg-ui/components/rich-media/attachment-drag-and-drop-error-display"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n\\n  "],[11,"button"],[24,0,"msg-form__attachment-drag-and-drop-error-dismiss-button"],[24,4,"button"],[4,[38,3],["click",[32,2]],null],[12],[2,"\\n    "],[1,[30,[36,4],null,[["type","a11y-text","size"],["cancel-icon",[30,[36,0],["i18n_dismiss_error","msg-ui/components/rich-media/attachment-drag-and-drop-error-display"],null],"small"]]]],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","global-helpers@eq","if","on","artdeco-icons-web@li-icon"]}',moduleName:"msg-ui/components/rich-media/attachment-drag-and-drop-error-display.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/rich-media/attachment-drag-and-drop",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","ember-lifeline","msg-shared/utils/attachments-handler"],(function(e,t,n,s,i,r,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,m,d,c,u,p,g,h,b,f,v,y,_,E,w,M
const C=Ember.HTMLBars.template({id:"1brE3Y9S",block:'{"symbols":[],"statements":[[11,"div"],[16,0,[30,[36,1],["msg-form__attachment-drag-and-drop",[30,[36,0],[[32,0,["isDraggingOverWindow"]]," msg-form__attachment-drag-and-drop--over-window"],null],[30,[36,0],[[32,0,["isDraggingOverLayer"]]," msg-form__attachment-drag-and-drop--over-layer"],null],[30,[36,0],[[32,0,["showUserEducationLayer"]]," msg-form__attachment-drag-and-drop--user-education"],null]],null]],[4,[38,2],[[32,0,["setupWindowDragAndDropListeners"]]],null],[4,[38,3],["dragenter",[32,0,["onDragEnter"]]],null],[4,[38,3],["dragleave",[32,0,["onDragLeave"]]],null],[4,[38,3],["dragover",[32,0,["onDragOver"]]],null],[4,[38,3],["drop",[32,0,["onDrop"]]],null],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-form__attachment-drag-and-drop-content display-flex flex-column align-items-center justify-center"],[12],[2,"\\n    "],[10,"div"],[14,0,"msg-form__attachment-drag-and-drop-state-illustration"],[12],[13],[2,"\\n    "],[10,"div"],[14,0,"msg-form__attachment-drag-and-drop-text display-flex flex-column align-items-center justify-center"],[12],[2,"\\n      "],[10,"div"],[14,0,"msg-form__attachment-drag-and-drop-state-text t-16 t-bold"],[12],[2,"\\n        "],[1,[30,[36,0],[[32,0,["isDraggingOverLayer"]],[30,[36,4],["i18n_drop_file","msg-ui/components/rich-media/attachment-drag-and-drop"],null],[30,[36,4],["i18n_drag_file","msg-ui/components/rich-media/attachment-drag-and-drop"],null]],null]],[2,"\\n      "],[13],[2,"\\n      "],[10,"div"],[14,0,"msg-form__attachment-drag-and-drop-discoverability-text text-align-center"],[12],[2,"\\n        "],[10,"div"],[14,0,"t-16 t-bold"],[12],[2,"\\n          "],[1,[30,[36,4],["i18n_select_file","msg-ui/components/rich-media/attachment-drag-and-drop"],null]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"t-14"],[12],[2,"\\n          "],[1,[30,[36,4],["i18n_or_drag_and_drop","msg-ui/components/rich-media/attachment-drag-and-drop"],null]],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","concat","did-insert","on","t"]}',moduleName:"msg-ui/components/rich-media/attachment-drag-and-drop.hbs"}),k="MULTIPLE_FILES",T="INVALID_FILE_TYPE",x=/^image\/*/,S=["ai","psd","pdf","doc","docx","csv","zip","rar","ppt","pptx","pps","ppsx","odt","rtf","xls","xlsx","txt","pub","html","7z","eml"]
let P=(l=Ember.inject.service("jet"),m=Ember.inject.service("tracking"),d=Ember.inject.service("vector@vector-upload"),c=Ember._tracked,u=Ember._tracked,p=Ember._action,g=Ember._action,h=Ember._action,b=Ember._action,f=Ember._action,v=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"jet",y,this);(0,t.default)(this,"tracking",_,this);(0,t.default)(this,"vectorUpload",E,this);(0,t.default)(this,"isDraggingOverWindow",w,this);(0,t.default)(this,"isDraggingOverLayer",M,this)
this.windowDragCounter=0
this.layerDragCounter=0
this.attachmentsHandler=new o.default({vectorUpload:this.vectorUpload,tracking:this.tracking,jet:this.jet,updateUI:this.args.addAttachment,beforeUpload:this.args.beforeUpload,afterUpload:this.afterDropUpload.bind(this)})}willDestroy(){super.willDestroy(...arguments);(0,a.runDisposables)(this)}setupWindowDragAndDropListeners(){(0,a.addEventListener)(this,window,"dragenter",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.windowDragCounter+=1
if(1===this.windowDragCounter){Ember.set(this,"isDraggingOverWindow",!0)
this.tracking.firePageViewEvent(this.args.trackingKeys.PAGE_VIEW.DRAG)}}}));(0,a.addEventListener)(this,window,"dragleave",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){e.preventDefault()
this.windowDragCounter-=1
0===this.windowDragCounter&&Ember.set(this,"isDraggingOverWindow",!1)}}));(0,a.addEventListener)(this,window,"drop",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.windowDragCounter=0
Ember.setProperties(this,{isDraggingOverWindow:!1,showUserEducationLayer:!1})}}))}onDragEnter(e){if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.layerDragCounter+=1
if(1===this.layerDragCounter){this.isDraggingOverLayer=!0
this.tracking.firePageViewEvent(this.args.trackingKeys.PAGE_VIEW.DROP)}}}onDragLeave(e){if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){e.preventDefault()
this.layerDragCounter-=1
0===this.layerDragCounter&&(this.isDraggingOverLayer=!1)}}onDrop(e){if(this.isDestroying&&!this._isFileDragAndDropEvent(e))return
e.preventDefault()
this.layerDragCounter=0
this.isDraggingOverLayer=!1
const{files:t}=e.dataTransfer
if(0===t.length)return
if(t.length>1){this.args.onError(k)
return}const n=t[0]
if(this._isAcceptedFileType(n)){this.tracking.fireInteractionEvent(this.args.trackingKeys.INTERACTION.DROPPED)
this.attachmentsHandler.uploadAttachment(n)}else this.args.onError(T)}onDragOver(e){e.preventDefault()}_isFileDragAndDropEvent(e){return-1!==Array.prototype.indexOf.call(e.dataTransfer.types,"Files")}_isAcceptedFileType(e){if(!e.type)return!1
if(x.test(e.type))return!0
const t=this._getFileExtension(e.name)
return-1!==S.indexOf(t)}_getFileExtension(e){return e.includes(".")?e.split(".").pop().toLowerCase():""}afterDropUpload(){this.tracking.fireInteractionEvent(this.args.trackingKeys.INTERACTION.UPLOADED)
this.args.afterUpload()}},y=(0,s.default)(v.prototype,"jet",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(v.prototype,"tracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,s.default)(v.prototype,"vectorUpload",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,s.default)(v.prototype,"isDraggingOverWindow",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=(0,s.default)(v.prototype,"isDraggingOverLayer",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(v.prototype,"setupWindowDragAndDropListeners",[p],Object.getOwnPropertyDescriptor(v.prototype,"setupWindowDragAndDropListeners"),v.prototype),(0,s.default)(v.prototype,"onDragEnter",[g],Object.getOwnPropertyDescriptor(v.prototype,"onDragEnter"),v.prototype),(0,s.default)(v.prototype,"onDragLeave",[h],Object.getOwnPropertyDescriptor(v.prototype,"onDragLeave"),v.prototype),(0,s.default)(v.prototype,"onDrop",[b],Object.getOwnPropertyDescriptor(v.prototype,"onDrop"),v.prototype),(0,s.default)(v.prototype,"onDragOver",[f],Object.getOwnPropertyDescriptor(v.prototype,"onDragOver"),v.prototype),v)
e.default=P
Ember._setComponentTemplate(C,P)}))
define("msg-ui/components/rich-media/audio-display",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","global-utils/utils/is-browser"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m,d,c,u
const p=Ember.HTMLBars.template({id:"RJVgJxXG",block:'{"symbols":[],"statements":[[11,"button"],[24,0,"msg-s-event-listitem__audio"],[16,5,[31,["width: calc(75px + ",[34,2]," * (100% - 75px));"]]],[24,4,"button"],[4,[38,3],["click",[32,0,["onClick"]]],null],[12],[2,"\\n  "],[10,"progress"],[14,0,"msg-s-event-listitem__audio-progress-bar"],[15,2,[32,0,["currentTime"]]],[15,"max",[32,0,["duration"]]],[12],[2,"\\n  "],[13],[2,"\\n\\n  "],[10,"div"],[14,0,"msg-s-event-listitem__audio-icon-container relative"],[12],[2,"\\n"],[6,[37,4],[[32,0,["isPlaying"]]],null,[["default","else"],[{"statements":[[2,"      "],[1,[30,[36,1],null,[["class","type","size","a11y-text"],["mh2","pause-icon","small",[30,[36,0],["i18n_pause","msg-ui/components/rich-media/audio-display"],null]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"      "],[1,[30,[36,1],null,[["class","type","size","a11y-text"],["mh2","play-icon","small",[30,[36,0],["i18n_play","msg-ui/components/rich-media/audio-display"],null]]]]],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n\\n  "],[10,"span"],[14,0,"msg-s-event-listitem__audio-time t-12 t-white t-normal"],[12],[2,"\\n    "],[1,[30,[36,5],[[32,0,["roundedRemainingTime"]]],[["customPrefixFormat"],[[32,0,["customPrefixFormat"]]]]]],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","artdeco-icons-web@li-icon","widthRatio","on","if","global-helpers@format-duration"]}',moduleName:"msg-ui/components/rich-media/audio-display.hbs"})
let g=(o=Ember.inject.service("tracking"),l=Ember._tracked,m=Ember._action,d=class extends r.default{get customPrefixFormat(){return{prefixInsignificants:!1,prefixSeconds:!0}}get duration(){return Ember.get(this.args,"mediaAttachment.audioMetadata.duration")/1e3}get roundedRemainingTime(){return Math.round(this.duration-this.currentTime)}get widthRatio(){return Math.max(0,Math.min(this.duration/60,1))}constructor(){super(...arguments);(0,t.default)(this,"tracking",c,this);(0,t.default)(this,"currentTime",u,this);(0,n.default)(this,"isPlaying",!1);(0,n.default)(this,"trackingPrefix","")
Ember.set(this,"audio",new Audio)
const e=document.createElement("source")
e.src=jSecure.sanitizeUrl(Ember.get(this.args,"mediaAttachment.audioMetadata.url"))
e.type="audio/mp4"
this.audio.appendChild(e)
this.audio.addEventListener("playing",this._handlePlaybackStarted.bind(this))
this.audio.addEventListener("ended",this._handlePlaybackEnded.bind(this))}onClick(){this.isPlaying?this._pauseAudio():this._playAudio()}_handlePlaybackStarted(){this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}play_successful_voice_message`)
this._updateProgress()}_updateProgress(){Ember.testing?Ember.set(this,"currentTime",this.audio.currentTime):a.default&&window.requestAnimationFrame((()=>{if(this.isPlaying){Ember.set(this,"currentTime",this.audio.currentTime)
this._updateProgress()}}))}_handlePlaybackEnded(){Ember.setProperties(this,{isPlaying:!1,currentTime:0})}_playAudio(){Ember.set(this,"isPlaying",!0)
this.audio.play()
this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}play_voice_message`)}_pauseAudio(){Ember.set(this,"isPlaying",!1)
this.audio.pause()
this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}pause_voice_message`)}},c=(0,s.default)(d.prototype,"tracking",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,s.default)(d.prototype,"currentTime",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,s.default)(d.prototype,"onClick",[m],Object.getOwnPropertyDescriptor(d.prototype,"onClick"),d.prototype),d)
e.default=g
Ember._setComponentTemplate(p,g)}))
define("msg-ui/components/rich-media/content-preview",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"gqzKf4xB",block:'{"symbols":["@deleteMessageEventModalState","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus","&attrs","@feedUpdate","@showNestedShares"],"statements":[[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[32,1],false,[32,2],[32,3],[32,4],[32,5],[32,6],false,false,[32,7],[32,8]]],[["default"],[{"statements":[[2,"\\n  "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,0],null,[["createdAt"],[[32,2,["createdAt"]]]]],[32,9],[32,10]]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[14,0,"msg-s-event-listitem__content-preview-container"],[12],[2,"\\n      "],[11,"div"],[24,0,"msg-content-preview artdeco-card"],[17,11],[12],[2,"\\n        "],[8,"ember-engines@link-to-external",[],[["@route","@model","@class"],["feed.update",[32,12,["updateMetadata","urn"]],"msg-content-preview__link feed-container-theme"]],[["default"],[{"statements":[[2,"\\n          "],[8,"feed-shared@render-models/mini-update-v2",[],[["@showFollowButton","@update","@showNestedShares"],[false,[32,12],[32,13]]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash"]}',moduleName:"msg-ui/components/rich-media/content-preview.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-ui/components/rich-media/messaging-story",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","image-view-model/utils/artdeco-icon"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m,d,c,u,p,g,h,b,f,v,y,_
const E=Ember.HTMLBars.template({id:"aOo79Pv4",block:'{"symbols":["@trackingPrefix","@event","@deleteMessageEventModalState","@enableMsgFwd","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],"statements":[[8,"msg-ui@primitives/event-listitem-actions",[],[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@setMessageFocus","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[32,3],[32,4],[32,2],[32,5],[32,6],[32,7],[32,8],[30,[36,5],[[32,0],"messageFocused"],null],[32,9],[32,10],[32,11],[32,12]]],[["default"],[{"statements":[[2,"\\n  "],[8,"msg-ui@primitives/event-with-sending-indicator",[],[["@eventInfo","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,[36,6],null,[["createdAt"],[[32,2,["createdAt"]]]]],[32,13],[32,14]]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[14,0,"msg-story-item"],[12],[2,"\\n"],[6,[37,0],[[32,2,["eventContent","contentCaption"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"t-14 t-black--light pl2 pb2"],[12],[2,"\\n          "],[1,[30,[36,4],[[32,2,["eventContent","contentCaption"]]],null]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[10,"div"],[14,0,"pl2 display-flex"],[12],[2,"\\n"],[6,[37,0],[[32,0,["showThumbnailContainer"]]],null,[["default"],[{"statements":[[2,"          "],[10,"div"],[14,"role","link"],[14,"tabindex","0"],[15,"aria-label",[30,[36,0],[[32,0,["messagingStory","url"]],[30,[36,3],["a11y_click_to_view_story","msg-ui/components/rich-media/messaging-story"],null],[30,[36,3],["a11y_cant_view_expired_story","msg-ui/components/rich-media/messaging-story"],null]],null]],[15,0,[30,[36,0],[[32,0,["showExpiredState"]],"msg-story-item__thumbnail--expired","msg-story-item__thumbnail"],null]],[12],[2,"\\n"],[6,[37,0],[[32,0,["messagingStoryLoading"]]],null,[["default","else"],[{"statements":[[2,"              "],[8,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["messagingStoryFailedToLoad"]]],null,[["default","else"],[{"statements":[[2,"              "],[8,"artdeco-button@artdeco-button",[[16,"data-control-name",[30,[36,1],[[32,1],"reload_story_thumbnail"],null]],[16,"aria-label",[30,[36,3],["a11y_retry_loading_story","msg-ui/components/rich-media/messaging-story"],null]]],[["@type","@icon","@circle","@size","@color","@click"],["tertiary","refresh-icon",true,2,"muted",[32,0,["fetchMessagingStory"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["showExpiredState"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"msg-story-item__expired-thumbnail-icon-container"],[12],[2,"\\n                  "],[1,[30,[36,2],null,[["class","type","size"],["msg-story-item__expired-thumbnail-icon",[32,0,["expiredThumbnailIcon","name"]],"medium"]]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["messagingStory","url"]]],null,[["default"],[{"statements":[[2,"                "],[8,"app-aware-link@app-aware-link",[[24,0,"msg-story-item__link"],[16,"data-control-name",[30,[36,1],[[32,1],"expand_story_thumbnail"],null]],[24,"tabindex","-1"]],[["@href"],[[32,0,["messagingStory","url"]]]],null],[2,"\\n              "]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,0],[[32,0,["messagingStory","thumbnail"]]],null,[["default"],[{"statements":[[2,"                "],[8,"ember-vector-images@custom-image",[],[["@class","@ghostType","@image","@desiredWidth"],["msg-story-item__thumbnail-image","image",[32,0,["messagingStory","thumbnail"]],72]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["showExpiredState"]]],null,[["default"],[{"statements":[[2,"          "],[10,"div"],[15,0,[30,[36,1],["t-12 t-black--light display-flex justify-center",[30,[36,0],[[32,0,["showThumbnailContainer"]]," flex-column"],null]],null]],[12],[2,"\\n            "],[1,[30,[36,2],null,[["a11y-text","class","type","size"],[[32,0,["messagingStory","expiredText","text"]],"mr1 mb2 align-self-flex-start",[32,0,["expiredTextIcon","name"]],"small"]]]],[2,"\\n            "],[1,[32,0,["messagingStory","expiredText","text"]]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n    "],[13],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["if","concat","artdeco-icons-web@li-icon","t","text-view-model@text-view-model","ember-set-helper@set","hash"]}',moduleName:"msg-ui/components/rich-media/messaging-story.hbs"})
let w=(o=Ember.inject.service("msg-data@data-manager"),l=Ember._tracked,m=Ember._tracked,d=Ember._tracked,c=Ember._tracked,u=Ember._tracked,p=Ember._action,g=class extends r.default{get showThumbnailContainer(){return Ember.get(this,"messagingStory.thumbnail")||this.messagingStoryLoading||this.messagingStoryFailedToLoad}get showExpiredState(){return this.messagingStory&&!Ember.get(this,"messagingStory.url")&&!this.messagingStoryFailedToLoad&&!this.messagingStoryLoading}constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",h,this);(0,t.default)(this,"messagingStory",b,this);(0,t.default)(this,"messagingStoryLoading",f,this);(0,t.default)(this,"messagingStoryFailedToLoad",v,this);(0,t.default)(this,"expiredTextIcon",y,this);(0,t.default)(this,"expiredThumbnailIcon",_,this)
Ember.get(this.args,"event.eventContent.storyItemUrn")&&this.fetchMessagingStory()}fetchMessagingStory(){this.messagingStoryLoading=!0
this.msgDataManager.fetchMessagingStory(this.args.event).then((e=>{if(!this.isDestroying){this.expiredThumbnailIcon=(0,a.getLIIcon)(Ember.get(e,"expiredThumbnailIcon"))
this.expiredTextIcon=(0,a.getLIIcon)(Ember.get(e,"expiredTextIcon"))
this.messagingStoryFailedToLoad=!1
this.messagingStoryLoading=!1
this.messagingStory=e}})).catch((e=>{if(!this.isDestroying){this.messagingStoryLoading=!1
this.messagingStoryFailedToLoad=!0
throw e}}))}},h=(0,s.default)(g.prototype,"msgDataManager",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(g.prototype,"messagingStory",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(g.prototype,"messagingStoryLoading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(g.prototype,"messagingStoryFailedToLoad",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,s.default)(g.prototype,"expiredTextIcon",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,s.default)(g.prototype,"expiredThumbnailIcon",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(g.prototype,"fetchMessagingStory",[p],Object.getOwnPropertyDescriptor(g.prototype,"fetchMessagingStory"),g.prototype),g)
e.default=w
Ember._setComponentTemplate(E,w)}))
define("msg-ui/components/rich-media/upload-attachment-previews",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@glimmer/component","ember-batcher"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i,r
const a=Ember.HTMLBars.template({id:"FgxzeU5z",block:'{"symbols":["attachment","@hideAttachmentInfo","@removeAttachment","@attachments"],"statements":[[11,"div"],[24,0,"msg-form__attachment-previews overflow-auto scrollable"],[4,[38,8],[[30,[36,7],[[32,0],"scrollingContainer"],null]],null],[4,[38,9],[[32,0,["scrollToBottom"]],[32,4]],null],[12],[2,"\\n"],[6,[37,11],[[30,[36,10],[[30,[36,10],[[32,4]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[10,"figure"],[15,0,[31,["msg-form__attachment-preview msg-attachment-preview pv2 pl3 pr4\\n        ",[30,[36,5],[[32,1,["isError"]],"msg-attachment-preview--error",[30,[36,5],[[32,1,["isUploading"]],"msg-attachment-preview--uploading"],null]],null]]]],[12],[2,"\\n"],[6,[37,5],[[32,1,["isError"]]],null,[["default","else"],[{"statements":[[2,"        "],[1,[30,[36,4],null,[["class","type","size"],["msg-attachment-preview__thumbnail-error EntityPhoto-square-2","error-pebble-icon","medium"]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[32,1,["isImage"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"msg-attachment-preview__image-container"],[12],[2,"\\n          "],[8,"ember-vector-images@custom-image",[],[["@image","@class","@alt","@desiredWidth"],[[32,1,["reference"]],"msg-attachment-preview__image EntityPhoto-square-2",[30,[36,3],["a11y_preview_image","msg-ui/components/rich-media/upload-attachment-previews"],[["attachmentName"],[[32,1,["name"]]]]],40]],null],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[15,0,[31,["t-12 t-white t-bold msg-attachment-preview__attachment-type ui-attachment ui-attachment--",[32,1,["mediaTypeExtension"]]]]],[12],[2,"\\n          "],[1,[32,1,["mediaTypeExtension"]]],[2,"\\n        "],[13],[2,"\\n      "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n      "],[10,"figcaption"],[14,0,"flex-1 overflow-hidden ph2"],[12],[2,"\\n"],[6,[37,6],[[32,2]],null,[["default"],[{"statements":[[2,"          "],[10,"div"],[14,0,"display-flex t-12 t-black--light t-normal"],[12],[2,"\\n            "],[10,"h3"],[14,0,"msg-attachment-preview__attachment-name t-12 t-black--light t-bold truncate"],[12],[2,"\\n              "],[1,[32,1,["name"]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"span"],[14,0,"msg-attachment-preview__bytesize flex-shrink-zero"],[12],[2,"\\n              "],[1,[32,1,["formattedSize"]]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"          "],[10,"p"],[14,0,"msg-attachment-preview__status msg-attachment-preview__status--uploading t-12 t-black t-bold"],[12],[2,"\\n            "],[1,[30,[36,3],["attachment_status_uploading","msg-ui/components/rich-media/upload-attachment-previews"],null]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,5],[[32,1,["isError"]]],null,[["default","else"],[{"statements":[[2,"          "],[10,"p"],[14,0,"msg-attachment-preview__status msg-attachment-preview__status--error t-12 t-black t-bold"],[12],[2,"\\n"],[6,[37,5],[[32,1,["customError"]]],null,[["default","else"],[{"statements":[[2,"              "],[1,[32,1,["customError"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"              "],[1,[30,[36,5],[[32,1,["isTypeError"]],[30,[36,3],["attachment_unsupported_type","msg-ui/components/rich-media/upload-attachment-previews"],null],[30,[36,5],[[32,1,["isSizeError"]],[30,[36,3],["attachment_unsupported_size","msg-ui/components/rich-media/upload-attachment-previews"],null],[30,[36,3],["attachment_status_error","msg-ui/components/rich-media/upload-attachment-previews"],null]],null]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[10,"p"],[14,0,"msg-attachment-preview__status t-12 t-black--light t-normal"],[12],[2,"\\n            "],[1,[30,[36,3],["attachment_status_attached","msg-ui/components/rich-media/upload-attachment-previews"],null]],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,5],[[32,1,["isUploading"]]],null,[["default"],[{"statements":[[2,"          "],[10,"progress"],[14,0,"msg-attachment-preview__upload-progress mt1"],[14,"max","100"],[15,2,[32,1,["progress"]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n\\n"],[6,[37,5],[[32,1,["isRetryable"]]],null,[["default"],[{"statements":[[2,"        "],[11,"button"],[24,0,"msg-attachment-preview__retry-attachment"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1,["retryAttachment"]],[32,1]],null]],null],[4,[38,2],["send_retry"],null],[12],[2,"\\n          "],[1,[30,[36,4],null,[["type","ally-text","size"],["refresh-icon",[30,[36,3],["attachment_retry","msg-ui/components/rich-media/upload-attachment-previews"],null],"small"]]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n      "],[11,"button"],[24,0,"msg-attachment-preview__remove-attachment"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,3],[32,1]],null]],null],[4,[38,2],["cancel_selected_photo"],null],[12],[2,"\\n        "],[1,[30,[36,4],null,[["type","a11y-text","size"],["cancel-icon",[30,[36,3],["a11y_attachment_remove","msg-ui/components/rich-media/upload-attachment-previews"],[["attachmentName"],[[32,1,["name"]]]]],"small"]]]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1]}]]],[13]],"hasEval":false,"upvars":["fn","on","ember-cli-pemberly-tracking@track-interaction","t","artdeco-icons-web@li-icon","if","unless","ember-set-helper@set","did-insert","did-update","-track-array","each"]}',moduleName:"msg-ui/components/rich-media/upload-attachment-previews.hbs"})
let o=(i=Ember._action,r=class extends n.default{scrollToBottom(){(0,s.mutateDOM)((()=>{this.isDestroying||(this.scrollingContainer.scrollTop=this.scrollingContainer.scrollHeight)}))}},(0,t.default)(r.prototype,"scrollToBottom",[i],Object.getOwnPropertyDescriptor(r.prototype,"scrollToBottom"),r.prototype),r)
e.default=o
Ember._setComponentTemplate(a,o)}))
define("msg-ui/components/rich-media/video-display",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const n=Ember.HTMLBars.template({id:"udZRdePP",block:'{"symbols":["@iconSize","@onPlayerReady"],"statements":[[10,"div"],[14,0,"msg-s-event-listitem__video"],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-s-event-listitem__video-aspect-ratio-container"],[12],[2,"\\n    "],[8,"video@native-video-loader",[],[["@videoPlayMetadata","@iconSize","@onPlayerReady"],[[32,0,["videoPlayMetadata"]],[32,1],[32,2]]],null],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"msg-ui/components/rich-media/video-display.hbs"})
class s extends t.default{constructor(){super(...arguments)
this.videoPlayMetadata=JSON.parse(JSON.stringify(Ember.get(this.args,"mediaAttachment.videoPlayMetadata")))
this.videoPlayMetadata.progressiveStreams[0].mediaType="video/mp4"}}e.default=s
Ember._setComponentTemplate(n,s)}))
define("msg-ui/components/selectable-entity",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@glimmer/component"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i,r
const a=Ember.HTMLBars.template({id:"w8oUCkf9",block:'{"symbols":["@conversation","@entitySize","@iconSize","@checkboxOnly","@disableSelectability","&attrs"],"statements":[[11,"div"],[16,0,[31,[[30,[36,0],[[32,5],"pt1","msg-selectable-entity"],null],"\\n    ",[30,[36,0],[[32,4],"msg-selectable-entity__checkbox-only"],null],"\\n    ",[32,0,["sizeClass"]]]]],[17,6],[4,[38,1],["click",[32,0,["handleClick"]]],null],[12],[2,"\\n"],[6,[37,0],[[30,[36,2],[[32,1]],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"presence@entity-with-presence",[[16,0,"msg-selectable-entity__entity"]],[["@miniProfile","@size"],[[32,1,["participants","firstObject","miniProfile"]],[32,2]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"msg-facepile-grid@conversation-facepile-grid",[[24,0,"msg-selectable-entity__entity"]],[["@conversation","@entitySize","@iconSize"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n  "],[10,"div"],[14,0,"msg-selectable-entity__checkbox-container"],[12],[2,"\\n    "],[8,"input",[[24,"tabindex","-1"],[16,0,[30,[36,4],["msg-selectable-entity__input",[30,[36,0],[[30,[36,3],[[32,2],2],null]," small-input"," simple-form"],null]],null]],[16,1,[30,[36,4],["checkbox-",[32,0,["inputId"]]],null]]],[["@type","@checked"],["checkbox",[32,1,["checked"]]]],null],[2,"\\n    "],[10,"label"],[14,0,"msg-selectable-entity__checkbox-label ml2"],[15,"aria-label",[30,[36,0],[[32,1,["checked"]],[30,[36,5],["i18n_unselect_conversation_a11y","msg-ui/components/selectable-entity"],null],[30,[36,5],["i18n_select_conversation_a11y","msg-ui/components/selectable-entity"],null]],null]],[15,"for",[30,[36,4],["checkbox-",[32,0,["inputId"]]],null]],[12],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"msg-selectable-entity__checkbox-circle-container"],[12],[2,"\\n      "],[10,"div"],[14,0,"msg-selectable-entity__checkbox-circle"],[12],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","on","msg-shared@has-presence","global-helpers@eq","concat","t"]}',moduleName:"msg-ui/components/selectable-entity.hbs"}),o={1:"msg-selectable-entity--1",2:"msg-selectable-entity--2",3:"msg-selectable-entity--3",4:"msg-selectable-entity--4"}
let l=(i=Ember._action,r=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"inputId",`msg-selectable-entity__checkbox-${Ember.guidFor(this)}`)}get sizeClass(){return o[this.args.entitySize]}handleClick(e){if(!this.args.disableSelectability){e.stopPropagation()
e.preventDefault()
this.args.onCheckboxClick()}}},(0,n.default)(r.prototype,"handleClick",[i],Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),r.prototype),r)
e.default=l
Ember._setComponentTemplate(a,l)}))
define("msg-ui/components/selected-filter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-data/enums"],(function(e,t,n,s,i,r,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o,l,m,d,c,u,p,g,h,b,f,v
const y=Ember.HTMLBars.template({id:"m/d5LjoV",block:'{"symbols":["&attrs","@clearFilter","@currentFilter","@disabled","@trackingPrefix"],"statements":[[11,"div"],[24,0,"msg-selected-filter t-12"],[17,1],[12],[2,"\\n  "],[10,"div"],[14,0,"display-flex p2"],[12],[2,"\\n    "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,0],["a11y_remove_filter","msg-ui/components/selected-filter"],[["filter"],[[32,3]]]]],[4,[38,2],["dismiss_filter"],null]],[["@icon","@color","@size","@type","@click","@text","@disabled"],["cancel-icon","muted",1,"tertiary",[32,2],[30,[36,0],["i18n_filter_no_unread_count","msg-ui/components/selected-filter"],[["filter"],[[32,3]]]],[32,4]]],null],[2,"\\n\\n"],[6,[37,4],[[30,[36,3],[[32,3],"UNREAD"],null]],null,[["default"],[{"statements":[[2,"      "],[8,"artdeco-button@artdeco-button",[],[["@classNames","@text","@size","@type","@click","@disabled"],["mlA",[30,[36,0],["i18n_mark_all_read","msg-ui/components/selected-filter"],null],1,"tertiary",[30,[36,1],[[32,0],"confirmationIsOpen",true],null],[32,0,["markAllReadButtonDisabled"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[8,"artdeco-modal@artdeco-confirmation-dialog",[],[["@testId","@isOpen","@title","@content","@primaryActionText","@primaryActionTextA11y","@onPrimary","@primaryControlName","@secondaryActionText","@secondaryActionTextA11y","@onSecondary","@secondaryControlName","@onEscape"],["msg-mark-all-read-modal",[32,0,["confirmationIsOpen"]],[30,[36,0],["i18n_confirm_mark_all_as_read_v2","msg-ui/components/selected-filter"],null],[30,[36,0],["i18n_confirmation_text_body_mark_all_read","msg-ui/components/selected-filter"],null],[30,[36,0],["i18n_yes","msg-ui/components/selected-filter"],null],[30,[36,0],["a11y_yes_mark_all_read","msg-ui/components/selected-filter"],null],[32,0,["markAllAsRead"]],[30,[36,5],[[32,5],"mark_all_read_confirm"],null],[30,[36,0],["i18n_no_thanks","msg-ui/components/selected-filter"],null],[30,[36,0],["a11y_dont_mark_all_read","msg-ui/components/selected-filter"],null],[30,[36,1],[[32,0],"confirmationIsOpen",false],null],[30,[36,5],[[32,5],"mark_all_read_cancel"],null],[30,[36,1],[[32,0],"confirmationIsOpen",false],null]]],null]],"hasEval":false,"upvars":["t","ember-set-helper@set","ember-cli-pemberly-tracking@track-interaction","global-helpers@eq","if","concat"]}',moduleName:"msg-ui/components/selected-filter.hbs"})
let _=(o=Ember.inject.service("msg-data@data-manager"),l=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),m=Ember.inject.service("lix"),d=Ember.inject.service("i18n"),c=Ember._tracked,u=Ember._action,p=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"persistentToastManager",h,this);(0,t.default)(this,"lix",b,this);(0,t.default)(this,"i18n",f,this);(0,t.default)(this,"confirmationIsOpen",v,this)}get markAllReadButtonDisabled(){return this.msgDataManager.progressIndicatorState.markAllReadIndicator||0===this.args.loadedUnreadConversations.length||this.args.disabled}markAllAsRead(){this.msgDataManager.markAllConversationsAsRead().then((e=>{if(!this.isDestroying){var t,n
if(null==e||null===(t=e.data)||void 0===t||null===(n=t.value)||void 0===n||!n.synchronouslyProcessed){const e=5e3
this.msgDataManager.progressIndicatorState.setIndicatorInProgress(a.ProgressIndicatorTypeEnum.MARK_ALL_CONVERSATIONS_READ,e)}this.args.clearFilter()}})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@selected-filter","i18n_failed_to_mark_all_read")([])
this.persistentToastManager.error({message:t})
throw e})).finally((()=>{this.confirmationIsOpen=!1}))}},g=(0,s.default)(p.prototype,"msgDataManager",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"persistentToastManager",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(p.prototype,"lix",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(p.prototype,"i18n",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,s.default)(p.prototype,"confirmationIsOpen",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(p.prototype,"markAllAsRead",[u],Object.getOwnPropertyDescriptor(p.prototype,"markAllAsRead"),p.prototype),p)
e.default=_
Ember._setComponentTemplate(y,_)}))
define("msg-ui/components/thread",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","@ember-decorators/object","gdpr-notice/utils/notice-constants","msg-shared/utils/constants","msg-shared/utils/custom-tracking","global-utils/utils/is-browser","msg-ui/utils/mentions-helper","msg-ui/utils/conversation-properties","msg-ui/utils/share-contact-info-helper","msg-shared/utils/user-visible-exception-helper","msg-shared/helpers/is-current-user","msg-shared/utils/in-mail-reply-action","ember-lifeline","tracked-toolbox"],(function(e,t,n,s,i,r,a,o,l,m,d,c,u,p,g,h,b,f,v){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,E,w,M,C,k,T,x,S,P,O,I,D,A,R,j,N,L,F,z,U,B,H,q,V,W,G,K,$,Y,Q,J,Z,X,ee,te,ne,se,ie,re,ae,oe,le,me,de,ce,ue,pe,ge,he,be,fe,ve,ye,_e,Ee,we,Me,Ce,ke,Te,xe,Se,Pe,Oe,Ie,De,Ae,Re,je,Ne,Le,Fe,ze,Ue,Be,He,qe,Ve,We,Ge,Ke,$e
const Ye=Ember.HTMLBars.template({id:"zFycTJFx",block:'{"symbols":["assetLoader","components","actions","props","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","scroller","assetLoader","assetLoader","@conversation","@actionTrackingPrefix","@isOverlay","@bubbleId","@isMessageRequestCompose","@dragAndDropTrackingKeys","@messageContext","@contextByRecipients","@isNew","@forwardedEvent","@isInMailCompose","@messagingSettings","@msgAdapterOptions","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@update","@smpContent","@messageRecipients","@isOriginalSize","@showOneToOneProfileCard","@quickRepliesUseCase","@contextWidth","@messageListId","@handleSuccessfulDiscardRequest","@addParticipantsPageKey","@toggleShowRenameConversation","@mutePageKey","@setFocusToRenameConversationForm","@renamePageKey","@showRenameConversationForm","@inmailReplyDeepLink"],"statements":[[11,"div"],[24,0,"msg-thread-container msg-thread__thread-actions-tray"],[4,[38,17],[[32,0,["didUpdateArgs"]]],null],[4,[38,18],[[32,0,["didUpdateArgs"]],[32,46],[32,15]],null],[12],[2,"\\n  "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,14,["state","fulfilled"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,45]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-conversation-ui@conversation-rename",[],[["@conversation","@setFocusOnRender","@hideRenameConversationForm","@actionTrackingPrefix","@pageKey"],[[32,15],[32,43],[30,[36,9],[[32,41],false],null],[32,16],[32,44]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showConversationMuteBanner"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-conversation-ui@conversation-mute-banner",[],[["@toggleConversationMute","@actionTrackingPrefix","@pageKey"],[[32,0,["toggleConversationMute"]],[32,16],[32,42]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,8],[[30,[36,16],[[32,15]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-conversation-ui@nonconnection-banner",[],[["@conversation"],[[32,15]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"  "]],"parameters":[14]}]]],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,1],[[30,[36,12],[[32,15,["latestEvent","subtype"]],"INMAIL"],null]],null,[["default"],[{"statements":[[2,"  "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,13,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-shared-modals@gdpr-notice",[],[["@noticeTypes"],[[32,0,["gdprNoticeType"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"  "]],"parameters":[13]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showMessageList"]]],null,[["default","else"],[{"statements":[[6,[37,15],[[30,[36,14],[[30,[36,1],[[32,0,["enableMessageListReversedScroll"]],"msg-ui$message-list-scroller-scroll-reversed","msg-ui$message-list-scroller"],null]],null]],[["composeIsFullyExpanded","initialEventsRequest","conversation","latestEvent","typingParticipants","loadMore"],[[32,0,["composeIsFullyExpanded"]],[32,0,["fetchedEventsProxy"]],[32,15],[32,15,["latestEvent"]],[32,15,["typingParticipants"]],[32,0,["loadMoreMessages"]]]],[["default"],[{"statements":[[2,"    "],[8,"msg-ui@message-list",[[16,1,[32,38]]],[["@blockedByNoResponse","@isOverlay","@isLoading","@conversation","@handleSuccessfulDiscardRequest","@resendMessage","@inlineProfileCardLayout","@addParticipantsPageKey","@actionTrackingPrefix","@showMessageEditForm","@toggleShowRenameConversation","@showQuickReplies","@quickRepliesList","@quickRepliesUseCase","@submitQuickReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@messageIndexToBeAnchored","@contextWidth"],[[32,0,["blockedByNoResponse"]],[32,17],[32,12,["props","isLoading"]],[32,15],[32,39],[32,0,["resendMessage"]],[32,34],[32,40],[32,16],[32,0,["showMessageEditForm"]],[32,41],[32,0,["showQuickReplies"]],[32,0,["quickRepliesList"]],[32,36],[32,0,["submitQuickReply"]],[32,0,["openGIFPopover"]],[32,0,["openInMailReplyPanel"]],[32,0,["showInmailDeclineReasonModal"]],[32,0,["openVirtualMeetingModal"]],[32,12,["props","messageIndexToBeAnchored"]],[32,37]]],null],[2,"\\n"],[6,[37,1],[[32,12,["props","scrollingPastThreshold"]]],null,[["default"],[{"statements":[[2,"      "],[10,"div"],[14,0,"msg-s-message-list__new-message msg-animation__indicator"],[12],[2,"\\n        "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,5],["a11y_new_messages","msg-ui/components/thread"],null]]],[["@class","@size","@controlType","@text","@click"],["msg-s-message-list__new-message-button block",1,"button",[30,[36,1],[[32,12,["props","hasNewMessages"]],[30,[36,5],["i18n_new_messages_v2","msg-ui/components/thread"],null],[30,[36,5],["i18n_latest_message","msg-ui/components/thread"],null]],null],[32,12,["actions","scrollToNewMessages"]]]],null],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[12]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showInMailQuickReplies"]]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-ui@quick-replies",[],[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@contextWidth"],[[32,15],[32,15,["latestEvent","id"]],[32,0,["quickRepliesList"]],[32,36],[32,16],[30,[36,1],[[32,17],"mebc_quick_reply","non_inmail_quick_reply"],null],[32,0,["submitQuickReply"]],[32,0,["openGIFPopover"]],[32,0,["openInMailReplyPanel"]],[32,0,["showInmailDeclineReasonModal"]],[32,0,["openVirtualMeetingModal"]],[32,37]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["customLssFooter"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"pt3 ph5 pb2"],[12],[2,"\\n      "],[10,"p"],[14,0,"t-12 t-black--light mb3"],[12],[2,"\\n        "],[1,[32,0,["customLssFooter","mainText","text"]]],[2,"\\n        "],[11,"button"],[24,0,"t-12 t-black--light link-without-visited-state"],[24,4,"button"],[4,[38,7],["click",[30,[36,0],[[32,0],"blockDialogOpen",true],null]],null],[12],[2,"\\n          "],[1,[32,0,["customLssFooter","unsubscribeText","text"]]],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["blockDialogOpen"]]],null,[["default"],[{"statements":[[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,11,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,"msg-shared-modals@block-lss-modal",[],[["@modalIsOpen","@convoId","@participantNames","@closeModal"],[true,[32,15,["id"]],[30,[36,4],[[32,15]],null],[30,[36,0],[[32,0],"blockDialogOpen",false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[11]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,35]],null,[["default"],[{"statements":[[2,"    "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-conversation-ui"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,10,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-conversation-ui@profile-card-one-to-one",[[24,0,"pv4 ph3"]],[["@inlineLayout","@recipientProfile","@contextText"],[[32,34],[32,33,["firstObject"]],[32,21,["contextText"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[10]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[10,"div"],[15,0,[31,["msg-compose-container__spacer mtA\\n      ",[30,[36,1],[[32,0,["composeIsFullyExpanded"]]," msg-compose-container__spacer--compose-is-expanded"],null]]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["_composeViewContext","showBlockedFooter"]]],null,[["default","else"],[{"statements":[[2,"  "],[10,"div"],[14,0,"align-items-flex-end display-flex artdeco-divider"],[12],[2,"\\n    "],[10,"div"],[14,0,"msg-s-conversation-blocked-footer"],[12],[2,"\\n      "],[8,"artdeco-inline-feedback@artdeco-inline-feedback",[],[["@type"],["note"]],[["default"],[{"statements":[[2,"\\n"],[2,"        "],[1,[30,[36,13],[[32,0,["_composeViewContext","footerText"]]],null]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,15,["blocked"]]],null,[["default","else"],[{"statements":[[2,"  "],[8,"msg-ui@conversation-unspam",[],[["@conversation"],[[32,15]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["conversationWithBlockedMember"]]],null,[["default","else"],[{"statements":[[2,"  "],[8,"msg-ui@blocked-recipient",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["selectedInMailReplySmartAction"]]],null,[["default","else"],[{"statements":[[2,"  "],[8,"msg-ui@inmail-reply-panel",[],[["@replyTo","@quickReply","@cancel","@send","@trackingPrefix"],[[32,15,["latestEvent"]],[32,0,["selectedInMailReplySmartAction"]],[30,[36,0],[[32,0],"selectedInMailReplySmartAction",[29]],null],[32,0,["onSendCustomInmailReply"]],[32,16]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["shouldShowMessageEditForm"]]],null,[["default","else"],[{"statements":[[2,"    "],[8,"msg-ui@msg-edit-form/msg-edit-form",[],[["@trackingPrefix","@saveEditControlName","@event","@prefilledMessage","@onDismissEditForm","@conversation"],[[32,16],[30,[36,6],[[32,16],"save_edit"],null],[32,0,["messageEventToEdit"]],[32,0,["messageToEdit"]],[30,[36,0],[[32,0],"shouldShowMessageEditForm",false],null],[32,15]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["blockedByNoResponse"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"p"],[14,0,"msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[12],[2,"\\n      "],[1,[30,[36,5],["i18n_no_response_yet","msg-ui/components/thread"],[["linkInfo"],[[30,[36,2],null,[["target","href","rel","class","aria-label","data-control-name","data-test-awaiting-inmail-response-learn-more"],["_blank",[32,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[30,[36,5],["i18n_learn_more_a11y","msg-ui/components/thread"],null],"awaiting_inmail_response_learn_more",true]]]]]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["blockedByDecline"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"p"],[14,0,"msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[12],[2,"\\n      "],[1,[30,[36,5],["i18n_recipient_declined_inmail","msg-ui/components/thread"],[["linkInfo"],[[30,[36,2],null,[["target","href","rel","class","aria-label","data-control-name","data-test-inmail-declined-learn-more"],["_blank",[32,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[30,[36,5],["i18n_learn_more_a11y","msg-ui/components/thread"],null],"inmail_declined_learn_more",true]]]]]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,12],[[32,15,["messageRequestState"]],"PENDING"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"msg-ui@binary-reply-options",[],[["@isReplyPending","@promptText","@acceptText","@acceptA11yText","@rejectText","@rejectA11yText","@acceptTrackingKey","@rejectTrackingKey","@actionTrackingPrefix","@sendAcceptReply","@sendRejectReply"],[[32,0,["isMessageRequestClickReplyPending"]],[30,[36,1],[[32,0,["isGroupMessageRequest"]],[30,[36,5],["i18n_allow_group_message_request_prompt","msg-ui/components/thread"],null],[30,[36,5],["i18n_allow_message_request_prompt","msg-ui/components/thread"],[["senderName"],[[30,[36,11],[[30,[36,10],[[32,15,["participants"]],"0.miniProfile"],null]],null]]]]],null],[30,[36,5],["i18n_message_request_reply_form_interested","msg-ui/components/thread"],null],[30,[36,5],["i18n_a11y_message_request_reply_form_interested","msg-ui/components/thread"],[["senderName"],[[30,[36,11],[[30,[36,10],[[32,15,["participants"]],"0.miniProfile"],null]],null]]]],[30,[36,1],[[32,0,["isGroupMessageRequest"]],[30,[36,5],["i18n_message_request_reply_form_leave","msg-ui/components/thread"],null],[30,[36,5],["i18n_message_request_reply_form_decline","msg-ui/components/thread"],null]],null],[30,[36,1],[[32,0,["isGroupMessageRequest"]],[30,[36,5],["i18n_a11y_message_request_reply_form_leave","msg-ui/components/thread"],null],[30,[36,5],["i18n_a11y_message_request_reply_form_decline","msg-ui/components/thread"],[["senderName"],[[30,[36,11],[[30,[36,10],[[32,15,["participants"]],"0.miniProfile"],null]],null]]]]],null],"accept_message_request","decline_message_request",[32,16],[30,[36,9],[[32,0,["oneClickReplyToMessageRequest"]],true],null],[30,[36,9],[[32,0,["oneClickReplyToMessageRequest"]],false],null]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["showDeclinedMessageRequestAccept"]]],null,[["default","else"],[{"statements":[[2,"    "],[8,"msg-ui@declined-message-request-accept-banner",[],[["@senderName","@acceptMessageRequest"],[[30,[36,11],[[30,[36,10],[[32,15,["participants"]],"0.miniProfile"],null]],null],[30,[36,9],[[32,0,["oneClickReplyToMessageRequest"]],true],null]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,25]],null,[["default","else"],[{"statements":[[2,"    "],[8,"msg-ui@inmail-compose-form",[],[["@isOverlay","@subject","@recipients","@msgAdapterOptions","@prefilledMessage","@submitMessage","@beforeUpload","@dragAndDropTrackingKeys","@composeViewContext","@smpContent"],[[32,17],[32,0,["subject"]],[32,33],[32,27],[32,30],[32,0,["submitMessage"]],[32,0,["beforeUpload"]],[32,20],[32,0,["_composeViewContext"]],[32,32]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["showMessageForm"]]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-ui@msg-form/base-form",[],[["@id","@beforeUpload","@bubbleId","@composeIsFullyExpanded","@messageContext","@contextByRecipients","@conversation","@hasResharedContent","@isOverlay","@externallyValid","@forwardedEvent","@isInMailCompose","@messagingSettings","@msgAdapterOptions","@overridePlaceholder","@prefilledAttachments","@prefilledMessage","@subject","@submitMessage","@toggleExpandComposeField","@update","@smpContent","@updateFormState","@validateForm","@onBeforeFormSubmit"],[[32,0,["msgFormId"]],[32,0,["beforeUpload"]],[32,18],[32,0,["composeIsFullyExpanded"]],[30,[36,1],[[32,19],[32,21]],null],[32,22],[32,15],[32,0,["hasResharedContent"]],[32,17],[30,[36,1],[[32,23],[32,0,["hasValidRecipients"]],true],null],[32,24],[32,25],[32,26],[32,27],[30,[36,1],[[32,28],[32,28],[30,[36,5],["i18n_write_a_message","msg-ui/components/thread"],null]],null],[32,29],[32,30],[32,0,["subject"]],[32,0,["submitMessage"]],[32,0,["toggleExpandComposeField"]],[32,31],[32,32],[32,0,["updateFormState"]],[32,0,["validateForm"]],[32,0,["onBeforeFormSubmit"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,4,["isOverCharLimit"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-ui@msg-form/primitives/character-limit-banner",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["shouldShowMessageComposeFailedBanner"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-ui@msg-form/primitives/send-failure-banner",[],[["@resendMessage"],[[32,3,["onSubmit"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["enableAttachmentDragAndDrop"]]],null,[["default"],[{"statements":[[2,"        "],[8,[32,2,["attachmentDragAndDrop"]],[],[["@composeIsFullyExpanded","@trackingKeys"],[[32,0,["composeIsFullyExpanded"]],[32,20]]],null],[2,"\\n"],[6,[37,8],[[32,4,["showMiniAttachmentPreviews"]]],null,[["default"],[{"statements":[[2,"          "],[8,[32,2,["uploadAttachmentPreviews"]],[],[[],[]],null],[2,"\\n"],[6,[37,1],[[32,4,["attachmentDropErrorType"]]],null,[["default"],[{"statements":[[2,"            "],[8,[32,2,["attachmentDragAndDropErrorDisplay"]],[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,4,["showMentionsPicker"]]],null,[["default"],[{"statements":[[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-mentions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,9,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,[32,2,["mentionsPicker"]],[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[9]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["isVirtualMeetingModalOpen"]]],null,[["default"],[{"statements":[[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-shared-modals"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,8,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,"msg-shared-modals@virtual-meeting-modal",[],[["@refocusElement","@closeVirtualMeetingContainer","@filloutMeetingInvite","@conversation","@conversationUrn","@conversationFeatureTypes"],[[30,[36,6],["#",[32,0,["msgFormId"]]," .msg-form__contenteditable"],null],[30,[36,0],[[32,0],"isVirtualMeetingModalOpen",false],null],[32,3,["updateTextarea"]],[32,15],[32,15,["entityUrn"]],[32,15,["featureTypes"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[8]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[2,"      "],[8,[32,2,["messageContentContainer"]],[[24,0,"msg-form__message-texteditor relative flex-grow-1 display-flex"]],[["@composeIsFullyExpanded","@forwardedEvent","@expandButtonSize","@handleFocusIn","@labelText","@showExpandButton","@toggleExpandComposeField","@trackingPrefix","@update","@smpContent"],[[32,0,["composeIsFullyExpanded"]],[32,24],1,[30,[36,9],[[32,0,["markConversationAsRead"]],[32,15]],null],[30,[36,5],[[30,[36,1],[[32,15,["isNew"]],"a11y_compose_new","a11y_compose"],null],"msg-ui/components/thread"],[["names"],[[30,[36,5],[[30,[36,1],[[32,15,["groupChat"]],[30,[36,1],[[32,15,["name"]],[32,15,["name"]],"i18n_participants_full_names"],null],"i18n_participants_full_names"],null],"msg-ui/components/thread"],[["names"],[[30,[36,5],["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[30,[36,4],[[32,15]],null]]]]]]]]]],[32,0,["showExpandButton"]],[32,0,["toggleExpandComposeField"]],[32,16],[32,31],[32,32]]],null],[2,"\\n"],[6,[37,1],[[32,4,["showMiniAttachmentPreviews"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,4,["attachments","length"]]],null,[["default"],[{"statements":[[2,"          "],[11,"button"],[24,0,"msg-form__mini-attachment-preview t-12 t-black--light t-bold pv1"],[24,4,"button"],[4,[38,7],["click",[32,0,["toggleExpandComposeField"]]],null],[12],[2,"\\n            "],[1,[30,[36,5],["i18n_num_files_attached","msg-ui/components/thread"],[["numberOfAttachments"],[[32,4,["attachments","length"]]]]]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "],[10,"footer"],[15,"aria-label",[30,[36,1],[[32,15,["name"]],[30,[36,5],["a11y_compose_footer_with_conversation_name","msg-ui/components/thread"],[["name"],[[32,15,["name"]]]]],[30,[36,5],["a11y_compose_footer_with_folks","msg-ui/components/thread"],[["names"],[[30,[36,5],["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[30,[36,4],[[32,15]],null]]]]]]]],null]],[15,0,[31,["msg-form__footer flex-shrink-zero ",[30,[36,1],[[32,17],"","pb7"],null]]]],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-form__left-actions display-flex"],[12],[2,"\\n"],[6,[37,8],[[32,0,["hasResharedContent"]]],null,[["default"],[{"statements":[[2,"            "],[8,[32,2,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@disabled","@trackingPrefix"],[[31,["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0 ",[30,[36,1],[[32,17],"artdeco-button--1","artdeco-button--2"],null]]],[30,[36,3],null,[["type","size"],["image-icon",[30,[36,1],[[32,17],"small","medium"],null]]]],[30,[36,5],[[30,[36,1],[[32,15,["isNew"]],"a11y_attach_image_new","a11y_attach_image"],null],"msg-ui/components/thread"],[["names"],[[30,[36,5],[[30,[36,1],[[32,15,["groupChat"]],[30,[36,1],[[32,15,["name"]],[32,15,["name"]],"i18n_participants_full_names"],null],"i18n_participants_full_names"],null],"msg-ui/components/thread"],[["names"],[[30,[36,5],["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[30,[36,4],[[32,15]],null]]]]]]]]]],[32,4,["supportedImageAttachmentTypes"]],[32,19],[30,[36,6],[[32,16],"image"],null]]],null],[2,"\\n            "],[8,[32,2,["uploadAttachment"]],[],[["@buttonClasses","@icon","@labelText","@acceptTypes","@disabled","@trackingPrefix"],[[31,["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0 ",[30,[36,1],[[32,17],"artdeco-button--1","artdeco-button--2"],null]]],[30,[36,3],null,[["type","size"],["paperclip-icon",[30,[36,1],[[32,17],"small","medium"],null]]]],[30,[36,5],[[30,[36,1],[[32,15,["isNew"]],"a11y_attach_file_new","a11y_attach_file"],null],"msg-ui/components/thread"],[["names"],[[30,[36,5],[[30,[36,1],[[32,15,["groupChat"]],[30,[36,1],[[32,15,["name"]],[32,15,["name"]],"i18n_participants_full_names"],null],"i18n_participants_full_names"],null],"msg-ui/components/thread"],[["names"],[[30,[36,5],["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[30,[36,4],[[32,15]],null]]]]]]]]]],[32,4,["supportedFileAttachmentTypes"]],[32,19],[30,[36,6],[[32,16],"file"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["enableGifButton"]]],null,[["default"],[{"statements":[[2,"            "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,7,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"                "],[8,"tenor-gif@gif-button",[],[["@size","@trackingPrefix","@conversation","@openGIFPopover","@disabled"],[[30,[36,1],[[32,17],1,2],null],[32,16],[32,15],[30,[36,0],[[32,0],"isGifSearchPopoverOpen",true],null],[32,19]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[7]}]]],[2,"\\n"],[6,[37,1],[[32,0,["isGifSearchPopoverOpen"]]],null,[["default"],[{"statements":[[2,"              "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["tenor-gif"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,6,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"                  "],[8,"tenor-gif@search-popover",[],[["@conversation","@trackingPrefix","@closeHovercard","@handleGIFSend","@afterSend","@prefilledSearchTerm","@isOverlay"],[[32,15],[32,16],[32,0,["closeGIFPopover"]],[32,3,["handleGIFSend"]],[32,3,["focusTextarea"]],[32,0,["prefilledGIFSearchTerm"]],[32,17]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"              "]],"parameters":[6]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n          "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["emoji-picker"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,5,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"              "],[8,"emoji-picker@emoji-hoverable",[],[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@hoverableOutletId","@size","@onHoverableHide","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses","@triggerData"],[true,[32,3,["updateTextareaWithEmoji"]],[30,[36,1],[[32,17],"msg_overlay_emoji","msg_pillar_emoji"],null],[30,[36,1],[[32,17],"msg-overlay__emoji-hoverable-outlet"],null],[30,[36,1],[[32,17],1,2],null],[32,3,["focusComposeAfterEmojiPickerClose"]],[30,[36,1],[[32,17],"overlay.close_emoji_picker","msg.close_emoji_picker"],null],[30,[36,1],[[32,17],"overlay.open_emoji_picker","msg.open_emoji_picker"],null],[30,[36,1],[[32,17],"overlay.select_emoji","msg.select_emoji"],null],[30,[36,1],[[32,17],"overlay.select_searched_emoji","msg.select_searched_emoji"],null],"msg-form__footer-action",[30,[36,2],null,[["bubbleId","conversationUrn"],[[32,18],[32,15,["entityUrn"]]]]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"          "]],"parameters":[5]}]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[2,"\\n          "],[8,[32,2,["sendControls"]],[],[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",[32,26,["pressEnterToSend"]]]],null],[2,"\\n          "],[8,[32,2,["sendModeToggle"]],[],[["@messagingSettings","@afterToggleAction","@triggerButtonSize"],[[32,26],[32,3,["focusTextarea"]],[30,[36,1],[[32,17],1,2],null]]],null],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "]],"parameters":[2,3,4]}]]],[2,"\\n\\n"],[2,"    "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-mentions"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-mentions@mention-to-invite-toast",[],[["@conversation","@membersToInvite","@onToastDismiss","@actionTrackingPrefix"],[[32,15],[32,0,["membersToInvite"]],[32,0,["onMentionToInviteDismiss"]],[32,16]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[1]}]]],[2,"\\n  "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["declineInmailReasonModalIsOpen"]]],null,[["default"],[{"statements":[[2,"  "],[8,"msg-shared-modals@decline-inmail-reason-modal",[],[["@trackingPrefix","@dismissModal"],[[32,16],[30,[36,0],[[32,0],"declineInmailReasonModalIsOpen",false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["shareInfoModalIsOpen"]]],null,[["default"],[{"statements":[[2,"  "],[8,"msg-shared-modals@share-profile-info-modal",[],[["@emailAddresses","@participant","@isOpen","@confirmedPhoneNumbers","@recruiter","@onShareContactInfoAccept","@sendInMailReply","@closeModal"],[[32,0,["profileContactInfo","confirmedEmailAddresses"]],[32,0,["authenticatedUser","miniProfile"]],[32,0,["shareInfoModalIsOpen"]],[32,0,["profileContactInfo","confirmedPhoneNumbers"]],[32,15,["participants","firstObject"]],[32,0,["onShareContactInfoAccept"]],[32,0,["onShareContactInfoDecline"]],[30,[36,0],[[32,0],"shareInfoModalIsOpen",false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["shouldShowComposeRetryLoader"]]],null,[["default"],[{"statements":[[2,"  "],[8,"msg-ui@compose-retry-loader",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["ember-set-helper@set","if","hash","artdeco-icons-web@li-icon","msg-shared@get-participant-names","t","concat","on","unless","fn","get","global-helpers@name","global-helpers@eq","text-view-model@text-view-model","ember-holy-futuristic-template-namespacing-batman@-translate-dynamic-2","component","msg-shared@is-inmail-conversation","did-insert","did-update"]}',moduleName:"msg-ui/components/thread.hbs"}),Qe="i18n_conversation_send_error",Je="i18n_a11y_send_successful",{ACTION_TYPES:Ze,MESSAGE_TYPE:Xe,INMAIL_ACTION:et,SMART_ACTIONS:tt,INMAIL_MAX_CHARACTERS:nt,INMAIL_SUBJECT_MAX_CHARACTERS:st,CONTROL_NAMES:{EDIT_GROUP_NAME:{DONE:it}}}=l.default
let rt=(y=Ember.inject.service("msg-data@data-manager"),_=Ember.inject.service("tracking"),E=Ember.inject.service("lix"),w=Ember.inject.service("authentication@authenticated-user"),M=Ember.inject.service("store"),C=Ember.inject.service("global-services@a11y-notification"),k=Ember.inject.service("i18n"),T=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),x=Ember._tracked,S=Ember._tracked,P=Ember._tracked,O=Ember._tracked,I=Ember._tracked,D=Ember._tracked,A=Ember._tracked,R=Ember._tracked,j=Ember._tracked,N=Ember._tracked,L=Ember._tracked,F=Ember._tracked,z=Ember._tracked,U=Ember._tracked,B=Ember._tracked,H=Ember._tracked,q=Ember._tracked,V=(0,v.localCopy)("args.composeViewContext"),W=Ember._tracked,G=Ember._tracked,K=Ember._action,$=(0,a.on)("messageSendSuccess"),Y=(0,a.on)("messageSendFail"),Q=Ember._action,J=Ember._action,Z=Ember._action,X=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,se=Ember._action,ie=Ember._action,re=Ember._action,ae=Ember._action,oe=Ember._action,le=Ember._action,me=Ember._action,de=Ember._action,ce=Ember._action,ue=Ember._action,pe=Ember._action,ge=Ember._action,he=Ember._action,be=Ember._action,fe=Ember._action,ve=Ember._action,ye=Ember._action,_e=class extends r.default{constructor(){super(...arguments);(0,n.default)(this,"msgFormId",`msg-form-${Ember.guidFor(this)}`);(0,n.default)(this,"gdprNoticeType",[o.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL]);(0,t.default)(this,"msgDataManager",Ee,this);(0,t.default)(this,"tracking",we,this);(0,t.default)(this,"lix",Me,this);(0,t.default)(this,"authenticatedUser",Ce,this);(0,t.default)(this,"store",ke,this);(0,t.default)(this,"a11yNotification",Te,this);(0,t.default)(this,"i18n",xe,this);(0,t.default)(this,"persistentToastManager",Se,this);(0,t.default)(this,"membersToInvite",Pe,this);(0,t.default)(this,"profileContactInfo",Oe,this);(0,t.default)(this,"shareInfoModalIsOpen",Ie,this);(0,t.default)(this,"selectedInMailReplySmartAction",De,this);(0,t.default)(this,"declineInmailReasonModalIsOpen",Ae,this);(0,t.default)(this,"isGifSearchPopoverOpen",Re,this);(0,t.default)(this,"isVirtualMeetingModalOpen",je,this);(0,t.default)(this,"prefilledGIFSearchTerm",Ne,this);(0,t.default)(this,"messageToEdit",Le,this);(0,t.default)(this,"messageEventToEdit",Fe,this);(0,t.default)(this,"shouldShowMessageEditForm",ze,this);(0,t.default)(this,"inMailTooLong",Ue,this);(0,t.default)(this,"longMessageLength",Be,this);(0,t.default)(this,"isMessageRequestClickReplyPending",He,this);(0,t.default)(this,"blockDialogOpen",qe,this);(0,t.default)(this,"_subject",Ve,this);(0,t.default)(this,"_composeIsFullyExpanded",We,this);(0,t.default)(this,"_composeViewContext",Ge,this);(0,t.default)(this,"composeIsSending",Ke,this);(0,t.default)(this,"messageComposeFailed",$e,this);(0,n.default)(this,"blockedInmailReplyHelpCenterLink","/help/linkedin/answer/124531")
this.msgDataManager.setMessageSendSubscriber(this,this.msgFormId)
this._originalRecipients=this.args.messageRecipients}get subject(){return this.args.subject||this._subject}get fetchedEventsProxy(){return this._fetchedEventsProxy||this.args.fetchedEventsProxy}get composeIsFullyExpanded(){return this.args.isInMailCompose||this.hasResharedContent||this._composeIsFullyExpanded||this.args.noConvoHistoryInNewConvo}get enableOlympusKeys(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn")}get enableMessageListReversedScroll(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-message-list-reversed-scroll")}didUpdateArgs(){if(Ember.get(this.args,"conversation.latestEvent")){let e
this.args.inmailReplyDeepLink&&"INMAIL"===Ember.get(this.args,"conversation.latestEvent.subtype")&&"DECLINED"!==Ember.get(this.args,"conversation.latestEvent.eventContent.customContent.actionType")&&(this.args.inmailReplyDeepLink.endsWith("sent_accepted")?e=this.quickRepliesList.findBy("reply.replyType","INMAIL_ACCEPT"):this.args.inmailReplyDeepLink.endsWith("sent_rejected")&&(e=this.quickRepliesList.findBy("reply.replyType","INMAIL_DECLINE")))
this.selectedInMailReplySmartAction=e}else this.selectedInMailReplySmartAction=void 0
this.args.messageRecipients!==this._originalRecipients&&(this._composeViewContext=null)}get customLssFooter(){return Ember.get(this,"eventsWithCustomLssFooter.lastObject.eventContent.customContent.salesFooter")}get eventsWithCustomLssFooter(){return Ember.get(this.args,"conversation.eventCollection.data").filterBy("eventContent.customContent.salesFooter.mainText.text")}get showMessageList(){return!this.args.isNew||Ember.get(this.args,"conversation.id")&&!this.args.invitationUrn}get showQuickReplies(){return!this.composeIsFullyExpanded&&Ember.get(this.args,"conversation.viewerCurrentParticipant")&&"INMAIL"!==Ember.get(this.args,"conversation.latestEvent.subtype")&&"PENDING"!==Ember.get(this.args,"conversation.messageRequestState")&&"DECLINED"!==Ember.get(this.args,"conversation.messageRequestState")&&!Ember.get(this.args,"conversation.isDeclinedMessageRequest")&&Ember.get(this.args,"conversation.latestEvent.quickReplyRecommendations.length")&&!Ember.get(this,"_composeViewContext.showBlockedFooter")}get showInMailQuickReplies(){return"INMAIL"===Ember.get(this.args,"conversation.latestEvent.subtype")&&!(0,h.isCurrentUser)(this.authenticatedUser,Ember.get(this.args,"conversation.latestEvent.from"))&&Ember.get(this.args,"conversation.latestEvent.quickReplyRecommendations.length")&&(Ember.get(this.args,"conversation.latestEvent.subtype")!==Xe.INMAIL_REPLY||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-decline")&&!Ember.get(this.args,"conversation.latestEvent.inMailDeclineExplained"))&&!this.selectedInMailReplySmartAction}get showMessageForm(){return(0,u.enableUserReplies)(this.args.conversation)}get blockedByNoResponse(){return"INMAIL"===Ember.get(this.args,"conversation.latestEvent.subtype")&&(0,h.isCurrentUser)(this.authenticatedUser,Ember.get(this.args,"conversation.latestEvent.from"))&&Ember.get(this.args,"conversation.withNonConnection")}get blockedByDecline(){return"DECLINED"===(0,b.default)(Ember.get(this.args,"conversation.latestEvent"))&&!(0,h.isCurrentUser)(this.authenticatedUser,Ember.get(this.args,"conversation.latestEvent.from"))&&Ember.get(this.args,"conversation.withNonConnection")}get quickRepliesList(){return Ember.get(this.args,"conversation.latestEvent.quickReplyRecommendations").map((e=>({text:Ember.get(e,"content.text"),reply:e})))}get enableAttachmentDragAndDrop(){return!this.hasResharedContent&&!this.args.isMessageRequestCompose}get isGroupMessageRequest(){return"PENDING"===Ember.get(this.args,"conversation.messageRequestState")&&Ember.get(this.args,"conversation.participants").length>1}get conversationWithBlockedMember(){return Ember.get(this.args,"conversation.participants.firstObject.restrictedProfile")&&1===Ember.get(this.args,"conversation.participants").length}get showDeclinedMessageRequestAccept(){return"DECLINED"===Ember.get(this.args,"conversation.messageRequestState")&&1===Ember.get(this.args,"conversation.participants").length}get hasResharedContent(){return this.args.forwardedEvent||this.args.update}get isSmpNewConvo(){return!!Ember.get(this.args,"msgAdapterOptions.marketplaceProjectProposalUrn")&&!this.args.conversation}get showExpandButton(){return!this.args.isInMailCompose}get firstRecipient(){return Ember.get(this.args,"messageRecipients.0")}get inMailRequestContactInfo(){return Ember.get(this.args,"conversation.latestEvent.eventContent.customContent.requestContactInfo")}get shouldShowComposeRetryLoader(){return this.args.isNew&&this.composeIsSending}get shouldShowMessageComposeFailedBanner(){return this.args.isNew&&this.messageComposeFailed}get enableGifButton(){return!this.args.isInMailCompose&&"INMAIL"!==Ember.get(this.args,"conversation.latestEvent.subtype")&&!this.hasResharedContent&&!this.isSmpNewConvo}get showConversationMuteBanner(){return Ember.get(this.args,"conversation.muted")&&!this.composeIsFullyExpanded&&!Ember.get(this.args,"conversation.blocked")}_onMessageSendSuccess(e){var t,n,s
null===(t=(n=this.args).didSubmitMessage)||void 0===t||t.call(n,e)
this._composeIsFullyExpanded=!1
const i=Ember.get(e,"id")
this.msgDataManager.getEventCollection(i)||(this._fetchedEventsProxy=this.msgDataManager.initEventCollection({name:`${i}`,conversationId:i}).fetchAndLoad({}))
if(null!==(s=this.args.messageActions)&&void 0!==s&&s.afterSend){this.args.messageActions.afterSend()
delete this.args.messageActions.afterSend}this._focusMessageInput()
return e}_onMessageSendFail(e){let t=(0,g.default)(e)
if(!t){const e=this.args.isInMailCompose?"i18n_inmail_send_error":Qe
t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)()}this.persistentToastManager.error({message:t})
throw e}handleMessageSendSuccess(e){const t=Ember.get(e,"conversation")
this._onMessageSendSuccess(t)}handleMessageSendFail(e){this._onMessageSendFail(e)}_submitMessage(e){var t,n,s
const i=!this.args.conversation
this.tracking.fireInteractionEvent(this.args.sendMessageControlName)
if(this.args.isNew){const t=this.args.messageRecipients
if(!t)return
e.senderID=Ember.get(this,"authenticatedUser.miniProfile.entityUrn")
e.recipientIDs=t.map((e=>Ember.get(e,"entityUrn")))}e.name=this.args.conversationName
e.forward=this.args.forwardedEvent
if(this.args.isInMailCompose){e.messageReplyType=Xe.INMAIL
e.withNonConnection=!0
e.subject=e.subject.substring(0,st)}Ember.get(this.args,"msgAdapterOptions.groupUrn")&&i&&(e.messageReplyType=Xe.M2GM)
e.isOverlay=this.args.isOverlay
let r
r=this.args.invitationUrn&&i?this._replyToInvitation:i?this._saveConversation:this._sendReply
null===(t=this.args.messageActions)||void 0===t||null===(n=t.willSend)||void 0===n||n.call(t,e)
return(null!==(s=this.args.messageActions)&&void 0!==s&&s.willSendAsync?this.args.messageActions.willSendAsync(e):Ember.RSVP.Promise.resolve()).then((()=>r.call(this,e))).then((e=>!this.isDestroying&&i?this._onMessageSendSuccess(e):e)).catch((e=>{this.isDestroying||i&&this._onMessageSendFail(e)}))}_sendReply(e){const{conversation:t}=e,n=Ember.get(this.args,"customTrackingObject.moduleKey")||this.args.conversationDetailModuleKey
m.default.fireDetailActionEvent({conversation:t,actionType:Ze.SEND_MESSAGE,controlName:this.args.sendMessageControlName,moduleKey:n,trackingService:this.tracking})
e.forward&&m.default.fireDetailActionEvent({conversation:t,actionType:Ember.get(e.forward,"isInMail")?Ze.FORWARD_INMAIL:Ze.FORWARD,controlName:this.args.sendMessageControlName,moduleKey:n,trackingService:this.tracking})
e.subscriberId=this.msgFormId
return this.msgDataManager.createAndSaveMessageEvent({participants:Ember.get(this,"authenticatedUser.miniProfile.entityUrn"),conversation:t,msgData:e}).then((e=>Ember.get(e,"conversation")))}_saveConversation(e){const t=Ember.get(this.args,"customTrackingObject.moduleKey")||(this.args.isOpenedFromMsgButton?this.tracking.getCurrentPageKey():this.args.composeModuleKey)
Ember.set(this,"composeIsSending",!0)
Ember.set(this,"messageComposeFailed",!1)
return this.msgDataManager.createAndSaveConversation(e,{isFromGroupChatComposeUI:this.args.isGroupChatCompose}).then((n=>{m.default.fireDetailActionEvent({conversation:n,moduleKey:t,actionType:Ze.SEND_MESSAGE,controlName:this.args.sendMessageControlName,trackingService:this.tracking})
e.forward&&m.default.fireDetailActionEvent({conversation:n,moduleKey:t,actionType:Ze.FORWARD,controlName:this.args.sendMessageControlName,trackingService:this.tracking})
e.name&&this.tracking.fireInteractionEvent(it)
return n})).catch((e=>{Ember.set(this,"messageComposeFailed",!0)
throw e})).finally((()=>{Ember.set(this,"composeIsSending",!1)}))}_focusMessageInput(){if(d.default&&window.getSelection().toString())return
const e=document.querySelector(`#${this.msgFormId} .msg-form__contenteditable`)
e&&e.focus()}_handleMentionToInvite(e){const t=e.getMentionedMembers()
if(!t||!this.args.conversation)return
const n=(0,c.default)(t,this.args.conversation)
Ember.isEmpty(n)||(this.membersToInvite=n)}onMentionToInviteDismiss(){this.focusMessageInput()
this.membersToInvite=null}_fetchContactInfo(){const e=Ember.get(this,"authenticatedUser.memberId")
return this.store.findRecord("com.linkedin.voyager.deco.identity.normalizedprofile.shared.WebApplicantProfile",e,{adapterOptions:{url:`/voyager/api/identity/normalizedProfiles/${e}`}}).then((e=>{if(!this.isDestroying){this.profileContactInfo=e
this.shareInfoModalIsOpen=!0}}))}_clickReplyToRecruiterInMail(e,t){return this.msgDataManager.clickReplyToInMail(this.args.conversation,e,t).then((()=>{this.a11yNotify(Je)
this.msgDataManager.getEventCollection(Ember.get(this.args.conversation,"id")).fetchAndLoad()})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",Qe)()
this.persistentToastManager.error({message:t})
throw e}))}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}_replyToInvitation(e){return this.msgDataManager.replyToInvitation(this.args.invitationUrn,e).then((e=>{const t=this.args.isOpenedFromMsgButton?this.tracking.getCurrentPageKey():this.args.composeModuleKey
m.default.fireDetailActionEvent({conversation:e,moduleKey:t,actionType:Ze.SEND_MESSAGE,controlName:this.args.sendMessageControlName,trackingService:this.tracking})
return e}))}openInMailReplyPanel(e){this.selectedInMailReplySmartAction=e}showInmailDeclineReasonModal(){this.declineInmailReasonModalIsOpen=!0}openGIFPopover(e){this.isGifSearchPopoverOpen=!0
this.prefilledGIFSearchTerm=e}closeGIFPopover(){this.isGifSearchPopoverOpen=!1
this.prefilledGIFSearchTerm=""}openVirtualMeetingModal(){this.isVirtualMeetingModalOpen=!0}toggleConversationMute(){const e=this.msgDataManager.toggleConversationMute(this.args.conversation),t=Ember.get(this.args.conversation,"muted")?Ze.MUTE:Ze.UNMUTE
m.default.fireDetailActionEvent({conversation:this.args.conversation,actionType:t,controlName:this.args.muteConversationControlName,trackingService:this.tracking})
return e}beforeUpload(e){let t,{attachment:n,isPasteEvent:s}=e
t=n.isImage?s?this.args.imagePasteControlName:this.args.imageUploadControlName:this.args.fileUploadControlName
this.tracking.fireInteractionEvent(t)}loadMoreMessages(){return this.args.conversation&&Ember.get(this.args,"conversation.id")?this.msgDataManager.getEventCollection(Ember.get(this.args,"conversation.id")).fetchAndLoadMore():Ember.RSVP.reject()}resendMessage(e){Ember.set(e,"createdAt",Date.now())
this.msgDataManager.retrySaveMessage(e)}submitQuickReply(e,t){const n={message:Ember.get(e,"content.text"),conversation:t,messageReplyType:Xe.M2M,adapterOptions:{quickReplyExtension:{extensionContentType:"QUICK_REPLY",quickReply:Ember.get(e,"objectUrn")}}}
return this._submitMessage(n)}submitMessage(e){this._focusMessageInput()
if("INMAIL_REPLY"===e.messageReplyType&&this.inMailRequestContactInfo){this.inMailReplyPayload=e
return this._fetchContactInfo().catch((t=>{this._submitMessage(e).finally((()=>{this.isDestroying||(this.inMailReplyPayload=void 0)}))
throw t}))}return this._submitMessage(e)}toggleExpandComposeField(e){const t="boolean"==typeof e?e:!this.composeIsFullyExpanded
this._composeIsFullyExpanded=t}updateFormState(e){var t,n
null===(t=(n=this.args).setHasDraft)||void 0===t||t.call(n,!!e)}onBeforeFormSubmit(e){Ember.get(this.args,"conversation.groupChat")&&Ember.get(this.args,"conversation.featureTypes").includes("ADD_PARTICIPANT")&&this._handleMentionToInvite(e)}focusMessageInput(){this._focusMessageInput()}showMessageEditForm(e,t){this.messageToEdit=e
this.messageEventToEdit=t
this.shouldShowMessageEditForm=!0}validateForm(e){if(this.args.isNew){let t=!1
if(this.args.isInMailCompose){const n=this.inMailTooLong
t=e.length>nt
if(t){n||this.a11yNotify("i18n_inmail_too_long")
this.longMessageLength=e.length}else n&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
this.inMailTooLong=t}return Ember.get(this.args,"messageRecipients.length")&&(!this.args.isInMailCompose||Ember.isPresent(e)&&!t)}return!0}oneClickReplyToMessageRequest(e){this.isMessageRequestClickReplyPending=!0
return this.msgDataManager.clickReplyToMessageRequest(this.args.conversation,e,this.isGroupMessageRequest).then((()=>{if(!e){var t,n
null===(t=(n=this.args).handleSuccessfulDiscardRequest)||void 0===t||t.call(n,this.args.conversation)}this.a11yNotify(Je)})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",Qe)()
this.persistentToastManager.error({message:t})
throw e})).finally((()=>{this.isMessageRequestClickReplyPending=!1}))}onSendCustomInmailReply(e,t){const n=Ember.get(e,"replyType")===tt.INMAIL_DECLINE,s=n?et.DECLINE:et.ACCEPT
if(t){const e={message:t,conversation:this.args.conversation,messageReplyType:Xe.INMAIL_REPLY,inMailResponseAction:s}
if(!n&&this.inMailRequestContactInfo){this.inMailReplyPayload=e
return this._fetchContactInfo().catch((t=>{this._submitMessage(e).finally((()=>{if(!this.isDestroying){this.selectedInMailReplySmartAction=void 0
this.inMailReplyPayload=void 0}}))
throw t}))}this.selectedInMailReplySmartAction=void 0
return this._submitMessage(e)}return n?this._clickReplyToRecruiterInMail(!1).then((()=>{this.isDestroying||(this.selectedInMailReplySmartAction=void 0)})):Ember.RSVP.resolve().then((()=>{const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_inmail_empty_body_error")()
this.persistentToastManager.error({errorMessage:e})}))}onShareContactInfoAccept(e,t,n){const s=(0,p.default)({i18nService:this.i18n,participant:Ember.get(this,"conversation.participants.firstObject"),email:e,number:t,wechatId:n}),i=this.inMailReplyPayload
if(i){this.selectedInMailReplySmartAction=void 0
Ember.set(i,"inMailContactInfo",s)
return this._submitMessage(i).finally((()=>{this.isDestroying||(this.inMailReplyPayload=void 0)}))}return this._clickReplyToRecruiterInMail(!0,s)}onShareContactInfoDecline(){const e=this.inMailReplyPayload
if(e){this.selectedInMailReplySmartAction=void 0
Ember.set(e,"inMailContactInfo",{})
this._submitMessage(e).finally((()=>{this.isDestroying||(this.inMailReplyPayload=void 0)}))}else this._clickReplyToRecruiterInMail(!0,{})}updateSubject(e){this._subject=e.target.value}markConversationAsRead(e){(0,f.runTask)(this,(()=>{this.isDestroying||!e||Ember.get(e,"read")||this.msgDataManager.markConversationAsRead(e)}))}},Ee=(0,s.default)(_e.prototype,"msgDataManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,s.default)(_e.prototype,"tracking",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,s.default)(_e.prototype,"lix",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,s.default)(_e.prototype,"authenticatedUser",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,s.default)(_e.prototype,"store",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,s.default)(_e.prototype,"a11yNotification",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,s.default)(_e.prototype,"i18n",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,s.default)(_e.prototype,"persistentToastManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,s.default)(_e.prototype,"membersToInvite",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,s.default)(_e.prototype,"profileContactInfo",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=(0,s.default)(_e.prototype,"shareInfoModalIsOpen",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,s.default)(_e.prototype,"selectedInMailReplySmartAction",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,s.default)(_e.prototype,"declineInmailReasonModalIsOpen",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,s.default)(_e.prototype,"isGifSearchPopoverOpen",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=(0,s.default)(_e.prototype,"isVirtualMeetingModalOpen",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=(0,s.default)(_e.prototype,"prefilledGIFSearchTerm",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=(0,s.default)(_e.prototype,"messageToEdit",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=(0,s.default)(_e.prototype,"messageEventToEdit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=(0,s.default)(_e.prototype,"shouldShowMessageEditForm",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,s.default)(_e.prototype,"inMailTooLong",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,s.default)(_e.prototype,"longMessageLength",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=(0,s.default)(_e.prototype,"isMessageRequestClickReplyPending",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=(0,s.default)(_e.prototype,"blockDialogOpen",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=(0,s.default)(_e.prototype,"_subject",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=(0,s.default)(_e.prototype,"_composeIsFullyExpanded",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=(0,s.default)(_e.prototype,"_composeViewContext",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=(0,s.default)(_e.prototype,"composeIsSending",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=(0,s.default)(_e.prototype,"messageComposeFailed",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(_e.prototype,"didUpdateArgs",[K],Object.getOwnPropertyDescriptor(_e.prototype,"didUpdateArgs"),_e.prototype),(0,s.default)(_e.prototype,"handleMessageSendSuccess",[$],Object.getOwnPropertyDescriptor(_e.prototype,"handleMessageSendSuccess"),_e.prototype),(0,s.default)(_e.prototype,"handleMessageSendFail",[Y],Object.getOwnPropertyDescriptor(_e.prototype,"handleMessageSendFail"),_e.prototype),(0,s.default)(_e.prototype,"onMentionToInviteDismiss",[Q],Object.getOwnPropertyDescriptor(_e.prototype,"onMentionToInviteDismiss"),_e.prototype),(0,s.default)(_e.prototype,"openInMailReplyPanel",[J],Object.getOwnPropertyDescriptor(_e.prototype,"openInMailReplyPanel"),_e.prototype),(0,s.default)(_e.prototype,"showInmailDeclineReasonModal",[Z],Object.getOwnPropertyDescriptor(_e.prototype,"showInmailDeclineReasonModal"),_e.prototype),(0,s.default)(_e.prototype,"openGIFPopover",[X],Object.getOwnPropertyDescriptor(_e.prototype,"openGIFPopover"),_e.prototype),(0,s.default)(_e.prototype,"closeGIFPopover",[ee],Object.getOwnPropertyDescriptor(_e.prototype,"closeGIFPopover"),_e.prototype),(0,s.default)(_e.prototype,"openVirtualMeetingModal",[te],Object.getOwnPropertyDescriptor(_e.prototype,"openVirtualMeetingModal"),_e.prototype),(0,s.default)(_e.prototype,"toggleConversationMute",[ne],Object.getOwnPropertyDescriptor(_e.prototype,"toggleConversationMute"),_e.prototype),(0,s.default)(_e.prototype,"beforeUpload",[se],Object.getOwnPropertyDescriptor(_e.prototype,"beforeUpload"),_e.prototype),(0,s.default)(_e.prototype,"loadMoreMessages",[ie],Object.getOwnPropertyDescriptor(_e.prototype,"loadMoreMessages"),_e.prototype),(0,s.default)(_e.prototype,"resendMessage",[re],Object.getOwnPropertyDescriptor(_e.prototype,"resendMessage"),_e.prototype),(0,s.default)(_e.prototype,"submitQuickReply",[ae],Object.getOwnPropertyDescriptor(_e.prototype,"submitQuickReply"),_e.prototype),(0,s.default)(_e.prototype,"submitMessage",[oe],Object.getOwnPropertyDescriptor(_e.prototype,"submitMessage"),_e.prototype),(0,s.default)(_e.prototype,"toggleExpandComposeField",[le],Object.getOwnPropertyDescriptor(_e.prototype,"toggleExpandComposeField"),_e.prototype),(0,s.default)(_e.prototype,"updateFormState",[me],Object.getOwnPropertyDescriptor(_e.prototype,"updateFormState"),_e.prototype),(0,s.default)(_e.prototype,"onBeforeFormSubmit",[de],Object.getOwnPropertyDescriptor(_e.prototype,"onBeforeFormSubmit"),_e.prototype),(0,s.default)(_e.prototype,"focusMessageInput",[ce],Object.getOwnPropertyDescriptor(_e.prototype,"focusMessageInput"),_e.prototype),(0,s.default)(_e.prototype,"showMessageEditForm",[ue],Object.getOwnPropertyDescriptor(_e.prototype,"showMessageEditForm"),_e.prototype),(0,s.default)(_e.prototype,"validateForm",[pe],Object.getOwnPropertyDescriptor(_e.prototype,"validateForm"),_e.prototype),(0,s.default)(_e.prototype,"oneClickReplyToMessageRequest",[ge],Object.getOwnPropertyDescriptor(_e.prototype,"oneClickReplyToMessageRequest"),_e.prototype),(0,s.default)(_e.prototype,"onSendCustomInmailReply",[he],Object.getOwnPropertyDescriptor(_e.prototype,"onSendCustomInmailReply"),_e.prototype),(0,s.default)(_e.prototype,"onShareContactInfoAccept",[be],Object.getOwnPropertyDescriptor(_e.prototype,"onShareContactInfoAccept"),_e.prototype),(0,s.default)(_e.prototype,"onShareContactInfoDecline",[fe],Object.getOwnPropertyDescriptor(_e.prototype,"onShareContactInfoDecline"),_e.prototype),(0,s.default)(_e.prototype,"updateSubject",[ve],Object.getOwnPropertyDescriptor(_e.prototype,"updateSubject"),_e.prototype),(0,s.default)(_e.prototype,"markConversationAsRead",[ye],Object.getOwnPropertyDescriptor(_e.prototype,"markConversationAsRead"),_e.prototype),_e)
e.default=rt
Ember._setComponentTemplate(Ye,rt)}))
define("msg-ui/components/virtual-meeting-cta",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,d,c,u,p,g,h
const b=Ember.HTMLBars.template({id:"6FXQsVG/",block:'{"symbols":["@parentRefocusElement","@updateTextarea","@conversation","@conversationUrn","@conversationFeatureTypes","@invertColor","@ctaSize"],"statements":[[8,"product-education@coachmark",[],[["@isVisible"],[[32,0,["showOnboardingNotification"]]]],[["default"],[{"statements":[[2,"\\n  "],[8,"artdeco-button@artdeco-button",[[4,[38,4],["virtual_meeting_entrypoint"],null]],[["@aria-label","@class","@type","@color","@circle","@click","@conversationUrn","@controlType","@icon","@size"],[[30,[36,2],["i18n_open_virtual_meeting_dialog","msg-ui/components/virtual-meeting-cta"],null],"msg-form__footer-action flex-shrink-zero",[30,[36,3],[[32,6],"primary","tertiary"],null],[30,[36,3],[[32,6],"default","muted"],null],true,[32,0,["openVirtualMeetingModal"]],[32,4],"button","video-conference",[32,7]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["isVirtualMeetingContainerOpen"]]],null,[["default"],[{"statements":[[2,"  "],[8,"msg-shared-modals@virtual-meeting-modal",[],[["@refocusElement","@closeVirtualMeetingContainer","@filloutMeetingInvite","@conversation","@conversationUrn","@conversationFeatureTypes"],[[30,[36,0],[[32,1]," .msg-form__contenteditable"],null],[30,[36,1],[[32,0],"isVirtualMeetingContainerOpen",false],null],[32,2],[32,3],[32,4],[32,5]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["concat","ember-set-helper@set","t","if","ember-cli-pemberly-tracking@track-interaction"]}',moduleName:"msg-ui/components/virtual-meeting-cta.hbs"})
let f=(a=Ember._tracked,o=Ember._tracked,l=Ember.inject.service("msg-shared-modals@virtual-meeting-onboarding"),m=Ember.inject.service("prefetch"),d=Ember._action,c=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"isVirtualMeetingContainerOpen",u,this);(0,t.default)(this,"showOnboardingNotification",p,this);(0,t.default)(this,"vmOnboardingService",g,this);(0,t.default)(this,"prefetch",h,this)
this.vmOnboardingService.fetchOnboardingNotification().then((e=>{this.isDestroying||(this.showOnboardingNotification=e)}))}openVirtualMeetingModal(){this.isVirtualMeetingContainerOpen=!0
this.showOnboardingNotification=!1
this.vmOnboardingService.dismissOnboardingNotification()
this.prefetch.prefetchAssets("msg-video-call","d_flagship3_messaging_video_conference").then((()=>{if(!Ember.testing||this.args.testingPrefetchOverride){Ember.getOwner(this).lookup("service:video-call@fetch-client").fetchConferenceClient()}}))}},u=(0,s.default)(c.prototype,"isVirtualMeetingContainerOpen",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=(0,s.default)(c.prototype,"showOnboardingNotification",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=(0,s.default)(c.prototype,"vmOnboardingService",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(c.prototype,"prefetch",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(c.prototype,"openVirtualMeetingModal",[d],Object.getOwnPropertyDescriptor(c.prototype,"openVirtualMeetingModal"),c.prototype),c)
e.default=f
Ember._setComponentTemplate(b,f)}))
define("msg-ui/components/visible-beacon",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@glimmer/component","ember-batcher","global-utils/utils/intersection-observer"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,a
const o=Ember.HTMLBars.template({id:"L9XNM5zQ",block:'{"symbols":["&default"],"statements":[[11,"div"],[4,[38,0],[[32,0,["handleDidInsert"]]],null],[12],[2,"\\n  "],[18,1,null],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert"]}',moduleName:"msg-ui/components/visible-beacon.hbs"})
let l=(r=Ember._action,a=class extends n.default{get buffer(){return this.args.buffer||300}_fireInView(){this.isDestroying||this.args.inView()}handleDidInsert(e){(0,i.onInViewportOnce)(e,(()=>(0,s.mutateDOM)(this._fireInView.bind(this))),{rootMargin:`0px 0px ${this.buffer}px`})}},(0,t.default)(a.prototype,"handleDidInsert",[r],Object.getOwnPropertyDescriptor(a.prototype,"handleDidInsert"),a.prototype),a)
e.default=l
Ember._setComponentTemplate(o,l)}))
define("msg-ui/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="msg-ui/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(e){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}var n=t
e.default=n}))
define.alias("ember-named-blocks-polyfill/helpers/-has-block-params","msg-ui/helpers/-has-block-params")
define.alias("ember-named-blocks-polyfill/helpers/-has-block","msg-ui/helpers/-has-block")
define.alias("ember-named-blocks-polyfill/helpers/-is-named-block-invocation","msg-ui/helpers/-is-named-block-invocation")
define.alias("ember-named-blocks-polyfill/helpers/-named-block-invocation","msg-ui/helpers/-named-block-invocation")
define.alias("ember-truth-helpers/helpers/and","msg-ui/helpers/and")
define("msg-ui/helpers/date-group-heading",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-ui/helpers/is-current-year"],(function(e,t,n,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a,o,l,m,d,c,u
let p=(a=Ember.inject.service("i18n"),o=Ember.inject.service("formatter"),l=Ember.inject.service("date"),m=class extends Ember.Helper{constructor(){super(...arguments);(0,t.default)(this,"i18n",d,this);(0,t.default)(this,"formatter",c,this);(0,t.default)(this,"date",u,this)}compute(e){const t=e[0],n=this.date.now(),s=n-t
let i
if(t>=new Date(n).setHours(0,0,0,0))return this.i18n.lookupTranslation("components/msg-ui@message-list","i18n_today")()
i=s<6048e5?"fmt_d":(0,r.isCurrentYear)(t,this.date)?"fmt_md_medium":"fmt_mdy_medium"
return this.formatter.formatDate(t,i,!0)}},d=(0,s.default)(m.prototype,"i18n",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=(0,s.default)(m.prototype,"formatter",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,s.default)(m.prototype,"date",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m)
e.default=p}))
define.alias("ember-truth-helpers/helpers/equal","msg-ui/helpers/eq")
define("msg-ui/helpers/extract-participant-names",["exports","global-helpers/helpers/name"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.extractParticipantNames=n
e.default=void 0
function n(e){return null==e?void 0:e.map((e=>(0,t.getName)(Ember.get(e,"miniProfile"))))}class s extends Ember.Helper{compute(e){let[t]=e
return n(t)}}e.default=s}))
define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-ui/helpers/format-number")
define("msg-ui/helpers/get-event-seen-receipts",["exports","msg-data/utils/seen-receipts-manager"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=Ember.Helper.helper((e=>{let[n,s,i]=e
return t.default.getEventSeenReceipts(n,s,i)}))
e.default=n}))
define("msg-ui/helpers/group-events",["exports","msg-ui/utils/events-grouper"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=Ember.Helper.helper((e=>{let[n,s,i,r,a]=e
return t.default.groupEvents(n,s,i,r,a)}))
e.default=n}))
define.alias("ember-truth-helpers/helpers/gt","msg-ui/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","msg-ui/helpers/gte")
define("msg-ui/helpers/has-convo-top-banner",["exports","msg-shared/helpers/is-sponsored-conversation"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.hasConvoTopBanner=n
e.default=void 0
function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return(0,t.isSponsoredConversation)(e)}class s extends Ember.Helper{compute(e){let[t]=e
return n(t)}}e.default=s}))
define.alias("ember-truth-helpers/helpers/is-array","msg-ui/helpers/is-array")
define("msg-ui/helpers/is-current-year",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.isCurrentYear=l
e.default=void 0
var r,a,o
function l(e,t){const n=t.now()
return new Date(n).getFullYear()===new Date(e).getFullYear()}let m=(r=Ember.inject.service("date"),a=class extends Ember.Helper{constructor(){super(...arguments);(0,t.default)(this,"dateService",o,this)}compute(e){let[t]=e
return l(t,this.dateService)}},o=(0,s.default)(a.prototype,"dateService",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=m}))
define.alias("ember-truth-helpers/helpers/is-empty","msg-ui/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","msg-ui/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","msg-ui/helpers/li-icon")
define.alias("ember-truth-helpers/helpers/lt","msg-ui/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","msg-ui/helpers/lte")
define.alias("ember-media-player/helpers/media-action-autoplay","msg-ui/helpers/media-action-autoplay")
define.alias("ember-media-player/helpers/media-action-seekto","msg-ui/helpers/media-action-seekto")
define.alias("ember-truth-helpers/helpers/not-equal","msg-ui/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","msg-ui/helpers/not")
define.alias("ember-truth-helpers/helpers/or","msg-ui/helpers/or")
define.alias("ember-app-scheduler/helpers/route-idle","msg-ui/helpers/route-idle")
define.alias("ember-set-helper/helpers/set","msg-ui/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","msg-ui/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","msg-ui/helpers/xor")
define("msg-ui/initializers/artdeco",["exports","artdeco-eyeglass"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=i
e.default=void 0
const n=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function s(e,t){const s=e[t]
e[t]=function(){n.forEach((e=>e&&"function"==typeof e.teardown&&e.teardown()))
s&&"function"==typeof s&&s.call(e)}}function i(e){if("undefined"!=typeof document){n.forEach((e=>e.install()))
"function"==typeof e.willDestroy?s(e,"willDestroy"):"function"==typeof e.destroy&&s(e,"destroy")}}var r={name:"artdeco",initialize:i}
e.default=r}))
define("msg-ui/initializers/icons",["exports","artdeco-icons-web/src/icons","msg-ui/config/environment"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function s(e){throw e}var i={name:"icons",initialize:function(){const{environment:e,APP:i}=n.default
let r,a
i&&({artdecoCustomSpriteUrl:r,artdecoCustomSpriteName:a}=i)
const o="test"!==e
t.default.load(o,r,a).catch(s)}}
e.default=i}))
define.alias("ember-m3/initializers/m3-store","msg-ui/initializers/m3-store")
define("msg-ui/initializers/override-safestring",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=i
e.default=void 0
const t="ember-glimmer",n="ember-htmlbars/utils/string",s="@ember/-internals/glimmer"
function i(){let e,i=Ember.__loader.require.has
if(i(s))e=Ember.__loader.require(s).SafeString
else if(i(t))e=Ember.__loader.require(t).SafeString
else{if(!i(n))throw new Error("Cannot locate SafeString class for overriding")
e=Ember.__loader.require(n).SafeString}e.prototype.toHTML=function(){return jSecure.sanitizeHTML(this.toString())}
e.prototype.toString=function(){return`${this.string}`}}var r={name:"override-safestring",initialize:i}
e.default=r}))
define.alias("video/instance-initializers/media-plugins","msg-ui/instance-initializers/media-plugins")
define.alias("@ember/render-modifiers/modifiers/did-insert","msg-ui/modifiers/did-insert")
define.alias("@ember/render-modifiers/modifiers/did-update","msg-ui/modifiers/did-update")
define.alias("ember-prop-modifier","msg-ui/modifiers/prop")
define.alias("@ember/render-modifiers/modifiers/will-destroy","msg-ui/modifiers/will-destroy")
define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-ui/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","msg-ui/services/artdeco-modal")
define.alias("client-sensor-web/services/client-sensor","msg-ui/services/client-sensor")
define.alias("@linkedin/ember-restli-graphql/services/graphql","msg-ui/services/graphql")
define.alias("@linkedin/ember-pem/services/internal-event-utils","msg-ui/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","msg-ui/services/internal-pem-tracking")
define.alias("ember-m3/services/m3-schema-manager","msg-ui/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","msg-ui/services/media-player")
define("msg-ui/services/messaging-user-settings",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","global-utils/utils/is-browser","msg-shared/utils/constants","msg-data/utils/messaging-settings","global-utils/utils/api-compat"],(function(e,t,n,s,i,r,a,o,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,c,u,p,g,h,b,f
const{ENTER_LOCAL_STORAGE_KEY:v}=a.default
let y=(m=Ember.inject.service("authentication@authenticated-user"),d=Ember.inject.service("profile-services@identity-store"),c=Ember.inject.service("lix"),u=Ember.inject.service("global-services@local-storage"),p=class extends Ember.Service{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",g,this);(0,t.default)(this,"identityStore",h,this);(0,t.default)(this,"lix",b,this);(0,t.default)(this,"ls",f,this)}getMsgSettings(){return r.default?this._getLocalStorageSettings():this._getMsgSettings()}syncUserSettings(){return this._getMsgSettings()}getReadReceiptsAndTypingIndicatorsEnabled(){return(0,o.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",(0,l.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn"))).then((e=>"ALL_ENABLED"===e.get("messagingSeenReceipts")&&"ALL_ENABLED"===e.get("messagingTypingIndicators")))}getRealtimeSettingExplicitlyChosen(){return(0,o.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",(0,l.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn"))).then((e=>e.get("messagingSeenReceipts")&&e.get("messagingTypingIndicators")))}_getLocalStorageSettings(){const e="true"===(this.ls.getItem(v)||"true")
return Ember.Object.create({pressEnterToSend:e})}_getMsgSettings(){const e=(0,l.entityUrnToId)(Ember.get(this,"authenticatedUser.miniProfile.entityUrn"))
return(0,o.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",e).then((e=>{const t=Ember.get(e,"pressEnterToSend")
if(Ember.isEmpty(t))return this._getLocalStorageSettings()
this.ls.setItem(v,t)
return e})).catch((()=>this._getLocalStorageSettings()))}},g=(0,s.default)(p.prototype,"authenticatedUser",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,s.default)(p.prototype,"identityStore",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,s.default)(p.prototype,"lix",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,s.default)(p.prototype,"ls",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
e.default=y}))
define.alias("@linkedin/ember-pem/services/pem-tracking","msg-ui/services/pem-tracking")
define.alias("ember-cli-realtime/services/realtime-api","msg-ui/services/realtime-api")
define.alias("ember-media-player/services/static-asset-loader","msg-ui/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","msg-ui/services/store")
define.alias("ember-singularity/services/unified-event-handler","msg-ui/services/unified-event-handler")
define("msg-ui/services/update-message-compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,a,o
let l=(r=Ember.inject.service("jet"),a=class extends Ember.Service{constructor(){super(...arguments);(0,n.default)(this,"overlayBaseFormSubscriberList",[]);(0,t.default)(this,"jet",o,this)}setBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.push(e):this.pillarBaseForm=e}removeBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.splice(this.overlayBaseFormSubscriberList.indexOf(e),1):this.pillarBaseForm=null}_getBaseFormSubscriber(e,t){return t?this.overlayBaseFormSubscriberList.findBy("bubbleId",e):this.pillarBaseForm}triggerFocusMessageCompose(e){let{bubbleId:t,isOverlay:n}=e
const s=this._getBaseFormSubscriber(t,n)
s?Ember.sendEvent(s,"focusMessageCompose"):this.logErrorForNoBaseFormFound("triggerFocusMessageCompose",t)}triggerUpdateMessageCompose(e){let{bubbleId:t,isOverlay:n,messageText:s}=e
const i=this._getBaseFormSubscriber(t,n)
i?Ember.sendEvent(i,"updateMessageCompose",[s]):this.logErrorForNoBaseFormFound("triggerUpdateMessageCompose",t)}logErrorForNoBaseFormFound(e,t,n){const s=this.overlayBaseFormSubscriberList.map((e=>Ember.get(e,"conversation.entityUrn"))),i=[`${e}()`]
t&&i.push(`bubbleId: ${t}`)
n&&i.push(`conversationUrn: ${n}`)
i.push(`baseFormConversationUrns: ${s.join(", ")}`)
this.jet.error(new Error("No baseFormSubscriber was found from conversation entityUrn"),i)}},o=(0,s.default)(a.prototype,"jet",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=l}))
define("msg-ui/utils/attributed-text-manager",["exports","global-utils/utils/get-ie-version","global-utils/utils/is-browser","rich-text/utils/mentions-texteditor-helpers"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const i={mention:"STRONG",wrapper:"P",newLine:"BR",nonVisual:["STYLE","#comment"],grammarly:"G",text:"#text"},r="msg-form__mention-highlight",a="data-id"
function o(e){return-1!==i.nonVisual.indexOf(e.nodeName)}e.default=class{constructor(){this.resetModel()
n.default?this.needsBlankChar=window.navigator.userAgent.indexOf("Firefox")>-1||this._isIEOrEdgeBrowser():this.needsBlankChar=!1}resetModel(){this.Model={text:"",attributes:[],cursor:0}
this.isBrowser=n.default
this.didAttributesChange=!0
this.EntityMap={}
this.History=new s.History}getModel(){return this.Model}setModel(e){this.History.addToUndo(e)
this.Model=e
return this}updateModelCursorPosition(e){this.History.addToUndo(this.Model)
this.Model={text:this.Model.text,attributes:this.Model.attributes,cursor:e}
return this.Model}updateModelFromHTML(e){const t=e.childNodes
this.History.clearRedo()
this.didAttributesChange=!1
if(""===e.textContent){this.resetModel()
return}let n=0
const s={text:"",attributes:[]}
if(this.needsBlankChar&&1===e.textContent.length){s.text=e.textContent
s.position=1
s.cursor=1
this.setModel(s)
this.didAttributesChange=!0
return}for(let e=0;e<t.length;e+=1){const r=t[e]
if(r.nodeName===i.wrapper){const e=r.childNodes
for(let t=0;t<e.length;t+=1){const i=e[t]
if(this.isMentionNode(i)){const e=i.getAttribute(a),t=this.EntityMap[e]
if(t){const r={start:n,length:i.textContent.length,entity:t,urn:e}
s.attributes.push(r)}}if(!o(i)){s.text+=i.textContent
n+=i.textContent.length}}}if(this._shouldInsertReturn(t,r,e)){s.text+="\n"
n+=1}else if(1===t.length&&1===r.childNodes.length&&r.childNodes[0]===i.newLine){s.text+="\n"
n+=1
s.cursor=1}}if(!s.cursor){const{end:t}=this.getCaretPosition(e)
s.cursor=t}const r=s.text.length<this.Model.text.length
this.cleanModel(s,r)}getCaretPosition(e){return(0,s.getCaretPosition)(e,this.isBrowser)}setCaretPosition(e,t){let n,s,r,a
if(!this.isBrowser)return
n=document.createRange()
s=window.getSelection()
let o=e,l=!1
const m=t.childNodes
for(let e=0;e<m.length;e+=1){let t=!1
const n=m[e].textContent.length
if(o-n>0){o-=n
e<m.length-1&&(o-=1)}else{a=m[e].childNodes
for(r=0;r<a.length;r+=1){const e=a[r].textContent.length
if(!(o-e>0)){a[r].nodeName===i.mention&&(l=!0)
t=!0
break}o-=e}if(t)break}}if(a&&a.length&&r>-1){l?n.setStart(a[r].childNodes[0],o):n.setStart(a[r],o)
n.collapse(!0)
s.removeAllRanges()
s.addRange(n)
t.focus()}}correctClickPosition(e){if(!this.needsBlankChar)return
const{text:t}=this.getModel()
t.length||this.setCaretPosition(0,e)}cleanModel(e,t){const n={text:e.text,attributes:[],cursor:e.cursor}
let s=0
e.attributes.sort(((e,t)=>e.start-t.start))
e.attributes.forEach((i=>{const r=e.text.substr(i.start,i.length)
if(i.mentionInProgress||!this.isMentionEntity(Ember.get(i,"entity.miniProfile.entityUrn"))){n.attributes.push(i)
return}const a=this.EntityMap[i.urn],o=Ember.get(a,"miniProfile")
let{firstName:l="",lastName:m=""}=Ember.getProperties(o,"firstName","lastName")
r.indexOf(`@${l}`)>-1?l=`@${l}`:r.indexOf(`@${m}`)>-1&&(m=`@${m}`)
const d=r.split(" ")
if(d.length>1&&""===d[d.length-1]){d.splice(d.length-1,1)
d[d.length-1]+=" "
this.didAttributesChange=!0}const c=l.split(" ").concat(m.split(" "))
l.match(/[\u3400-\u9FBF]/)&&m.length&&m.match(/[\u3400-\u9FBF]/)&&c.unshift(m+l)
let u=0
for(let e=0;e<c.length;e+=1)if(d[u]&&d[u]===c[e]){if(u===d.length-1){const{start:e,length:t,entity:r,urn:a}=i
n.attributes.push({start:e+s,length:t,entity:r,urn:a})
return}u+=1}else if(!t){this.didAttributesChange=!0
if(u===d.length-1&&d[u]&&0===d[u].indexOf(c[e])){const t=d[u].length-c[e].length,{start:s,length:r,entity:a,urn:o}=i
n.attributes.push({start:s,length:r-t,entity:a,urn:o})
return}if(0===u){const t=d[u].indexOf(c[e])
if(t>0){const{start:e,length:s,entity:r,urn:a}=i
n.attributes.push({start:e+t,length:s-t,entity:r,urn:a})
return}}}if(t){const t=this.generateRemainingMentionText(d,c),{diffPosition:r}=t
let{finalMentionText:a}=t
a=a.indexOf("@")>-1?a:`@${a}`
const o=this.updateModelWithNewMentionText(a,i,e.text,r),{cursor:l,diff:m,mention:u,text:p}=o
s+=m
u&&n.attributes.push(u)
n.text=p
n.cursor=l
this.didAttributesChange=!0}}))
const i=0!==this.getModel().attributes.length,r=0===n.attributes.length
i&&r&&(this.didAttributesChange=!0)
this.setModel(n)}generateRemainingMentionText(e,t){let n,s="",i=0,r=0,a=!1
const o=e
for(let e=0;e<t.length&&i<o.length;e+=1){const l=t[e],m=o[i]
if(m.trim()===l){s+=`${m} `
r=e
i<o.length-1&&(i+=1)}else if(0===m.indexOf(l)){n=s.trim().length
a=!0
const e=m.replace(l,"")
o[i]=e}else if(e===t.length-1&&i<o.length-1){e=r
i+=1
n=s.trim().length
a=!0}else n||a||(n=s.trim().length)}return{finalMentionText:s,diffPosition:n}}updateModelWithNewMentionText(e,t,n,s){if(e&&"@"!==e){const i=e.trim(),r=i.length-t.length,a=n.substr(0,t.start)+i+n.substr(t.start+t.length),o=t.start+s
t.length=i.length
return{text:a,cursor:o,diff:r,mention:t}}delete this.EntityMap[t.urn]
return{text:n.substr(0,t.start)+n.substr(t.start+t.length),cursor:t.start,diff:-t.length}}createHTMLFromModel(){let e="",t=0
const{text:n}=this.Model
if(!n)return jSecure.sanitizeHTML(this._carriageReturnHandler(this.needsBlankChar))
this.Model.attributes.sort(((e,t)=>e.start-t.start)).forEach((s=>{const{start:i,length:r}=s
e=`${e}${jSecure.htmlEncode(n.substring(t,i))}${this.createHTMLForAttribute(s)}`
t=i+r}))
e+=jSecure.htmlEncode(n.substring(t))
return jSecure.sanitizeHTML(e.split("\n").map((e=>Ember.isPresent(e)?jSecure.mk`<${i.wrapper}>${new jSecure.UnsafeString(jSecure.sanitizeHTML(e))}</${i.wrapper}>`:this._carriageReturnHandler(this.needsBlankChar))).join(""))}createHTMLForAttribute(e){let{entity:t,start:n,length:s,mentionInProgress:i}=e
return`<strong class="${i?"msg-form__mention-in-progress":r}" data-id="${jSecure.htmlEncode(t?Ember.get(t,"miniProfile.entityUrn"):"mention-in-progress")}">${jSecure.htmlEncode(this.Model.text.substring(n,n+s))}</strong>`}insertText(e,t){let{start:n,end:s}=t
if(!e)return
const{text:i,attributes:r}=this.Model,a=this._calcOffset(e,i,n),o={attributes:r.reduce(((t,i)=>{if(i.start+i.length<=n)return t.concat(i)
if(i.start>=s){const r={start:n+e.length+(i.start-s),length:i.length,entity:i.entity,urn:i.urn}
return t.concat(r)}return t}),[]),cursor:n+e.length+a,text:`${i.slice(0,n)}${e}${i.slice(s)}`}
this.didAttributesChange=!0
this.setModel(o)
return this}_calcOffset(e,t){let n=0
if(this.needsBlankChar)if("\n"===e){const{length:e}=t,s=" "===t[e-1]?t.slice(0,-1):t
"\n"===s[s.length-1]&&(n=1)}else n=(e.match(/\n\n/g)||[]).length
return n}insertAttribute(e){const t=Ember.getProperties(e,["match","entity","mentionInProgress"]),n=this.getModel(),{text:s}=n,{start:i,end:r}=e.tokenSelection,a=e.match.text.length-(r-i),o={text:`${s.substring(0,i)}${e.match.text}${s.substring(r)}`,attributes:n.attributes.reduce(((e,t)=>{if(t.start>=r){const{start:n,length:s,entity:i,urn:r}=t
e.push({urn:r,length:s,entity:i,start:n+a})}else e.push(t)
return e}),[]),cursor:i+e.match.text.length}
this.didAttributesChange=!0
const l=Ember.get(t,"entity"),m=Ember.get(t,"entity.miniProfile.entityUrn"),d={urn:m,entity:l,start:i,length:t.match.length}
t.mentionInProgress&&(d.mentionInProgress=!0)
o.attributes.push(d)
this.EntityMap[m]=l
this.setModel(o)
return this}removeMentionInProgress(){const e=this.getModel()
e.attributes=e.attributes.filter((e=>!e.mentionInProgress))
this.setModel(e)
this.didAttributesChange=!0}handleUndoRedo(e){let t
t=e.shiftKey?this.History.redo():this.History.undo()
if(t&&t.model){this.setModel(t.model)
this.didAttributesChange=!0}return this}getTextBeforeCursor(e){const{text:t}=this.Model,n=this.Model.attributes.sort(((e,t)=>t.start-e.start)).find((t=>t.entity&&t.start+t.length<=e.start&&this.isMentionEntity(Ember.get(t,"entity.miniProfile.entityUrn"))))
if(n){const s=n.start+n.length
return t.substring(s,e.end)}return t.substring(0,e.end)}isMentionNode(e){return e.className===r&&e.getAttribute(a)}isMentionEntity(e){return e&&e.includes("urn:li:member")||e.includes("miniProfile")||e.includes("urn:li:fs_conversation")}mentionAtPosition(e){return this.getModel().attributes.find((t=>{let{start:n,length:s}=t
return e>=n&&e<=n+s-1}))}_isGrammarly(e){return e.nodeName===i.grammarly&&e.classList.contains("gr_")}_shouldInsertReturn(e,t,n){const{nodeName:s}=t
return n<e.length-1&&!this._isGrammarly(t)&&s!==i.mention&&(s===i.newLine||s!==i.text)}_isIEOrEdgeBrowser(){return!(Ember.testing||!n.default)&&!!(0,t.default)(window.navigator.userAgent)}_carriageReturnHandler(e){return e?jSecure.mk`<${i.wrapper}>&nbsp;<br /></${i.wrapper}>`:jSecure.mk`<${i.wrapper}><br /></${i.wrapper}>`}}}))
define.alias("ember-highcharts/utils/build-options","msg-ui/utils/build-options")
define("msg-ui/utils/conversation-properties",["exports","msg-shared/utils/constants","msg-shared/helpers/is-sponsored-conversation","msg-shared/helpers/is-inmail-conversation"],(function(e,t,n,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.enableUserReplies=function(e){return!e||Ember.get(e,"viewerCurrentParticipant")}
e.getReplyMessageType=function(e){if((0,s.isInmailConversation)(e))return i.INMAIL_REPLY
if((0,n.isSponsoredConversation)(e))return i.SPONSORED_MESSAGE_REPLY
return i.M2M}
const{MESSAGE_TYPE:i}=t.default}))
define("msg-ui/utils/events-grouper",["exports","msg-shared/utils/constants","msg-ui/helpers/has-convo-top-banner","msg-shared/helpers/is-company-profile","msg-data/utils/seen-receipts-manager"],(function(e,t,n,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const{MESSAGE_TYPE:r}=t.default
function a(e,t){if(Ember.get(t,"isSystemMessage")||Ember.get(e,"isSystemMessage"))return!0
const n=Ember.get(t,"from")||{}
return(0,s.isCompanyProfile)(n)?Ember.get(e,"from.miniCompany.id")!==Ember.get(n,"miniCompany.id"):Ember.get(e,"from.miniProfile.id")!==Ember.get(n,"miniProfile.id")}function o(e,t,n){let s=!1
const i=a(e,t)
if(!Ember.get(t,"isSystemMessage")&&i){s=Ember.isEmpty(n)||!a(t,n)?2:1}return s}function l(e,t){if(!Object.keys(e).length&&Ember.get(t,"conversation")&&(0,n.hasConvoTopBanner)(Ember.get(t,"conversation")))return!1
const s=new Date(Number(Ember.get(e,"createdAt"))).setHours(0,0,0,0),i=new Date(Number(Ember.get(t,"createdAt"))).setHours(0,0,0,0),r=Number(i)
return s!==r&&{timestamp:r}}function m(e,t){const n=a(e,t),s=Ember.get(t,"createdAt")-Ember.get(e,"createdAt")>6e4
return n||s}function d(e){return Ember.get(e,"subtype")===r.M2M}function c(e,t){return!(!Ember.get(t,"isSystemMessage")||!d(e)||l(e,t))}function u(e,t){return!(!Ember.get(e,"isSystemMessage")||!d(t)||l(e,t))}function p(e,t){return!(!d(e)||!l(e,t))}var g={groupEvents:function(e,t,n,s,r){let a,d,g
const h=[]
let b
n&&(b=function(e,t,n){for(let s=e.length-1;s>=0;s--){const r=i.default.getEventSeenReceipts(n,t,e[s])
if(r&&r.length>0)return s+1}return-1}(e,s,r))
for(let s=0,i=e.length;s<i;s++){d=e[s]
a=e[s-1]||{}
g=e[s+1]||{}
h.push({id:Ember.guidFor(d.content),messageIndex:i-s-1,event:d,dateBoundary:l(a,d),senderGroupMessageCount:o(a,d,g),showMeta:!!Ember.get(d,"eventContent.recalledAt")||!Ember.get(d,"isSystemMessage")&&m(a,d),isLastInGroup:m(d,g),isSystemMessagePrecededByM2MMessage:c(a,d),isSystemMessageFollowedByM2MMessage:u(d,g),isMessageFollowedByDateBoundary:l(d,g),isM2MMessageFollowedByDateBoundary:p(d,g),isOldestUnreadEvent:s===t,isEventSeenByNone:n?s>=b:null})}return h}}
e.default=g}))
define.alias("ember-cli-realtime/utils/eventsource-polyfill","msg-ui/utils/eventsource-polyfill")
define.alias("client-sensor-web/utils/helpers","msg-ui/utils/helpers")
define("msg-ui/utils/marketplace-project-card-constants",["exports","@linkedin/ember-pem/utils/degradation-tracking-metadata"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MARKETPLACE_PROJECT_DEGRADATION_METADATA=void 0
const n={MARKETPLACE_PROJECT_MESSAGE_CARD:new t.default("marketplace-project-message-card","failed-marketplace-project-message-card",{productName:"Voyager - Services Marketplace",clientSensorGroupName:"service-marketplace",untrackedResponseCodes:[]})}
e.MARKETPLACE_PROJECT_DEGRADATION_METADATA=n}))
define("msg-ui/utils/mentions-helper",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){const n=Ember.get(t,"participants").reduce(((e,t)=>{e.set(Ember.get(t,"miniProfile.entityUrn"),!0)
return e}),new Map)
return e.filter((e=>!n.has(Ember.get(e,"entityUrn"))))}}))
define("msg-ui/utils/message-request-helper",["exports","msg-shared/utils/constants"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.extractMessageRequestMetaData=function(e){const t=Ember.get(e,"contextText.attributes.firstObject")
let s,i
if(Ember.get(t,"type")===n.type){s=Ember.get(t,"miniGroup.eventContent.customContent.group.groupName")
i=n.icon}return{context:s,contextIcon:i}}
const{MESSAGE_REQUEST_CONTEXT_TYPE:{GROUP_NAME:n}}=t.default}))
define("msg-ui/utils/notification-sounds",["exports","global-utils/utils/is-browser"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.soundPlaybackUtils=e.notificationSounds=void 0
const n="https://media.licdn.com/media/",s=t.default&&window.Audio?{TYPING:new window.Audio(`${n}AAMB_wQiAAgAAQAAAAAAAA0WAAAAJGY1ZGY1NGUxLTY2MzUtNDY0OC1hNGYxLWMwYjRiZDdmMWE4Ng.bin`),SEND:new window.Audio(`${n}AAMB_wQiAAgAAQAAAAAAAAukAAAAJDE2NTM5ZDVkLTU0ZWItNDU0ZS1hMTFlLThlNmM3MjFhMGEyNQ.bin`),RECEIVE:new window.Audio(`${n}AAMBAQQiAAgAAQAAAAAAAAriAAAAJDg2ZWY0MzhjLWQ5YTUtNDgyMy1hZjQ3LWYzM2RlOWRjZmZkYg.bin`)}:{}
e.notificationSounds=s
const i={prevTypingSound:null,playSound(e){e===s.TYPING&&(this.prevTypingSound=e)
Ember.testing||e.play()},stopTypingSound(){Ember.testing||!this.prevTypingSound||this.prevTypingSound.paused||this.prevTypingSound.pause()}}
e.soundPlaybackUtils=i}))
define("msg-ui/utils/realtime-onboarding",["exports","global-utils/utils/get-csrf-token"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t,n,s,i){this.legoResolver=e
this.legoTracking=t
this.msgUserSettings=n
this.store=s
this.tracking=i
this._legoWidgetTrackingToken=void 0}run(){this._fetchLegoWidget().then((()=>this.msgUserSettings.getRealtimeSettingExplicitlyChosen())).then((e=>{if(!e){this.tracking.firePageViewEvent("flagship3_messaging_realtime_onboarding")
return this._enableRealtimeSettings()}})).then((()=>this._dismissLegoWidget()))}_fetchLegoWidget(){return this.legoResolver.fireLegoCall({pageKey:"messaging_realtime",slotId:"onboarding",groupId:"onboarding_group",widgetId:"realtime_onboarding"}).then((e=>{if(!e)return Ember.RSVP.reject()
this._legoWidgetTrackingToken=Ember.get(e,"trackingToken")
return e}))}_dismissLegoWidget(){this.legoTracking.sendLegoAction(this._legoWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}_enableRealtimeSettings(){return this.store.adapterFor("-ember-m3").ajax("/psettings/seen-receipts","post",{data:{seenReceiptsEnabled:!0,csrfToken:(0,t.default)()},headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{const t=Ember.get(e,"result.responseCode")
if(200!==t)throw new Error(`failed to set realtime setting, responseCode: ${t}`)}))}}}))
define("msg-ui/utils/reregister-impression-tracking",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){e.on("didTransition",(()=>{this.isDestroying||t()}))}}))
define("msg-ui/utils/send-typing-indicator",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){if(!e)return
if(!t)return
t.adapterFor("application").ajax("/voyager/api/messaging/conversations?action=typing","post",{data:{conversationId:e}}).catch((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{status:t,message:n}=e
if(!(!navigator.onLine||0===t||500===t||n&&n.includes("returned a 500")))throw e}))}}))
define("msg-ui/utils/share-contact-info-helper",["exports","urn-utils"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){const{email:n,number:s,wechatId:i}=e,r={email:(0,t.extractEntityInfoFromUrn)(Ember.get(n,"entityUrn")).id}
s&&(r.phoneNumber={number:s})
i&&(r.wechatId=i)
return r}}))
define.alias("ember-vector-images/utils/vector-url","msg-ui/utils/vector-url")
define("msg-ui/utils/virtual-meeting-constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MEETING_PROVIDERS=void 0
e.MEETING_PROVIDERS={bluejeans:{class:"msg-unrolled-virtual-meeting__icon-bluejeans",controlName:"virtual_meetings_open_link_bluejeans",name:"BlueJeans",regex:/^(https?:\/\/)?(.*\.)?bluejeans\.com\/(\d+)([\/\?].*)?$/},teams:{class:"msg-unrolled-virtual-meeting__icon-teams",controlName:"virtual_meetings_open_link_teams",name:"Microsoft Teams",regex:/^(https?:\/\/)?(.*\.)?teams\.microsoft\.com(:\d+)?\/.+meetup-join.*$/},zoom:{class:"msg-unrolled-virtual-meeting__icon-zoom",controlName:"virtual_meetings_open_link_zoom",name:"Zoom",regex:/^(https?:\/\/)?(.*\.)?zoom\.(com|us)\/.+\/(\d+)([\/\?].*)?$/}}}))

//# sourceMappingURL=engine.map